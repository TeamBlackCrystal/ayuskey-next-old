(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[2431,4586,3378,1223,8423,1004,156,5485],{26051:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,'.eiipwacr[data-v-bcae1c0a]{position:relative;margin:32px 0}.eiipwacr[data-v-bcae1c0a]:not(.inline):first-child{margin-top:8px}.eiipwacr[data-v-bcae1c0a]:not(.inline):last-child{margin-bottom:8px}.eiipwacr>.icon[data-v-bcae1c0a]{position:absolute;top:0;left:0;width:24px;text-align:center;line-height:32px}.eiipwacr>.icon:not(:empty)+.input[data-v-bcae1c0a]{margin-left:28px}.eiipwacr>.input[data-v-bcae1c0a]{display:flex;position:relative}.eiipwacr>.input[data-v-bcae1c0a]:before{content:"";display:block;position:absolute;bottom:0;left:0;right:0;height:1px;background:var(--inputBorder)}.eiipwacr>.input[data-v-bcae1c0a]:after{content:"";display:block;position:absolute;bottom:0;left:0;right:0;height:2px;background:var(--accent);opacity:0;transform:scaleX(.12);transition:border .3s cubic-bezier(.4,0,.2,1),opacity .3s cubic-bezier(.4,0,.2,1),transform .3s cubic-bezier(.4,0,.2,1);will-change:border opacity transform}.eiipwacr>.input>.label[data-v-bcae1c0a]{position:absolute;top:0;left:0;transition:.4s cubic-bezier(.25,.8,.25,1);transition-duration:.3s;font-size:1em;line-height:32px;pointer-events:none;transform-origin:top left;transform:scale(1)}.eiipwacr>.input>select[data-v-bcae1c0a]{display:block;flex:1;width:100%;padding:0;font:inherit;font-weight:400;font-size:1em;height:32px;background:none;border:none;border-radius:0;outline:none;box-shadow:none;appearance:none;-webkit-appearance:none;color:var(--fg)}.eiipwacr>.input>select optgroup[data-v-bcae1c0a],.eiipwacr>.input>select option[data-v-bcae1c0a]{color:var(--fg);background:var(--bg)}.eiipwacr>.input>.prefix[data-v-bcae1c0a],.eiipwacr>.input>.suffix[data-v-bcae1c0a]{display:block;align-self:center;justify-self:center;font-size:1em;line-height:32px;color:var(--inputLabel);pointer-events:none}.eiipwacr>.input>.prefix[data-v-bcae1c0a]:empty,.eiipwacr>.input>.suffix[data-v-bcae1c0a]:empty{display:none}.eiipwacr>.input>.prefix>*[data-v-bcae1c0a],.eiipwacr>.input>.suffix>*[data-v-bcae1c0a]{display:block;min-width:16px}.eiipwacr>.input>.prefix[data-v-bcae1c0a]{padding-right:4px}.eiipwacr>.input>.suffix[data-v-bcae1c0a]{padding-left:4px}.eiipwacr>.text[data-v-bcae1c0a]{margin:6px 0;font-size:.8em}.eiipwacr>.text[data-v-bcae1c0a]:empty{display:none}.eiipwacr>.text *[data-v-bcae1c0a]{margin:0}.eiipwacr.focused>.input[data-v-bcae1c0a]:after{opacity:1;transform:scaleX(1)}.eiipwacr.focused>.input>.label[data-v-bcae1c0a]{color:var(--accent)}.eiipwacr.filled>.input>.label[data-v-bcae1c0a],.eiipwacr.focused>.input>.label[data-v-bcae1c0a]{top:-17px;left:0!important;transform:scale(.75)}',""]),e.exports=o},39887:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".romcojzs[data-v-ceef7994]{padding:0 16px 16px}",""]),e.exports=o},67380:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".ilrvjyvi>.children[data-v-4140cbcc]{padding:16px}",""]),e.exports=o},3260:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".cpjygsrt[data-v-e916a71a]{position:relative;overflow:hidden;background:var(--panel);border:2px solid var(--X12);border-radius:6px}.cpjygsrt[data-v-e916a71a]:hover{border:2px solid var(--X13)}.cpjygsrt.warn[data-v-e916a71a]{border:2px solid #dec44c}.cpjygsrt.error[data-v-e916a71a]{border:2px solid red}.cpjygsrt+.cpjygsrt[data-v-e916a71a]{margin-top:16px}.cpjygsrt>header>.title[data-v-e916a71a]{z-index:1;margin:0;padding:0 16px;line-height:42px;font-size:.9em;font-weight:700;box-shadow:0 1px rgba(0,0,0,.07)}.cpjygsrt>header>.title>[data-icon][data-v-e916a71a]{margin-right:6px}.cpjygsrt>header>.title[data-v-e916a71a]:empty{display:none}.cpjygsrt>header>.buttons[data-v-e916a71a]{position:absolute;z-index:2;top:0;right:0}.cpjygsrt>header>.buttons>button[data-v-e916a71a]{padding:0;width:42px;font-size:.9em;line-height:42px}.cpjygsrt>header>.buttons .drag-handle[data-v-e916a71a]{cursor:move}.cpjygsrt>.warn[data-v-e916a71a]{color:#b19e49;margin:0;padding:16px 16px 0;font-size:14px}.cpjygsrt>.error[data-v-e916a71a]{color:red;margin:0;padding:16px 16px 0;font-size:14px}.cpjygsrt>.body[data-v-e916a71a] .eiipwacr:not(.inline):first-child,.cpjygsrt>.body[data-v-e916a71a] .juejbjww:not(.inline):first-child{margin-top:28px}.cpjygsrt>.body[data-v-e916a71a] .eiipwacr:not(.inline):last-child,.cpjygsrt>.body[data-v-e916a71a] .juejbjww:not(.inline):last-child{margin-bottom:20px}",""]),e.exports=o},44586:(e,t,a)=>{"use strict";var o;a.d(t,{Z:()=>p});var r=new Uint8Array(16);function n(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(r)}const i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const c=function(e){return"string"==typeof e&&i.test(e)};for(var l=[],s=0;s<256;++s)l.push((s+256).toString(16).substr(1));const d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!c(a))throw TypeError("Stringified UUID is invalid");return a};const p=function(e,t,a){var o=(e=e||{}).random||(e.rng||n)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){a=a||0;for(var r=0;r<16;++r)t[a+r]=o[r];return t}return d(o)}},66018:(e,t,a)=>{"use strict";a.d(t,{Z:()=>v});var o=a(55393);const r=(0,o.withScopeId)("data-v-bcae1c0a");(0,o.pushScopeId)("data-v-bcae1c0a");const n={class:"icon",ref:"icon"},i={class:"label",ref:"label"},c={class:"prefix",ref:"prefix"},l={class:"suffix"},s={class:"text"};(0,o.popScopeId)();const d=r(((e,t,a,r,d,p)=>{const u=(0,o.resolveComponent)("Fa");return(0,o.openBlock)(),(0,o.createBlock)("div",{class:["eiipwacr",{focused:e.focused,disabled:e.disabled,filled:e.filled,inline:e.inline}]},[(0,o.createVNode)("div",n,[(0,o.renderSlot)(e.$slots,"icon")],512),(0,o.createVNode)("div",{class:"input",onClick:t[4]||(t[4]=(...t)=>e.focus&&e.focus(...t))},[(0,o.createVNode)("span",i,[(0,o.renderSlot)(e.$slots,"label")],512),(0,o.createVNode)("div",c,[(0,o.renderSlot)(e.$slots,"prefix")],512),(0,o.withDirectives)((0,o.createVNode)("select",{ref:"input","onUpdate:modelValue":t[1]||(t[1]=t=>e.v=t),required:e.required,disabled:e.disabled,onFocus:t[2]||(t[2]=t=>e.focused=!0),onBlur:t[3]||(t[3]=t=>e.focused=!1)},[(0,o.renderSlot)(e.$slots,"default")],40,["required","disabled"]),[[o.vModelSelect,e.v]]),(0,o.createVNode)("div",l,[(0,o.renderSlot)(e.$slots,"suffix",{},(()=>[(0,o.createVNode)(u,{icon:e.faChevronDown},null,8,["icon"])]))])]),(0,o.createVNode)("div",s,[(0,o.renderSlot)(e.$slots,"text")])],2)}));var p=a(51436);const u=(0,o.defineComponent)({props:{value:{required:!1},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},inline:{type:Boolean,required:!1,default:!1}},data:()=>({focused:!1,faChevronDown:p.ptq}),computed:{v:{get(){return this.value},set(e){this.$emit("update:value",e)}},filled:()=>!0},mounted(){this.$refs.prefix&&(this.$refs.label.style.left=this.$refs.prefix.offsetLeft+this.$refs.prefix.offsetWidth+"px")},methods:{focus(){this.$refs.input.focus()}}});a(33599);u.render=d,u.__scopeId="data-v-bcae1c0a";const v=u},13378:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var o=a(55393);const r=(0,o.withScopeId)("data-v-ceef7994");(0,o.pushScopeId)("data-v-ceef7994");const n={class:"romcojzs"};(0,o.popScopeId)();const i=r(((e,t,a,i,c,l)=>{const s=(0,o.resolveComponent)("Fa"),d=(0,o.resolveComponent)("MkSelect"),p=(0,o.resolveComponent)("XBlocks"),u=(0,o.resolveComponent)("XContainer");return(0,o.openBlock)(),(0,o.createBlock)(u,{onRemove:t[4]||(t[4]=()=>e.$emit("remove")),draggable:!0},{header:r((()=>[(0,o.createVNode)(s,{icon:e.faQuestion},null,8,["icon"]),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$ts._pages.blocks.if),1)])),func:r((()=>[(0,o.createVNode)("button",{onClick:t[1]||(t[1]=t=>e.add()),class:"_button"},[(0,o.createVNode)(s,{icon:e.faPlus},null,8,["icon"])])])),default:r((()=>[(0,o.createVNode)("section",n,[(0,o.createVNode)(d,{value:e.value.var,"onUpdate:value":t[2]||(t[2]=t=>e.value.var=t)},{label:r((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$ts._pages.blocks._if.variable),1)])),default:r((()=>[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.hpml.getVarsByType("boolean"),(e=>((0,o.openBlock)(),(0,o.createBlock)("option",{value:e.name},(0,o.toDisplayString)(e.name),9,["value"])))),256)),(0,o.createVNode)("optgroup",{label:e.$ts._pages.script.pageVariables},[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.hpml.getPageVarsByType("boolean"),(e=>((0,o.openBlock)(),(0,o.createBlock)("option",{value:e},(0,o.toDisplayString)(e),9,["value"])))),256))],8,["label"]),(0,o.createVNode)("optgroup",{label:e.$ts._pages.script.enviromentVariables},[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.hpml.getEnvVarsByType("boolean"),(e=>((0,o.openBlock)(),(0,o.createBlock)("option",{value:e},(0,o.toDisplayString)(e),9,["value"])))),256))],8,["label"])])),_:1},8,["value"]),(0,o.createVNode)(p,{class:"children",value:e.value.children,"onUpdate:value":t[3]||(t[3]=t=>e.value.children=t),hpml:e.hpml},null,8,["value","hpml"])])])),_:1})}));var c=a(44586),l=a(51436),s=a(1223),d=a(66018),p=a(10192);const u=(0,o.defineComponent)({components:{XContainer:s.default,MkSelect:d.Z,XBlocks:(0,o.defineAsyncComponent)((()=>Promise.all([a.e(5567),a.e(1473),a.e(893),a.e(156)]).then(a.bind(a,893))))},inject:["getPageBlockList"],props:{value:{required:!0},hpml:{required:!0}},data:()=>({faPlus:l.r8p,faQuestion:l.Psp}),created(){null==this.value.children&&(this.value.children=[]),void 0===this.value.var&&(this.value.var=null)},methods:{async add(){const{canceled:e,result:t}=await p.WZ({type:null,title:this.$ts._pages.chooseBlock,select:{groupedItems:this.getPageBlockList()},showCancelButton:!0});if(e)return;const a=(0,c.Z)();this.value.children.push({id:a,type:t})}}});a(11096);u.render=i,u.__scopeId="data-v-ceef7994";const v=u},28423:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var o=a(55393);const r=(0,o.withScopeId)("data-v-4140cbcc");(0,o.pushScopeId)("data-v-4140cbcc");const n={class:"ilrvjyvi"};(0,o.popScopeId)();const i=r(((e,t,a,i,c,l)=>{const s=(0,o.resolveComponent)("Fa"),d=(0,o.resolveComponent)("XBlocks"),p=(0,o.resolveComponent)("XContainer");return(0,o.openBlock)(),(0,o.createBlock)(p,{onRemove:t[4]||(t[4]=()=>e.$emit("remove")),draggable:!0},{header:r((()=>[(0,o.createVNode)(s,{icon:e.faStickyNote},null,8,["icon"]),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.value.title),1)])),func:r((()=>[(0,o.createVNode)("button",{onClick:t[1]||(t[1]=t=>e.rename()),class:"_button"},[(0,o.createVNode)(s,{icon:e.faPencilAlt},null,8,["icon"])]),(0,o.createVNode)("button",{onClick:t[2]||(t[2]=t=>e.add()),class:"_button"},[(0,o.createVNode)(s,{icon:e.faPlus},null,8,["icon"])])])),default:r((()=>[(0,o.createVNode)("section",n,[(0,o.createVNode)(d,{class:"children",value:e.value.children,"onUpdate:value":t[3]||(t[3]=t=>e.value.children=t),hpml:e.hpml},null,8,["value","hpml"])])])),_:1})}));var c=a(44586),l=a(51436),s=a(56024),d=a(1223),p=a(10192);const u=(0,o.defineComponent)({components:{XContainer:d.default,XBlocks:(0,o.defineAsyncComponent)((()=>Promise.all([a.e(5567),a.e(1473),a.e(893),a.e(5485)]).then(a.bind(a,893))))},inject:["getPageBlockList"],props:{value:{required:!0},hpml:{required:!0}},data:()=>({faStickyNote:s.L4,faPlus:l.r8p,faPencilAlt:l.UJf}),created(){null==this.value.title&&(this.value.title=null),null==this.value.children&&(this.value.children=[])},mounted(){null==this.value.title&&this.rename()},methods:{async rename(){const{canceled:e,result:t}=await p.WZ({title:"Enter title",input:{type:"text",default:this.value.title},showCancelButton:!0});e||(this.value.title=t)},async add(){const{canceled:e,result:t}=await p.WZ({type:null,title:this.$ts._pages.chooseBlock,select:{groupedItems:this.getPageBlockList()},showCancelButton:!0});if(e)return;const a=(0,c.Z)();this.value.children.push({id:a,type:t})}}});a(56039);u.render=i,u.__scopeId="data-v-4140cbcc";const v=u},1223:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>v});var o=a(55393);const r=(0,o.withScopeId)("data-v-e916a71a");(0,o.pushScopeId)("data-v-e916a71a");const n={class:"title"},i={class:"buttons"},c={key:1,class:"drag-handle _button"},l={class:"body"};(0,o.popScopeId)();const s=r(((e,t,a,r,s,d)=>{const p=(0,o.resolveComponent)("Fa");return(0,o.openBlock)(),(0,o.createBlock)("div",{class:["cpjygsrt",{error:null!=e.error,warn:null!=e.warn}]},[(0,o.createVNode)("header",null,[(0,o.createVNode)("div",n,[(0,o.renderSlot)(e.$slots,"header")]),(0,o.createVNode)("div",i,[(0,o.renderSlot)(e.$slots,"func"),e.removable?((0,o.openBlock)(),(0,o.createBlock)("button",{key:0,onClick:t[1]||(t[1]=t=>e.remove()),class:"_button"},[(0,o.createVNode)(p,{icon:e.faTrashAlt},null,8,["icon"])])):(0,o.createCommentVNode)("",!0),e.draggable?((0,o.openBlock)(),(0,o.createBlock)("button",c,[(0,o.createVNode)(p,{icon:e.faBars},null,8,["icon"])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)("button",{onClick:t[2]||(t[2]=t=>e.toggleContent(!e.showBody)),class:"_button"},[e.showBody?((0,o.openBlock)(),(0,o.createBlock)(p,{key:0,icon:e.faAngleUp},null,8,["icon"])):((0,o.openBlock)(),(0,o.createBlock)(p,{key:1,icon:e.faAngleDown},null,8,["icon"]))])])]),null!=e.error?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)("p",{key:0,class:"error"},(0,o.toDisplayString)(e.$t("_pages.script.typeError",{slot:e.error.arg+1,expect:e.$t("script.types."+e.error.expect),actual:e.$t("script.types."+e.error.actual)})),513)),[[o.vShow,e.showBody]]):(0,o.createCommentVNode)("",!0),null!=e.warn?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)("p",{key:1,class:"warn"},(0,o.toDisplayString)(e.$t("_pages.script.thereIsEmptySlot",{slot:e.warn.slot+1})),513)),[[o.vShow,e.showBody]]):(0,o.createCommentVNode)("",!0),(0,o.withDirectives)((0,o.createVNode)("div",l,[(0,o.renderSlot)(e.$slots,"default")],512),[[o.vShow,e.showBody]])],2)}));var d=a(51436),p=a(56024);const u=(0,o.defineComponent)({props:{expanded:{type:Boolean,default:!0},removable:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},error:{required:!1,default:null},warn:{required:!1,default:null}},emits:["toggle","remove"],data(){return{showBody:this.expanded,faTrashAlt:p.I7,faBars:d.xiG,faAngleUp:d.onQ,faAngleDown:d.gc2}},methods:{toggleContent(e){this.showBody=e,this.$emit("toggle",e)},remove(){this.$emit("remove")}}});a(58399);u.render=s,u.__scopeId="data-v-e916a71a";const v=u},33599:(e,t,a)=>{var o=a(26051);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("03940eb0",o,!0,{})},11096:(e,t,a)=>{var o=a(39887);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("a54be4f6",o,!0,{})},56039:(e,t,a)=>{var o=a(67380);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("05442b6e",o,!0,{})},58399:(e,t,a)=>{var o=a(3260);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("b22b7fbc",o,!0,{})}}]);