(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[4996],{62981:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".fdidabkb.center[data-v-731fbae0]{text-align:center}.fdidabkb>.action[data-v-731fbae0],.fdidabkb>.back[data-v-731fbae0]{height:var(--height);width:var(--height)}.fdidabkb>.titleContainer[data-v-731fbae0]{width:calc(100% - var(--height)*2)}.fdidabkb>.titleContainer>.title[data-v-731fbae0]{height:var(--height)}.fdidabkb>.titleContainer>.title>.avatar[data-v-731fbae0]{margin:calc((var(--height) - 32px)/2) 8px calc((var(--height) - 32px)/2) 0;pointer-events:none}",""]),e.exports=o},72048:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".fdidabkb>.back[data-v-731fbae0]{position:absolute;z-index:1;top:0;left:0}.fdidabkb>.action[data-v-731fbae0]{position:absolute;z-index:1;top:0;right:0}.fdidabkb.center>.titleContainer[data-v-731fbae0]{margin:0 auto}.fdidabkb>.titleContainer[data-v-731fbae0]{overflow:auto;white-space:nowrap}.fdidabkb>.titleContainer>.title[data-v-731fbae0]{display:inline-block;vertical-align:bottom;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 16px;position:relative}.fdidabkb>.titleContainer>.title>.indicator[data-v-731fbae0]{position:absolute;top:auto;right:8px;top:8px;color:var(--indicator);font-size:12px;animation:blink 1s infinite}.fdidabkb>.titleContainer>.title>.icon+.text[data-v-731fbae0]{margin-left:8px}.fdidabkb>.titleContainer>.title>.avatar[data-v-731fbae0]{display:inline-block;width:32px;height:32px;vertical-align:bottom}",""]),e.exports=o},33401:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".qvzfzxam[data-v-597de063]{--section-padding:16px;--margin:var(--marginHalf)}.qvzfzxam>.container[data-v-597de063]{position:fixed;width:370px;height:100vh;overflow:auto;box-sizing:border-box}.qvzfzxam>.container>.header[data-v-597de063]{display:flex;position:sticky;z-index:1000;top:0;height:58px;width:100%;line-height:58px;text-align:center;font-weight:700;-webkit-backdrop-filter:blur(32px);backdrop-filter:blur(32px);background-color:var(--header)}.qvzfzxam>.container>.header>._button[data-v-597de063]{height:58px;width:58px}.qvzfzxam>.container>.header>._button[data-v-597de063]:hover{color:var(--fgHighlighted)}.qvzfzxam>.container>.header>.title[data-v-597de063]{flex:1;position:relative}",""]),e.exports=o},17877:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".tray-enter-active[data-v-12bf7dd4],.tray-leave-active[data-v-12bf7dd4]{opacity:1;transform:translateX(0);transition:transform .3s cubic-bezier(.23,1,.32,1),opacity .3s cubic-bezier(.23,1,.32,1)}.tray-enter-from[data-v-12bf7dd4],.tray-leave-active[data-v-12bf7dd4]{opacity:0;transform:translateX(240px)}.tray-back-enter-active[data-v-12bf7dd4],.tray-back-leave-active[data-v-12bf7dd4]{opacity:1;transition:opacity .3s cubic-bezier(.23,1,.32,1)}.tray-back-enter-from[data-v-12bf7dd4],.tray-back-leave-active[data-v-12bf7dd4]{opacity:0}.mk-app[data-v-12bf7dd4]{min-height:calc(var(--vh, 1vh)*100);box-sizing:border-box;display:flex}.mk-app.wallpaper[data-v-12bf7dd4]{background:var(--wallpaperOverlay)}.mk-app>.contents[data-v-12bf7dd4]{width:100%;min-width:0}.mk-app>.contents.withHeader[data-v-12bf7dd4]{padding-top:58px}.mk-app>.contents>.header[data-v-12bf7dd4]{position:fixed;z-index:1000;top:0;height:58px;width:100%;line-height:58px;text-align:center;font-weight:700;-webkit-backdrop-filter:blur(32px);backdrop-filter:blur(32px);background-color:var(--header);user-select:none}.mk-app>.contents>main[data-v-12bf7dd4]{min-width:0}.mk-app>.contents>main>.content>*[data-v-12bf7dd4]{min-height:calc(var(--vh, 1vh)*100 - 58px)}.mk-app>.contents>main>.spacer[data-v-12bf7dd4]{height:82px}@media(min-width:1091px){.mk-app>.contents>main>.spacer[data-v-12bf7dd4]{display:none}}.mk-app>.side[data-v-12bf7dd4]{min-width:370px;max-width:370px}.mk-app>.side[data-v-12bf7dd4],.mk-app>.widgets[data-v-12bf7dd4]{border-left:1px solid var(--divider)}.mk-app>.widgets[data-v-12bf7dd4]{padding:0 var(--margin)}@media(max-width:1090px){.mk-app>.widgets[data-v-12bf7dd4]{display:none}}.mk-app>.widgetButton[data-v-12bf7dd4]{display:block;position:fixed;z-index:1000;bottom:32px;right:32px;width:64px;height:64px;border-radius:100%;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12);font-size:22px;background:var(--panel)}.mk-app>.widgetButton.navHidden[data-v-12bf7dd4]{display:none}@media(min-width:1091px){.mk-app>.widgetButton[data-v-12bf7dd4]{display:none}}.mk-app>.buttons[data-v-12bf7dd4]{position:fixed;z-index:1000;bottom:0;padding:16px;display:flex;width:100%;box-sizing:border-box;-webkit-backdrop-filter:blur(32px);backdrop-filter:blur(32px);background-color:var(--header)}.mk-app>.buttons[data-v-12bf7dd4]:not(.navHidden){display:none}.mk-app>.buttons>.button[data-v-12bf7dd4]{position:relative;flex:1;padding:0;margin:auto;height:64px;border-radius:8px;background:var(--panel);color:var(--fg)}.mk-app>.buttons>.button[data-v-12bf7dd4]:not(:last-child){margin-right:12px}@media(max-width:400px){.mk-app>.buttons>.button[data-v-12bf7dd4]{height:60px}.mk-app>.buttons>.button[data-v-12bf7dd4]:not(:last-child){margin-right:8px}}.mk-app>.buttons>.button[data-v-12bf7dd4]:hover{background:var(--X2)}.mk-app>.buttons>.button>i[data-v-12bf7dd4]{position:absolute;top:0;left:0;color:var(--indicator);font-size:16px;animation:blink 1s infinite}.mk-app>.buttons>.button[data-v-12bf7dd4]:first-child{margin-left:0}.mk-app>.buttons>.button[data-v-12bf7dd4]:last-child{margin-right:0}.mk-app>.buttons>.button>*[data-v-12bf7dd4]{font-size:22px}.mk-app>.buttons>.button[data-v-12bf7dd4]:disabled{cursor:default}.mk-app>.buttons>.button:disabled>*[data-v-12bf7dd4]{opacity:.5}.mk-app>.tray-back[data-v-12bf7dd4]{z-index:1001}.mk-app>.tray[data-v-12bf7dd4]{position:fixed;top:0;right:0;z-index:1001;height:calc(var(--vh, 1vh)*100);padding:var(--margin);box-sizing:border-box;overflow:auto;background:var(--bg)}",""]),e.exports=o},16554:(e,t,a)=>{"use strict";a.d(t,{Z:()=>p});var o=a(55393);const n=(0,o.withScopeId)("data-v-731fbae0");(0,o.pushScopeId)("data-v-731fbae0");const i={class:"titleContainer"},d={class:"title"},r={key:2,class:"text"};(0,o.popScopeId)();const s=n(((e,t,a,s,c,l)=>{const p=(0,o.resolveComponent)("Fa"),h=(0,o.resolveComponent)("MkAvatar"),f=(0,o.resolveComponent)("MkUserName");return(0,o.openBlock)(),(0,o.createBlock)("div",{class:["fdidabkb",{center:e.center}],style:`--height:${e.height};`},[(0,o.createVNode)(o.Transition,{name:e.$store.state.animation?"header":"",mode:"out-in",appear:""},{default:n((()=>[e.withBack&&e.canBack?((0,o.openBlock)(),(0,o.createBlock)("button",{key:0,class:"_button back",onClick:t[1]||(t[1]=(0,o.withModifiers)((t=>e.back()),["stop"]))},[(0,o.createVNode)(p,{icon:e.faChevronLeft},null,8,["icon"])])):(0,o.createCommentVNode)("",!0)])),_:1},8,["name"]),e.info?((0,o.openBlock)(),(0,o.createBlock)(o.Fragment,{key:0},[(0,o.createVNode)("div",i,[(0,o.createVNode)("div",d,[e.info.icon?((0,o.openBlock)(),(0,o.createBlock)(p,{icon:e.info.icon,key:e.info.icon,class:"icon"},null,8,["icon"])):e.info.avatar?((0,o.openBlock)(),(0,o.createBlock)(h,{key:1,class:"avatar",user:e.info.avatar,"disable-preview":!0},null,8,["user"])):(0,o.createCommentVNode)("",!0),e.info.title?((0,o.openBlock)(),(0,o.createBlock)("span",r,(0,o.toDisplayString)(e.info.title),1)):e.info.userName?((0,o.openBlock)(),(0,o.createBlock)(f,{key:3,user:e.info.userName,nowrap:!1,class:"text"},null,8,["user"])):(0,o.createCommentVNode)("",!0)])]),e.info.action?((0,o.openBlock)(),(0,o.createBlock)("button",{key:0,class:"_button action",onClick:t[2]||(t[2]=(0,o.withModifiers)(((...t)=>e.info.action.handler&&e.info.action.handler(...t)),["stop"]))},[(0,o.createVNode)(p,{icon:e.info.action.icon,key:e.info.action.icon},null,8,["icon"])])):(0,o.createCommentVNode)("",!0)],64)):(0,o.createCommentVNode)("",!0)],6)}));var c=a(51436);const l=(0,o.defineComponent)({props:{info:{required:!0},withBack:{type:Boolean,required:!1,default:!0},center:{type:Boolean,required:!1,default:!0}},data:()=>({canBack:!1,height:0,faChevronLeft:c.A35,faCircle:c.diR}),watch:{$route:{handler(e,t){this.canBack=window.history.length>0&&!["index"].includes(e.name)},immediate:!0}},mounted(){this.height=this.$el.parentElement.offsetHeight+"px",new ResizeObserver(((e,t)=>{this.height=this.$el.parentElement.offsetHeight+"px"})).observe(this.$el)},methods:{back(){this.canBack&&this.$router.back()}}});a(94805),a(45715);l.render=s,l.__scopeId="data-v-731fbae0";const p=l},84996:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>T});var o=a(55393);const n=(0,o.withScopeId)("data-v-12bf7dd4");(0,o.pushScopeId)("data-v-12bf7dd4");const i={ref:"main"},d={class:"content"},r=(0,o.createVNode)("div",{class:"spacer"},null,-1),s={key:1,class:"widgets"},c={ref:"widgetsSpacer"},l={key:0},p={key:0};(0,o.popScopeId)();const h=n(((e,t,a,h,f,b)=>{const v=(0,o.resolveComponent)("XSidebar"),u=(0,o.resolveComponent)("XHeader"),m=(0,o.resolveComponent)("router-view"),k=(0,o.resolveComponent)("XSide"),g=(0,o.resolveComponent)("XWidgets"),w=(0,o.resolveComponent)("Fa"),x=(0,o.resolveComponent)("XCommon");return(0,o.openBlock)(),(0,o.createBlock)("div",{class:["mk-app",{wallpaper:e.wallpaper}]},[(0,o.createVNode)(v,{ref:"nav",class:"sidebar"},null,512),(0,o.createVNode)("div",{class:["contents",{withHeader:e.$store.state.titlebar}],ref:"contents",onContextmenu:t[2]||(t[2]=(0,o.withModifiers)(((...t)=>e.onContextmenu&&e.onContextmenu(...t)),["stop"]))},[e.$store.state.titlebar?((0,o.openBlock)(),(0,o.createBlock)("header",{key:0,class:"header",ref:"header",onClick:t[1]||(t[1]=(...t)=>e.onHeaderClick&&e.onHeaderClick(...t))},[(0,o.createVNode)(u,{info:e.pageInfo},null,8,["info"])],512)):(0,o.createCommentVNode)("",!0),(0,o.createVNode)("main",i,[(0,o.createVNode)("div",d,[(0,o.createVNode)(m,null,{default:n((({Component:t})=>[(0,o.createVNode)(o.Transition,{name:e.$store.state.animation?"page":"",mode:"out-in",onEnter:e.onTransition},{default:n((()=>[((0,o.openBlock)(),(0,o.createBlock)(o.KeepAlive,{include:["timeline"]},[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(t),{ref:e.changePage},null,512))],1024))])),_:2},1032,["name","onEnter"])])),_:1})]),r],512)],34),e.isDesktop?((0,o.openBlock)(),(0,o.createBlock)(k,{key:0,class:"side",ref:"side"},null,512)):(0,o.createCommentVNode)("",!0),e.isDesktop?((0,o.openBlock)(),(0,o.createBlock)("div",s,[(0,o.createVNode)("div",c,null,512),(0,o.createVNode)(g,{onMounted:e.attachSticky},null,8,["onMounted"])])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)("div",{class:["buttons",{navHidden:e.navHidden}]},[(0,o.createVNode)("button",{class:"button nav _button",onClick:t[3]||(t[3]=(...t)=>e.showNav&&e.showNav(...t)),ref:"navButton"},[(0,o.createVNode)(w,{icon:e.faBars},null,8,["icon"]),e.navIndicated?((0,o.openBlock)(),(0,o.createBlock)("i",l,[(0,o.createVNode)(w,{icon:e.faCircle},null,8,["icon"])])):(0,o.createCommentVNode)("",!0)],512),(0,o.createVNode)("button",{class:"button home _button",onClick:t[4]||(t[4]=t=>"index"===e.$route.name?e.top():e.$router.push("/"))},[(0,o.createVNode)(w,{icon:e.faHome},null,8,["icon"])]),(0,o.createVNode)("button",{class:"button notifications _button",onClick:t[5]||(t[5]=t=>e.$router.push("/my/notifications"))},[(0,o.createVNode)(w,{icon:e.faBell},null,8,["icon"]),e.$i.hasUnreadNotification?((0,o.openBlock)(),(0,o.createBlock)("i",p,[(0,o.createVNode)(w,{icon:e.faCircle},null,8,["icon"])])):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)("button",{class:"button widget _button",onClick:t[6]||(t[6]=t=>e.widgetsShowing=!0)},[(0,o.createVNode)(w,{icon:e.faLayerGroup},null,8,["icon"])]),(0,o.createVNode)("button",{class:"button post _button",onClick:t[7]||(t[7]=(...t)=>e.post&&e.post(...t))},[(0,o.createVNode)(w,{icon:e.faPencilAlt},null,8,["icon"])])],2),(0,o.createVNode)("button",{class:["widgetButton _button",{navHidden:e.navHidden}],onClick:t[8]||(t[8]=t=>e.widgetsShowing=!0)},[(0,o.createVNode)(w,{icon:e.faLayerGroup},null,8,["icon"])],2),(0,o.createVNode)(o.Transition,{name:"tray-back"},{default:n((()=>[e.widgetsShowing?((0,o.openBlock)(),(0,o.createBlock)("div",{key:0,class:"tray-back _modalBg",onClick:t[9]||(t[9]=t=>e.widgetsShowing=!1),onTouchstartPassive:t[10]||(t[10]=t=>e.widgetsShowing=!1)},null,32)):(0,o.createCommentVNode)("",!0)])),_:1}),(0,o.createVNode)(o.Transition,{name:"tray"},{default:n((()=>[e.widgetsShowing?((0,o.openBlock)(),(0,o.createBlock)(g,{key:0,class:"tray"})):(0,o.createCommentVNode)("",!0)])),_:1}),(0,o.createVNode)(x)],2)}));var f=a(51436),b=a(56024),v=a(34862);class u{constructor(e,t,a=0){this.lastScrollTop=0,this.isTop=!1,this.isBottom=!1,this.el=e,this.spacer=t,this.marginTop=a}calc(e){if(e>this.lastScrollTop){const t=this.el.clientHeight-window.innerHeight;this.el.style.bottom=null,this.el.style.top=-t+"px",this.isBottom=e+window.innerHeight>=this.el.offsetTop+this.el.clientHeight,this.isTop&&(this.isTop=!1,this.spacer.style.marginTop=this.lastScrollTop+"px")}else{const t=this.el.clientHeight-window.innerHeight;if(this.el.style.top=null,this.el.style.bottom=-t-this.marginTop+"px",this.isTop=e<=this.el.offsetTop,this.isBottom){this.isBottom=!1;const e=this.el.clientHeight-window.innerHeight;this.spacer.style.marginTop=this.lastScrollTop-(e+this.marginTop)+"px"}}this.lastScrollTop=e<=0?0:e}}var m=a(11598),k=a(96316),g=a(16554);const w=(0,o.withScopeId)("data-v-597de063");(0,o.pushScopeId)("data-v-597de063");const x={key:0,class:"qvzfzxam _narrow_"},y={class:"container"},C={key:1,class:"_button",style:{"pointer-events":"none"}};(0,o.popScopeId)();const N=w(((e,t,a,n,i,d)=>{const r=(0,o.resolveComponent)("Fa"),s=(0,o.resolveComponent)("XHeader");return e.component?((0,o.openBlock)(),(0,o.createBlock)("div",x,[(0,o.createVNode)("div",y,[(0,o.createVNode)("header",{class:"header",onContextmenu:t[3]||(t[3]=(0,o.withModifiers)(((...t)=>e.onContextmenu&&e.onContextmenu(...t)),["prevent","stop"]))},[e.history.length>0?((0,o.openBlock)(),(0,o.createBlock)("button",{key:0,class:"_button",onClick:t[1]||(t[1]=t=>e.back())},[(0,o.createVNode)(r,{icon:e.faChevronLeft},null,8,["icon"])])):((0,o.openBlock)(),(0,o.createBlock)("button",C)),(0,o.createVNode)(s,{class:"title",info:e.pageInfo,"with-back":!1},null,8,["info"]),(0,o.createVNode)("button",{class:"_button",onClick:t[2]||(t[2]=t=>e.close())},[(0,o.createVNode)(r,{icon:e.faTimes},null,8,["icon"])])],32),((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(e.component),(0,o.mergeProps)(e.props,{ref:e.changePage}),null,16))])])):(0,o.createCommentVNode)("",!0)}));var B=a(10192),V=a(70037),z=a(87272);const $=(0,o.defineComponent)({components:{XHeader:g.Z},provide(){return{navHook:e=>{this.navigate(e)}}},data:()=>({path:null,component:null,props:{},pageInfo:null,history:[],faTimes:f.NBC,faChevronLeft:f.A35}),computed:{url(){return v.HQ+this.path}},methods:{changePage(e){null!=e&&e.INFO&&(this.pageInfo=e.INFO)},navigate(e,t=!0){t&&this.path&&this.history.push(this.path),this.path=e;const{component:a,props:o}=(0,z.D)(e);this.component=a,this.props=o},back(){this.navigate(this.history.pop(),!1)},close(){this.path=null,this.component=null,this.props={}},onContextmenu(e){B.zC([{type:"label",text:this.path},{icon:f.TTL,text:this.$ts.showInPage,action:()=>{this.$router.push(this.path),this.close()}},{icon:f.iAX,text:this.$ts.openInWindow,action:()=>{B.$(this.path),this.close()}},null,{icon:f.Xjp,text:this.$ts.openInNewTab,action:()=>{window.open(this.url,"_blank"),this.close()}},{icon:f.nNP,text:this.$ts.copyLink,action:()=>{(0,V.Z)(this.url)}}],e)}}});a(78093);$.render=N,$.__scopeId="data-v-597de063";const I=$;var H=a(3216);const S=(0,o.defineComponent)({components:{XCommon:k.Z,XSidebar:m.Z,XHeader:g.Z,XWidgets:(0,o.defineAsyncComponent)((()=>Promise.all([a.e(9851),a.e(2256)]).then(a.bind(a,42256)))),XSide:I},provide(){return{sideViewHook:this.isDesktop?e=>{this.$refs.side.navigate(e)}:null}},data:()=>({pageInfo:null,isDesktop:window.innerWidth>=1100,menuDef:H.c,navHidden:!1,widgetsShowing:!1,wallpaper:null!=localStorage.getItem("wallpaper"),faLayerGroup:f.Krp,faBars:f.xiG,faBell:b.qm,faHome:f.J9Y,faCircle:f.diR,faPencilAlt:f.UJf}),computed:{navIndicated(){for(const e in this.menuDef)if("notifications"!==e&&this.menuDef[e].indicated)return!0;return!1}},created(){document.documentElement.style.overflowY="scroll",0===this.$store.state.widgets.length&&this.$store.set("widgets",[{name:"calendar",id:"a",place:"right",data:{}},{name:"notifications",id:"b",place:"right",data:{}},{name:"trends",id:"c",place:"right",data:{}}])},mounted(){this.adjustUI();new ResizeObserver(((e,t)=>{this.adjustUI()})).observe(this.$refs.contents),window.addEventListener("resize",this.adjustUI,{passive:!0}),this.isDesktop||window.addEventListener("resize",(()=>{window.innerWidth>=1100&&(this.isDesktop=!0)}),{passive:!0})},methods:{changePage(e){null!=e&&e.INFO&&(this.pageInfo=e.INFO,document.title=`${this.pageInfo.title} | ${v.Vc}`)},adjustUI(){const e=this.$refs.nav.$el.offsetWidth;if(this.navHidden=0===e,null==this.$refs.contents)return;const t=this.$refs.contents.offsetWidth;this.$refs.header&&(this.$refs.header.style.width=t+"px")},showNav(){this.$refs.nav.show()},attachSticky(e){const t=new u(e,this.$refs.widgetsSpacer);window.addEventListener("scroll",(()=>{t.calc(window.scrollY)}),{passive:!0})},post(){B.v_()},top(){window.scroll({top:0,behavior:"smooth"})},onTransition(){window._scroll&&window._scroll()},onHeaderClick(){window.scroll({top:0,behavior:"smooth"})},onContextmenu(e){const t=e=>"A"===e.tagName||(e.parentElement?t(e.parentElement):void 0);if(t(e.target))return;if(["INPUT","TEXTAREA"].includes(e.target.tagName)||e.target.attributes.contenteditable)return;if(""!==window.getSelection().toString())return;const a=this.$route.path;B.zC([{type:"label",text:a},{icon:f.rWw,text:this.$ts.openInSideView,action:()=>{this.$refs.side.navigate(a)}},{icon:f.iAX,text:this.$ts.openInWindow,action:()=>{B.$(a)}}],e)}}});a(71237);S.render=h,S.__scopeId="data-v-12bf7dd4";const T=S},94805:(e,t,a)=>{var o=a(62981);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("9cf5f4d0",o,!0,{})},45715:(e,t,a)=>{var o=a(72048);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("35999f4e",o,!0,{})},78093:(e,t,a)=>{var o=a(33401);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("0fa6bf0a",o,!0,{})},71237:(e,t,a)=>{var o=a(17877);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("4d05ca02",o,!0,{})}}]);