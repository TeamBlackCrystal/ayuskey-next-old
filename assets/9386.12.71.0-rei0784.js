(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[9386],{57823:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".fpezltsf[data-v-b3732a2e]{margin:16px 0;padding:16px;font-size:90%;background:var(--infoBg);color:var(--infoFg);border-radius:var(--radius)}.fpezltsf.warn[data-v-b3732a2e]{background:var(--infoWarnBg);color:var(--infoWarnFg)}.fpezltsf[data-v-b3732a2e]:first-child{margin-top:0}.fpezltsf[data-v-b3732a2e]:last-child{margin-bottom:0}.fpezltsf>i[data-v-b3732a2e]{margin-right:4px}",""]),e.exports=a},62981:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".fdidabkb.center[data-v-731fbae0]{text-align:center}.fdidabkb>.back[data-v-731fbae0]{height:var(--height);width:var(--height)}.fdidabkb>.action[data-v-731fbae0]{height:var(--height);width:var(--height)}.fdidabkb>.titleContainer[data-v-731fbae0]{width:calc(100% - var(--height)*2)}.fdidabkb>.titleContainer>.title[data-v-731fbae0]{height:var(--height)}.fdidabkb>.titleContainer>.title>.avatar[data-v-731fbae0]{margin:calc((var(--height) - 32px)/2) 8px calc((var(--height) - 32px)/2) 0;pointer-events:none}",""]),e.exports=a},72048:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".fdidabkb>.back[data-v-731fbae0]{position:absolute;z-index:1;top:0;left:0}.fdidabkb>.action[data-v-731fbae0]{position:absolute;z-index:1;top:0;right:0}.fdidabkb.center>.titleContainer[data-v-731fbae0]{margin:0 auto}.fdidabkb>.titleContainer[data-v-731fbae0]{overflow:auto;white-space:nowrap}.fdidabkb>.titleContainer>.title[data-v-731fbae0]{display:inline-block;vertical-align:bottom;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 16px;position:relative}.fdidabkb>.titleContainer>.title>.indicator[data-v-731fbae0]{position:absolute;top:auto;right:8px;top:8px;color:var(--indicator);font-size:12px;animation:blink 1s infinite}.fdidabkb>.titleContainer>.title>.icon+.text[data-v-731fbae0]{margin-left:8px}.fdidabkb>.titleContainer>.title>.avatar[data-v-731fbae0]{display:inline-block;width:32px;height:32px;vertical-align:bottom}",""]),e.exports=a},19210:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".hmjzthxl>.list-move{transition:transform .7s cubic-bezier(.23,1,.32,1)}.hmjzthxl>.list-enter-active{transition:transform .7s cubic-bezier(.23,1,.32,1),opacity .7s cubic-bezier(.23,1,.32,1)}.hmjzthxl>.list-enter-from{opacity:0;transform:translateY(-64px)}.hmjzthxl>.list-reversed-enter-active,.hmjzthxl>.list-reversed-leave-active{transition:transform .7s cubic-bezier(.23,1,.32,1),opacity .7s cubic-bezier(.23,1,.32,1)}.hmjzthxl>.list-reversed-enter-from{opacity:0;transform:translateY(64px)}",""]),e.exports=a},53608:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,'.hmjzthxl>.separator{text-align:center;position:relative}.hmjzthxl>.separator:before{content:"";display:block;position:absolute;top:50%;left:0;right:0;margin:auto;width:calc(100% - 32px);height:1px;background:var(--divider)}.hmjzthxl>.separator>.date{display:inline-block;position:relative;margin:0;padding:0 16px;line-height:32px;text-align:center;font-size:12px;color:var(--dateLabelFg);background:var(--panel)}.hmjzthxl>.separator>.date>span:first-child{margin-right:8px}.hmjzthxl>.separator>.date>span:first-child>.icon{margin-right:8px}.hmjzthxl>.separator>.date>span:last-child{margin-left:8px}.hmjzthxl>.separator>.date>span:last-child>.icon{margin-left:8px}',""]),e.exports=a},18517:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".acemodlh[data-v-2d0a2ac5]{opacity:.7;font-size:.85em;line-height:1em;text-align:center}",""]),e.exports=a},69372:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".mk-app[data-v-33fd183f]{height:calc(var(--vh, 1vh)*100);display:flex}.mk-app>.nav[data-v-33fd183f]{display:flex;flex-direction:column;width:250px;height:100vh;border-right:1px solid var(--divider)}.mk-app>.nav>.footer[data-v-33fd183f],.mk-app>.nav>.header[data-v-33fd183f]{display:flex;align-items:center;z-index:1000;height:54px;padding:8px;box-sizing:border-box;user-select:none}.mk-app>.nav>.footer.header[data-v-33fd183f],.mk-app>.nav>.header.header[data-v-33fd183f]{border-bottom:1px solid var(--divider)}.mk-app>.nav>.footer.footer[data-v-33fd183f],.mk-app>.nav>.header.footer[data-v-33fd183f]{border-top:1px solid var(--divider)}.mk-app>.nav>.footer>.left>.item[data-v-33fd183f],.mk-app>.nav>.footer>.left>.menu[data-v-33fd183f],.mk-app>.nav>.footer>.right>.item[data-v-33fd183f],.mk-app>.nav>.footer>.right>.menu[data-v-33fd183f],.mk-app>.nav>.header>.left>.item[data-v-33fd183f],.mk-app>.nav>.header>.left>.menu[data-v-33fd183f],.mk-app>.nav>.header>.right>.item[data-v-33fd183f],.mk-app>.nav>.header>.right>.menu[data-v-33fd183f]{display:inline-block;vertical-align:middle;height:38px;width:38px;box-sizing:border-box;position:relative;border-radius:5px}.mk-app>.nav>.footer>.left>.item[data-v-33fd183f]:hover,.mk-app>.nav>.footer>.left>.menu[data-v-33fd183f]:hover,.mk-app>.nav>.footer>.right>.item[data-v-33fd183f]:hover,.mk-app>.nav>.footer>.right>.menu[data-v-33fd183f]:hover,.mk-app>.nav>.header>.left>.item[data-v-33fd183f]:hover,.mk-app>.nav>.header>.left>.menu[data-v-33fd183f]:hover,.mk-app>.nav>.header>.right>.item[data-v-33fd183f]:hover,.mk-app>.nav>.header>.right>.menu[data-v-33fd183f]:hover{background:rgba(0,0,0,.05)}.mk-app>.nav>.footer>.left>.item>.icon[data-v-33fd183f],.mk-app>.nav>.footer>.left>.menu>.icon[data-v-33fd183f],.mk-app>.nav>.footer>.right>.item>.icon[data-v-33fd183f],.mk-app>.nav>.footer>.right>.menu>.icon[data-v-33fd183f],.mk-app>.nav>.header>.left>.item>.icon[data-v-33fd183f],.mk-app>.nav>.header>.left>.menu>.icon[data-v-33fd183f],.mk-app>.nav>.header>.right>.item>.icon[data-v-33fd183f],.mk-app>.nav>.header>.right>.menu>.icon[data-v-33fd183f]{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}.mk-app>.nav>.footer>.left>.item>i[data-v-33fd183f],.mk-app>.nav>.footer>.left>.menu>i[data-v-33fd183f],.mk-app>.nav>.footer>.right>.item>i[data-v-33fd183f],.mk-app>.nav>.footer>.right>.menu>i[data-v-33fd183f],.mk-app>.nav>.header>.left>.item>i[data-v-33fd183f],.mk-app>.nav>.header>.left>.menu>i[data-v-33fd183f],.mk-app>.nav>.header>.right>.item>i[data-v-33fd183f],.mk-app>.nav>.header>.right>.menu>i[data-v-33fd183f]{position:absolute;top:8px;right:8px;color:var(--indicator);font-size:8px;line-height:8px;animation:blink 1s infinite}.mk-app>.nav>.footer>.left[data-v-33fd183f],.mk-app>.nav>.header>.left[data-v-33fd183f]{flex:1;min-width:0}.mk-app>.nav>.footer>.left>.account[data-v-33fd183f],.mk-app>.nav>.header>.left>.account[data-v-33fd183f]{display:flex;align-items:center;padding:0 8px}.mk-app>.nav>.footer>.left>.account>.avatar[data-v-33fd183f],.mk-app>.nav>.header>.left>.account>.avatar[data-v-33fd183f]{width:26px;height:26px;margin-right:8px}.mk-app>.nav>.footer>.left>.account>.text[data-v-33fd183f],.mk-app>.nav>.header>.left>.account>.text[data-v-33fd183f]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:.9em}.mk-app>.nav>.footer>.right[data-v-33fd183f],.mk-app>.nav>.header>.right[data-v-33fd183f]{margin-left:auto}.mk-app>.nav>.body[data-v-33fd183f]{flex:1;min-width:0;overflow:auto}.mk-app>.nav>.body>.container[data-v-33fd183f]{margin-top:8px;margin-bottom:8px}.mk-app>.nav>.body>.container+.container[data-v-33fd183f]{margin-top:16px}.mk-app>.nav>.body>.container>.header[data-v-33fd183f]{display:flex;font-size:.9em;padding:8px 16px;position:sticky;top:0;background:var(--X17);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);z-index:1;color:var(--fgTransparentWeak)}.mk-app>.nav>.body>.container>.header>.add[data-v-33fd183f]{margin-left:auto;color:var(--fgTransparentWeak)}.mk-app>.nav>.body>.container>.header>.add[data-v-33fd183f]:hover{color:var(--fg)}.mk-app>.nav>.body>.container>.body[data-v-33fd183f]{padding:0 8px}.mk-app>.nav>.body>.container>.body>.item[data-v-33fd183f]{display:block;padding:6px 8px;border-radius:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mk-app>.nav>.body>.container>.body>.item[data-v-33fd183f]:hover{text-decoration:none;background:rgba(0,0,0,.05)}.mk-app>.nav>.body>.container>.body>.item.active[data-v-33fd183f],.mk-app>.nav>.body>.container>.body>.item.active[data-v-33fd183f]:hover{background:var(--accent);color:#fff!important}.mk-app>.nav>.body>.container>.body>.item.read[data-v-33fd183f]{color:var(--fgTransparent)}.mk-app>.nav>.body>.container>.body>.item>.icon[data-v-33fd183f]{margin-right:8px;opacity:.6}.mk-app>.main[data-v-33fd183f]{display:flex;flex:1;flex-direction:column;min-width:0;height:100vh;position:relative;background:var(--panel)}.mk-app>.main>.header[data-v-33fd183f]{display:flex;z-index:1000;height:54px;padding:8px;box-sizing:border-box;background-color:var(--panel);border-bottom:1px solid var(--divider);user-select:none}.mk-app>.main>.header>.left[data-v-33fd183f]{display:flex;align-items:center;flex:1;min-width:0}.mk-app>.main>.header>.left>.icon[data-v-33fd183f]{height:38px;width:38px;padding:10px;box-sizing:border-box;margin-right:4px;opacity:.6}.mk-app>.main>.header>.left>.title[data-v-33fd183f]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;min-width:0;font-weight:700}.mk-app>.main>.header>.left>.title>.description[data-v-33fd183f]{opacity:.6;font-size:.8em;font-weight:400;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mk-app>.main>.header>.right[data-v-33fd183f]{display:flex;align-items:center;min-width:0;margin-left:auto;padding-left:8px}.mk-app>.main>.header>.right>.instance[data-v-33fd183f]{margin-right:16px;font-size:.9em}.mk-app>.main>.header>.right>.clock[data-v-33fd183f]{margin-right:16px}.mk-app>.main>.header>.right>.button[data-v-33fd183f]{height:38px;width:38px;box-sizing:border-box;position:relative;border-radius:5px}.mk-app>.main>.header>.right>.button[data-v-33fd183f]:hover{background:rgba(0,0,0,.05)}.mk-app>.main>.header>.right>.button.follow.followed[data-v-33fd183f]{color:var(--accent)}.mk-app>.side[data-v-33fd183f]{width:350px;border-left:1px solid var(--divider)}@media(max-width:1400px){.mk-app>.side.widgets.sideViewOpening[data-v-33fd183f]{display:none}}",""]),e.exports=a},87294:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".dehvdgxo[data-v-24ea1aea]{display:flex;align-items:baseline;white-space:nowrap;font-size:.9em}.dehvdgxo>.name[data-v-24ea1aea]{display:block;margin:0 .5em 0 0;padding:0;overflow:hidden;font-size:1em;font-weight:700;text-decoration:none;text-overflow:ellipsis}.dehvdgxo>.name[data-v-24ea1aea]:hover{text-decoration:underline}.dehvdgxo>.is-bot[data-v-24ea1aea]{flex-shrink:0;align-self:center;margin:0 .5em 0 0;padding:1px 6px;font-size:80%;border:1px solid var(--divider);border-radius:3px}.dehvdgxo>.admin[data-v-24ea1aea],.dehvdgxo>.moderator[data-v-24ea1aea]{margin-right:.5em;color:var(--badge)}.dehvdgxo>.username[data-v-24ea1aea]{margin:0 .5em 0 0;overflow:hidden;text-overflow:ellipsis}.dehvdgxo>.info[data-v-24ea1aea]{font-size:.9em;opacity:.7}.dehvdgxo>.info>.mobile[data-v-24ea1aea]{margin-right:8px}.dehvdgxo>.info>.visibility[data-v-24ea1aea]{margin-left:8px}.dehvdgxo>.info>.localOnly[data-v-24ea1aea]{margin-left:8px}",""]),e.exports=a},62079:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".hduudsxk[data-v-3df8a798]{display:flex;margin:0;padding:0;overflow:hidden;font-size:.95em}@media(min-width:350px){.hduudsxk>.avatar[data-v-3df8a798]{margin:0 10px 0 0;width:44px;height:44px}}@media(min-width:500px){.hduudsxk>.avatar[data-v-3df8a798]{margin:0 12px 0 0;width:48px;height:48px}}.hduudsxk>.avatar[data-v-3df8a798]{flex-shrink:0;display:block;margin:0 10px 0 0;width:40px;height:40px;border-radius:8px}.hduudsxk>.main[data-v-3df8a798]{flex:1;min-width:0}.hduudsxk>.main>.header[data-v-3df8a798]{margin-bottom:2px}.hduudsxk>.main>.body>.cw[data-v-3df8a798]{cursor:default;display:block;margin:0;padding:0;overflow-wrap:break-word}.hduudsxk>.main>.body>.cw>.text[data-v-3df8a798]{margin-right:8px}.hduudsxk>.main>.body>.content>.text[data-v-3df8a798]{cursor:default;margin:0;padding:0}",""]),e.exports=a},87538:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".wrpstxzv[data-v-8957fed8]{padding:16px;font-size:.8em}.wrpstxzv.children[data-v-8957fed8]{padding:10px 0 0 16px;font-size:1em}.wrpstxzv>.main[data-v-8957fed8]{display:flex}.wrpstxzv>.main>.avatar[data-v-8957fed8]{flex-shrink:0;display:block;margin:0 8px 0 0;width:36px;height:36px}.wrpstxzv>.main>.body[data-v-8957fed8]{flex:1;min-width:0}.wrpstxzv>.main>.body>.header[data-v-8957fed8]{margin-bottom:2px}.wrpstxzv>.main>.body>.body>.cw[data-v-8957fed8]{cursor:default;display:block;margin:0;padding:0;overflow-wrap:break-word}.wrpstxzv>.main>.body>.body>.cw>.text[data-v-8957fed8]{margin-right:8px}.wrpstxzv>.main>.body>.body>.content>.text[data-v-8957fed8]{margin:0;padding:0}.wrpstxzv>.reply[data-v-8957fed8]{border-left:1px solid var(--divider);margin-top:10px}",""]),e.exports=a},85968:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".vfzoeqcg[data-v-3045a5f7]{position:relative;contain:content}.vfzoeqcg[data-v-3045a5f7]:focus{outline:none}.vfzoeqcg[data-v-3045a5f7]:hover{background:rgba(0,0,0,.05)}.vfzoeqcg.operating>.article>.main>.footer[data-v-3045a5f7],.vfzoeqcg:hover>.article>.main>.footer[data-v-3045a5f7]{display:block}.vfzoeqcg.renote[data-v-3045a5f7]{background:rgba(128,255,0,.05)}.vfzoeqcg.highlighted[data-v-3045a5f7]{background:rgba(255,128,0,.05)}.vfzoeqcg>.info[data-v-3045a5f7]{display:flex;align-items:center;padding:12px 16px 4px;line-height:24px;font-size:85%;white-space:pre;color:#d28a3f}.vfzoeqcg>.info>[data-icon][data-v-3045a5f7]{margin-right:4px}.vfzoeqcg>.info>.hide[data-v-3045a5f7]{margin-left:16px;color:inherit;opacity:.7}.vfzoeqcg>.info+.article[data-v-3045a5f7]{padding-top:8px}.vfzoeqcg>.reply-to[data-v-3045a5f7]{opacity:.7;padding-bottom:0}.vfzoeqcg>.renote[data-v-3045a5f7]{display:flex;align-items:center;padding:12px 16px 4px;line-height:28px;white-space:pre;color:var(--renote);font-size:.9em}.vfzoeqcg>.renote>.avatar[data-v-3045a5f7]{flex-shrink:0;display:inline-block;width:28px;height:28px;margin:0 8px 0 0;border-radius:6px}.vfzoeqcg>.renote>[data-icon][data-v-3045a5f7]{margin-right:4px}.vfzoeqcg>.renote>span[data-v-3045a5f7]{overflow:hidden;flex-shrink:1;text-overflow:ellipsis;white-space:nowrap}.vfzoeqcg>.renote>span>.name[data-v-3045a5f7]{font-weight:700}.vfzoeqcg>.renote>.info[data-v-3045a5f7]{margin-left:8px;font-size:.9em;opacity:.7}.vfzoeqcg>.renote>.info>.time[data-v-3045a5f7]{flex-shrink:0;color:inherit}.vfzoeqcg>.renote>.info>.time>.dropdownIcon[data-v-3045a5f7]{margin-right:4px}.vfzoeqcg>.renote>.info>.visibility[data-v-3045a5f7]{margin-left:8px}.vfzoeqcg>.renote>.info>.localOnly[data-v-3045a5f7]{margin-left:8px}.vfzoeqcg>.renote+.article[data-v-3045a5f7]{padding-top:8px}.vfzoeqcg>.article[data-v-3045a5f7]{display:flex;padding:12px 16px}.vfzoeqcg>.article>.avatar[data-v-3045a5f7]{flex-shrink:0;display:block;position:sticky;top:0;margin:0 14px 0 0;width:46px;height:46px}.vfzoeqcg>.article>.main[data-v-3045a5f7]{flex:1;min-width:0}.vfzoeqcg>.article>.main>.body>.cw[data-v-3045a5f7]{cursor:default;display:block;margin:0;padding:0;overflow-wrap:break-word}.vfzoeqcg>.article>.main>.body>.cw>.text[data-v-3045a5f7]{margin-right:8px}.vfzoeqcg>.article>.main>.body>.content.collapsed[data-v-3045a5f7]{position:relative;max-height:9em;overflow:hidden}.vfzoeqcg>.article>.main>.body>.content.collapsed>.fade[data-v-3045a5f7]{display:block;position:absolute;bottom:0;left:0;width:100%;height:64px;background:linear-gradient(0deg,var(--panel),var(--X15))}.vfzoeqcg>.article>.main>.body>.content.collapsed>.fade>span[data-v-3045a5f7]{display:inline-block;background:var(--panel);padding:6px 10px;font-size:.8em;border-radius:999px;box-shadow:0 2px 6px rgba(0,0,0,.2)}.vfzoeqcg>.article>.main>.body>.content.collapsed>.fade:hover>span[data-v-3045a5f7]{background:var(--panelHighlight)}.vfzoeqcg>.article>.main>.body>.content>.text[data-v-3045a5f7]{overflow-wrap:break-word}.vfzoeqcg>.article>.main>.body>.content>.text>.reply[data-v-3045a5f7]{color:var(--accent);margin-right:.5em}.vfzoeqcg>.article>.main>.body>.content>.text>.rp[data-v-3045a5f7]{margin-left:4px;font-style:oblique;color:var(--renote)}.vfzoeqcg>.article>.main>.body>.content>.files[data-v-3045a5f7]{max-width:500px}.vfzoeqcg>.article>.main>.body>.content>.url-preview[data-v-3045a5f7]{margin-top:8px;max-width:500px}.vfzoeqcg>.article>.main>.body>.content>.poll[data-v-3045a5f7]{font-size:80%;max-width:500px}.vfzoeqcg>.article>.main>.body>.content>.renote[data-v-3045a5f7]{padding:8px 0}.vfzoeqcg>.article>.main>.body>.content>.renote>*[data-v-3045a5f7]{padding:16px;border:1px dashed var(--renote);border-radius:8px}.vfzoeqcg>.article>.main>.body>.channel[data-v-3045a5f7]{opacity:.7;font-size:80%}.vfzoeqcg>.article>.main>.footer[data-v-3045a5f7]{display:none;position:absolute;top:8px;right:8px;padding:0 6px;opacity:.7}.vfzoeqcg>.article>.main>.footer[data-v-3045a5f7]:hover{opacity:1}.vfzoeqcg>.article>.main>.footer>.button[data-v-3045a5f7]{margin:0;padding:8px;opacity:.7}.vfzoeqcg>.article>.main>.footer>.button[data-v-3045a5f7]:hover{color:var(--accent)}.vfzoeqcg>.article>.main>.footer>.button>.count[data-v-3045a5f7]{display:inline;margin:0 0 0 8px;opacity:.7}.vfzoeqcg>.article>.main>.footer>.button.reacted[data-v-3045a5f7]{color:var(--accent)}.vfzoeqcg>.reply[data-v-3045a5f7]{border-top:1px solid var(--divider)}.muted[data-v-3045a5f7]{padding:8px 16px;opacity:.7}.muted[data-v-3045a5f7]:hover{background:rgba(0,0,0,.05)}",""]),e.exports=a},33250:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".pxiwixjf[data-v-4d948147]{position:relative;border:1px solid var(--divider);border-radius:8px}.pxiwixjf>.form>.preview[data-v-4d948147]{padding:16px}.pxiwixjf>.form>.with-quote[data-v-4d948147]{margin:0 0 8px;color:var(--accent)}.pxiwixjf>.form>.with-quote>button[data-v-4d948147]{padding:4px 8px;color:var(--accentAlpha04)}.pxiwixjf>.form>.with-quote>button[data-v-4d948147]:hover{color:var(--accentAlpha06)}.pxiwixjf>.form>.with-quote>button[data-v-4d948147]:active{color:var(--accentDarken30)}.pxiwixjf>.form>.to-specified[data-v-4d948147]{padding:6px 24px;margin-bottom:8px;overflow:auto;white-space:nowrap}.pxiwixjf>.form>.to-specified>.visibleUsers[data-v-4d948147]{display:inline;top:-1px;font-size:14px}.pxiwixjf>.form>.to-specified>.visibleUsers>button[data-v-4d948147]{padding:4px;border-radius:8px}.pxiwixjf>.form>.to-specified>.visibleUsers>span[data-v-4d948147]{margin-right:14px;padding:8px 0 8px 8px;border-radius:8px;background:var(--X4)}.pxiwixjf>.form>.to-specified>.visibleUsers>span>button[data-v-4d948147]{padding:4px 8px}.pxiwixjf>.form>.cw[data-v-4d948147],.pxiwixjf>.form>.text[data-v-4d948147]{display:block;box-sizing:border-box;padding:16px;margin:0;width:100%;font-size:16px;border:none;border-radius:0;background:transparent;color:var(--fg);font-family:inherit}.pxiwixjf>.form>.cw[data-v-4d948147]:focus,.pxiwixjf>.form>.text[data-v-4d948147]:focus{outline:none}.pxiwixjf>.form>.cw[data-v-4d948147]:disabled,.pxiwixjf>.form>.text[data-v-4d948147]:disabled{opacity:.5}.pxiwixjf>.form>.cw[data-v-4d948147]{z-index:1;padding-bottom:8px;border-bottom:1px solid var(--divider)}.pxiwixjf>.form>.text[data-v-4d948147]{max-width:100%;min-width:100%;min-height:60px}.pxiwixjf>.form>.text.withCw[data-v-4d948147]{padding-top:8px}.pxiwixjf>.form>footer[data-v-4d948147]{display:flex;padding:0 8px 8px;line-height:44px}.pxiwixjf>.form>footer>.left>button[data-v-4d948147]{display:inline-block;padding:0;margin:0;font-size:16px;width:44px;height:44px;border-radius:6px}.pxiwixjf>.form>footer>.left>button[data-v-4d948147]:hover{background:var(--X5)}.pxiwixjf>.form>footer>.left>button.active[data-v-4d948147]{color:var(--accent)}.pxiwixjf>.form>footer>.right[data-v-4d948147]{margin-left:auto}.pxiwixjf>.form>footer>.right>.text-count[data-v-4d948147]{opacity:.7}.pxiwixjf>.form>footer>.right>.visibility[data-v-4d948147]{width:44px;margin:0 8px}.pxiwixjf>.form>footer>.right>.visibility+.localOnly[data-v-4d948147]{margin-left:0!important}.pxiwixjf>.form>footer>.right>.local-only[data-v-4d948147]{margin:0 0 0 12px;opacity:.7}.pxiwixjf>.form>footer>.right>.submit[data-v-4d948147]{margin:0;padding:0 12px;line-height:34px;font-weight:700;border-radius:4px}.pxiwixjf>.form>footer>.right>.submit[data-v-4d948147]:disabled{opacity:.7}.pxiwixjf>.form>footer>.right>.submit>[data-icon][data-v-4d948147]{margin-left:6px}",""]),e.exports=a},50662:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".mrajymqm[data-v-3aee906c]{--section-padding:16px;--margin:var(--marginHalf);height:100%;overflow:auto;box-sizing:border-box}.mrajymqm>.header[data-v-3aee906c]{display:flex;position:sticky;z-index:1000;top:0;height:54px;width:100%;line-height:54px;font-weight:700;-webkit-backdrop-filter:blur(32px);backdrop-filter:blur(32px);background-color:var(--header);border-bottom:1px solid var(--divider);box-sizing:border-box}.mrajymqm>.header>._button[data-v-3aee906c]{height:54px;width:54px}.mrajymqm>.header>._button[data-v-3aee906c]:hover{color:var(--fgHighlighted)}.mrajymqm>.header>.title[data-v-3aee906c]{flex:1;position:relative}",""]),e.exports=a},30610:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".wrmlmaau[data-v-f7faaf2c]{overflow-wrap:break-word}.wrmlmaau>.body>.reply[data-v-f7faaf2c]{margin-right:6px;color:var(--accent)}.wrmlmaau>.body>.rp[data-v-f7faaf2c]{margin-left:4px;font-style:oblique;color:var(--renote)}",""]),e.exports=a},5433:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,'.dbiokgaf.info[data-v-57b0e17e],.dbiokgaf.top[data-v-57b0e17e]{padding:16px 16px 0}.dbiokgaf.bottom[data-v-57b0e17e]{padding:0 16px 16px;position:relative}.dbiokgaf.bottom>.typers[data-v-57b0e17e]{position:absolute;bottom:100%;padding:0 8px;font-size:.9em;background:var(--panel);border-radius:0 8px 0 0;color:var(--fgTransparentWeak)}.dbiokgaf.bottom>.typers>.users>.user+.user[data-v-57b0e17e]:before{content:", ";font-weight:400}.dbiokgaf.bottom>.typers>.users>.user[data-v-57b0e17e]:last-of-type:after{content:" "}.dbiokgaf.tl[data-v-57b0e17e]{position:relative;padding:16px 0;flex:1;min-width:0;overflow:auto}.dbiokgaf.tl>.new[data-v-57b0e17e]{position:fixed;z-index:1000}.dbiokgaf.tl>.new>button[data-v-57b0e17e]{display:block;margin:16px auto;padding:8px 16px;border-radius:32px}',""]),e.exports=a},76860:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".qydbhufi[data-v-41ada334]{height:100%;box-sizing:border-box;overflow:auto;padding:var(--margin)}.qydbhufi[data-v-41ada334] ._panel{box-shadow:none}",""]),e.exports=a},54223:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});var a=o(51533);const i={mounted(e,t,o){if(!1===t.value)return;let i=!0;const n=(0,a.JX)(e);n.addEventListener("scroll",(()=>{const e=(0,a.wA)(n),t=n.clientHeight,o=n.scrollHeight;i=e+t>o-32}),{passive:!0}),n.scrollTop=n.scrollHeight;const s=new ResizeObserver(((e,t)=>{if(i){const e=n.scrollHeight;n.scrollTop=e}}));s.observe(e),e._ro_=s},unmounted(e,t,o){e._ro_&&e._ro_.unobserve(e)}}},61921:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var a=o(55393);const i=(0,a.withScopeId)("data-v-b3732a2e");(0,a.pushScopeId)("data-v-b3732a2e");const n={key:0},s={key:1};(0,a.popScopeId)();const r=i(((e,t,o,i,r,l)=>{const c=(0,a.resolveComponent)("Fa");return(0,a.openBlock)(),(0,a.createBlock)("div",{class:["fpezltsf",{warn:e.warn}]},[e.warn?((0,a.openBlock)(),(0,a.createBlock)("i",n,[(0,a.createVNode)(c,{icon:e.faExclamationTriangle},null,8,["icon"])])):((0,a.openBlock)(),(0,a.createBlock)("i",s,[(0,a.createVNode)(c,{icon:e.faInfoCircle},null,8,["icon"])])),(0,a.renderSlot)(e.$slots,"default")],2)}));var l=o(51436);const c=(0,a.defineComponent)({props:{warn:{type:Boolean,required:!1,default:!1}},data:()=>({faInfoCircle:l.sqG,faExclamationTriangle:l.eHv})});o(43476);c.render=r,c.__scopeId="data-v-b3732a2e";const d=c},16554:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var a=o(55393);const i=(0,a.withScopeId)("data-v-731fbae0");(0,a.pushScopeId)("data-v-731fbae0");const n={class:"titleContainer"},s={class:"title"},r={key:2,class:"text"};(0,a.popScopeId)();const l=i(((e,t,o,l,c,d)=>{const p=(0,a.resolveComponent)("Fa"),h=(0,a.resolveComponent)("MkAvatar"),f=(0,a.resolveComponent)("MkUserName");return(0,a.openBlock)(),(0,a.createBlock)("div",{class:["fdidabkb",{center:e.center}],style:`--height:${e.height};`},[(0,a.createVNode)(a.Transition,{name:e.$store.state.animation?"header":"",mode:"out-in",appear:""},{default:i((()=>[e.withBack&&e.canBack?((0,a.openBlock)(),(0,a.createBlock)("button",{key:0,class:"_button back",onClick:t[1]||(t[1]=(0,a.withModifiers)((t=>e.back()),["stop"]))},[(0,a.createVNode)(p,{icon:e.faChevronLeft},null,8,["icon"])])):(0,a.createCommentVNode)("",!0)])),_:1},8,["name"]),e.info?((0,a.openBlock)(),(0,a.createBlock)(a.Fragment,{key:0},[(0,a.createVNode)("div",n,[(0,a.createVNode)("div",s,[e.info.icon?((0,a.openBlock)(),(0,a.createBlock)(p,{icon:e.info.icon,key:e.info.icon,class:"icon"},null,8,["icon"])):e.info.avatar?((0,a.openBlock)(),(0,a.createBlock)(h,{key:1,class:"avatar",user:e.info.avatar,"disable-preview":!0},null,8,["user"])):(0,a.createCommentVNode)("",!0),e.info.title?((0,a.openBlock)(),(0,a.createBlock)("span",r,(0,a.toDisplayString)(e.info.title),1)):e.info.userName?((0,a.openBlock)(),(0,a.createBlock)(f,{key:3,user:e.info.userName,nowrap:!1,class:"text"},null,8,["user"])):(0,a.createCommentVNode)("",!0)])]),e.info.action?((0,a.openBlock)(),(0,a.createBlock)("button",{key:0,class:"_button action",onClick:t[2]||(t[2]=(0,a.withModifiers)(((...t)=>e.info.action.handler&&e.info.action.handler(...t)),["stop"]))},[(0,a.createVNode)(p,{icon:e.info.action.icon,key:e.info.action.icon},null,8,["icon"])])):(0,a.createCommentVNode)("",!0)],64)):(0,a.createCommentVNode)("",!0)],6)}));var c=o(51436);const d=(0,a.defineComponent)({props:{info:{required:!0},withBack:{type:Boolean,required:!1,default:!0},center:{type:Boolean,required:!1,default:!0}},data:()=>({canBack:!1,height:0,faChevronLeft:c.A35,faCircle:c.diR}),watch:{$route:{handler(e,t){this.canBack=window.history.length>0&&!["index"].includes(e.name)},immediate:!0}},mounted(){this.height=this.$el.parentElement.offsetHeight+"px",new ResizeObserver(((e,t)=>{this.height=this.$el.parentElement.offsetHeight+"px"})).observe(this.$el)},methods:{back(){this.canBack&&this.$router.back()}}});o(94805),o(45715);d.render=l,d.__scopeId="data-v-731fbae0";const p=d},49386:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>Zo});var a=o(55393);const i=(0,a.withScopeId)("data-v-33fd183f");(0,a.pushScopeId)("data-v-33fd183f");const n={class:"nav"},s={class:"header"},r={class:"left"},l={class:"right"},c={key:0},d={key:0},p={key:0},h={key:0},f={class:"body"},m={class:"container"},u={class:"header"},v={class:"body"},g={key:0,class:"container"},k={class:"header"},b={class:"body"},y={key:1,class:"container"},x={class:"header"},N={class:"body"},w={key:2,class:"container"},C={class:"header"},V={class:"body"},B={key:3,class:"container"},$={class:"header"},S={class:"body"},D={class:"container"},I={class:"body"},_={class:"footer"},z={class:"left"},q={class:"right"},T={class:"left"},j={class:"title"},A={class:"title"},M={class:"title"},F={class:"title"},O={key:0,class:"title"},P={class:"description"},U={class:"right"},R={class:"instance"};(0,a.popScopeId)();const X=i(((e,t,o,X,Z,W)=>{const L=(0,a.resolveComponent)("XSidebar"),H=(0,a.resolveComponent)("MkAvatar"),E=(0,a.resolveComponent)("Fa"),J=(0,a.resolveComponent)("MkA"),Q=(0,a.resolveComponent)("XHeaderClock"),K=(0,a.resolveComponent)("XTimeline"),G=(0,a.resolveComponent)("XSide"),Y=(0,a.resolveComponent)("XWidgets"),ee=(0,a.resolveComponent)("XCommon"),te=(0,a.resolveDirective)("tooltip");return(0,a.openBlock)(),(0,a.createBlock)("div",{class:"mk-app",onContextmenu:t[17]||(t[17]=(0,a.withModifiers)(((...t)=>e.onContextmenu&&e.onContextmenu(...t)),["self","prevent"]))},[(0,a.createVNode)(L,{ref:"menu",class:"menu","default-hidden":!0},null,512),(0,a.createVNode)("div",n,[(0,a.createVNode)("header",s,[(0,a.createVNode)("div",r,[(0,a.createVNode)("button",{class:"_button account",onClick:t[1]||(t[1]=(...t)=>e.openAccountMenu&&e.openAccountMenu(...t))},[(0,a.createVNode)(H,{user:e.$i,class:"avatar"},null,8,["user"])])]),(0,a.createVNode)("div",l,[(0,a.withDirectives)((0,a.createVNode)(J,{class:"item",to:"/my/messaging"},{default:i((()=>[(0,a.createVNode)(E,{class:"icon",icon:e.faComments},null,8,["icon"]),e.$i.hasUnreadMessagingMessage?((0,a.openBlock)(),(0,a.createBlock)("i",c,[(0,a.createVNode)(E,{icon:e.faCircle},null,8,["icon"])])):(0,a.createCommentVNode)("",!0)])),_:1},512),[[te,e.$ts.messaging]]),(0,a.withDirectives)((0,a.createVNode)(J,{class:"item",to:"/my/messages"},{default:i((()=>[(0,a.createVNode)(E,{class:"icon",icon:e.faEnvelope},null,8,["icon"]),e.$i.hasUnreadSpecifiedNotes?((0,a.openBlock)(),(0,a.createBlock)("i",d,[(0,a.createVNode)(E,{icon:e.faCircle},null,8,["icon"])])):(0,a.createCommentVNode)("",!0)])),_:1},512),[[te,e.$ts.directNotes]]),(0,a.withDirectives)((0,a.createVNode)(J,{class:"item",to:"/my/mentions"},{default:i((()=>[(0,a.createVNode)(E,{class:"icon",icon:e.faAt},null,8,["icon"]),e.$i.hasUnreadMentions?((0,a.openBlock)(),(0,a.createBlock)("i",p,[(0,a.createVNode)(E,{icon:e.faCircle},null,8,["icon"])])):(0,a.createCommentVNode)("",!0)])),_:1},512),[[te,e.$ts.mentions]]),(0,a.withDirectives)((0,a.createVNode)(J,{class:"item",to:"/my/notifications"},{default:i((()=>[(0,a.createVNode)(E,{class:"icon",icon:e.faBell},null,8,["icon"]),e.$i.hasUnreadNotification?((0,a.openBlock)(),(0,a.createBlock)("i",h,[(0,a.createVNode)(E,{icon:e.faCircle},null,8,["icon"])])):(0,a.createCommentVNode)("",!0)])),_:1},512),[[te,e.$ts.notifications]])])]),(0,a.createVNode)("div",f,[(0,a.createVNode)("div",m,[(0,a.createVNode)("div",u,(0,a.toDisplayString)(e.$ts.timeline),1),(0,a.createVNode)("div",v,[(0,a.createVNode)(J,{to:"/timeline/home",class:["item",{active:"home"===e.tl}]},{default:i((()=>[(0,a.createVNode)(E,{icon:e.faHome,class:"icon"},null,8,["icon"]),(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts._timelines.home),1)])),_:1},8,["class"]),(0,a.createVNode)(J,{to:"/timeline/local",class:["item",{active:"local"===e.tl}]},{default:i((()=>[(0,a.createVNode)(E,{icon:e.faComments,class:"icon"},null,8,["icon"]),(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts._timelines.local),1)])),_:1},8,["class"]),(0,a.createVNode)(J,{to:"/timeline/social",class:["item",{active:"social"===e.tl}]},{default:i((()=>[(0,a.createVNode)(E,{icon:e.faShareAlt,class:"icon"},null,8,["icon"]),(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts._timelines.social),1)])),_:1},8,["class"]),(0,a.createVNode)(J,{to:"/timeline/global",class:["item",{active:"global"===e.tl}]},{default:i((()=>[(0,a.createVNode)(E,{icon:e.faGlobe,class:"icon"},null,8,["icon"]),(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts._timelines.global),1)])),_:1},8,["class"])])]),e.followedChannels?((0,a.openBlock)(),(0,a.createBlock)("div",g,[(0,a.createVNode)("div",k,[(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts.channel)+" ("+(0,a.toDisplayString)(e.$ts.following)+")",1),(0,a.createVNode)("button",{class:"_button add",onClick:t[2]||(t[2]=(...t)=>e.addChannel&&e.addChannel(...t))},[(0,a.createVNode)(E,{icon:e.faPlus},null,8,["icon"])])]),(0,a.createVNode)("div",b,[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(e.followedChannels,(t=>((0,a.openBlock)(),(0,a.createBlock)(J,{key:t.id,to:"/channels/"+t.id,class:["item",{active:e.tl==="channel:"+t.id,read:!t.hasUnreadNote}]},{default:i((()=>[(0,a.createVNode)(E,{icon:e.faSatelliteDish,class:"icon"},null,8,["icon"]),(0,a.createTextVNode)((0,a.toDisplayString)(t.name),1)])),_:2},1032,["to","class"])))),128))])])):(0,a.createCommentVNode)("",!0),e.featuredChannels?((0,a.openBlock)(),(0,a.createBlock)("div",y,[(0,a.createVNode)("div",x,[(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts.channel),1),(0,a.createVNode)("button",{class:"_button add",onClick:t[3]||(t[3]=(...t)=>e.addChannel&&e.addChannel(...t))},[(0,a.createVNode)(E,{icon:e.faPlus},null,8,["icon"])])]),(0,a.createVNode)("div",N,[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(e.featuredChannels,(t=>((0,a.openBlock)(),(0,a.createBlock)(J,{key:t.id,to:"/channels/"+t.id,class:["item",{active:e.tl==="channel:"+t.id}]},{default:i((()=>[(0,a.createVNode)(E,{icon:e.faSatelliteDish,class:"icon"},null,8,["icon"]),(0,a.createTextVNode)((0,a.toDisplayString)(t.name),1)])),_:2},1032,["to","class"])))),128))])])):(0,a.createCommentVNode)("",!0),e.lists?((0,a.openBlock)(),(0,a.createBlock)("div",w,[(0,a.createVNode)("div",C,[(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts.lists),1),(0,a.createVNode)("button",{class:"_button add",onClick:t[4]||(t[4]=(...t)=>e.addList&&e.addList(...t))},[(0,a.createVNode)(E,{icon:e.faPlus},null,8,["icon"])])]),(0,a.createVNode)("div",V,[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(e.lists,(t=>((0,a.openBlock)(),(0,a.createBlock)(J,{key:t.id,to:"/my/list/"+t.id,class:["item",{active:e.tl==="list:"+t.id}]},{default:i((()=>[(0,a.createVNode)(E,{icon:e.faListUl,class:"icon"},null,8,["icon"]),(0,a.createTextVNode)((0,a.toDisplayString)(t.name),1)])),_:2},1032,["to","class"])))),128))])])):(0,a.createCommentVNode)("",!0),e.antennas?((0,a.openBlock)(),(0,a.createBlock)("div",B,[(0,a.createVNode)("div",$,[(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts.antennas),1),(0,a.createVNode)("button",{class:"_button add",onClick:t[5]||(t[5]=(...t)=>e.addAntenna&&e.addAntenna(...t))},[(0,a.createVNode)(E,{icon:e.faPlus},null,8,["icon"])])]),(0,a.createVNode)("div",S,[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(e.antennas,(t=>((0,a.openBlock)(),(0,a.createBlock)(J,{key:t.id,to:"/my/antenna/"+t.id,class:["item",{active:e.tl==="antenna:"+t.id}]},{default:i((()=>[(0,a.createVNode)(E,{icon:e.faSatellite,class:"icon"},null,8,["icon"]),(0,a.createTextVNode)((0,a.toDisplayString)(t.name),1)])),_:2},1032,["to","class"])))),128))])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)("div",D,[(0,a.createVNode)("div",I,[(0,a.createVNode)(J,{to:"/my/favorites",class:"item"},{default:i((()=>[(0,a.createVNode)(E,{icon:e.faStar,class:"icon"},null,8,["icon"]),(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts.favorites),1)])),_:1})])])]),(0,a.createVNode)("footer",_,[(0,a.createVNode)("div",z,[(0,a.createVNode)("button",{class:"_button menu",onClick:t[6]||(t[6]=(...t)=>e.showMenu&&e.showMenu(...t))},[(0,a.createVNode)(E,{class:"icon",icon:e.faBars},null,8,["icon"])])]),(0,a.createVNode)("div",q,[(0,a.withDirectives)((0,a.createVNode)("button",{class:"_button item search",onClick:t[7]||(t[7]=(...t)=>e.search&&e.search(...t))},[(0,a.createVNode)(E,{icon:e.faSearch},null,8,["icon"])],512),[[te,e.$ts.search]]),(0,a.withDirectives)((0,a.createVNode)(J,{class:"item",to:"/settings"},{default:i((()=>[(0,a.createVNode)(E,{class:"icon",icon:e.faCog},null,8,["icon"])])),_:1},512),[[te,e.$ts.settings]])])])]),(0,a.createVNode)("main",{class:"main",onContextmenu:t[14]||(t[14]=(0,a.withModifiers)(((...t)=>e.onContextmenu&&e.onContextmenu(...t)),["stop"]))},[(0,a.createVNode)("header",{class:"header",ref:"header",onClick:t[13]||(t[13]=(...t)=>e.onHeaderClick&&e.onHeaderClick(...t))},[(0,a.createVNode)("div",T,["home"===e.tl?((0,a.openBlock)(),(0,a.createBlock)(a.Fragment,{key:0},[(0,a.createVNode)(E,{icon:e.faHome,class:"icon"},null,8,["icon"]),(0,a.createVNode)("div",j,(0,a.toDisplayString)(e.$ts._timelines.home),1)],64)):"local"===e.tl?((0,a.openBlock)(),(0,a.createBlock)(a.Fragment,{key:1},[(0,a.createVNode)(E,{icon:e.faComments,class:"icon"},null,8,["icon"]),(0,a.createVNode)("div",A,(0,a.toDisplayString)(e.$ts._timelines.local),1)],64)):"social"===e.tl?((0,a.openBlock)(),(0,a.createBlock)(a.Fragment,{key:2},[(0,a.createVNode)(E,{icon:e.faShareAlt,class:"icon"},null,8,["icon"]),(0,a.createVNode)("div",M,(0,a.toDisplayString)(e.$ts._timelines.social),1)],64)):"global"===e.tl?((0,a.openBlock)(),(0,a.createBlock)(a.Fragment,{key:3},[(0,a.createVNode)(E,{icon:e.faGlobe,class:"icon"},null,8,["icon"]),(0,a.createVNode)("div",F,(0,a.toDisplayString)(e.$ts._timelines.global),1)],64)):e.tl.startsWith("channel:")?((0,a.openBlock)(),(0,a.createBlock)(a.Fragment,{key:4},[(0,a.createVNode)(E,{icon:e.faSatelliteDish,class:"icon"},null,8,["icon"]),e.currentChannel?((0,a.openBlock)(),(0,a.createBlock)("div",O,[(0,a.createTextVNode)((0,a.toDisplayString)(e.currentChannel.name),1),(0,a.createVNode)("div",P,(0,a.toDisplayString)(e.currentChannel.description),1)])):(0,a.createCommentVNode)("",!0)],64)):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)("div",U,[(0,a.createVNode)("div",R,(0,a.toDisplayString)(e.instanceName),1),(0,a.createVNode)(Q,{class:"clock"}),(0,a.withDirectives)((0,a.createVNode)("button",{class:"_button button timetravel",onClick:t[8]||(t[8]=(...t)=>e.timetravel&&e.timetravel(...t))},[(0,a.createVNode)(E,{icon:e.faCalendarAlt},null,8,["icon"])],512),[[te,e.$ts.jumpToSpecifiedDate]]),e.tl.startsWith("channel:")&&e.currentChannel?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)("button",{key:0,class:"_button button search",onClick:t[9]||(t[9]=(...t)=>e.inChannelSearch&&e.inChannelSearch(...t))},[(0,a.createVNode)(E,{icon:e.faSearch},null,8,["icon"])],512)),[[te,e.$ts.inChannelSearch]]):(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)("button",{key:1,class:"_button button search",onClick:t[10]||(t[10]=(...t)=>e.search&&e.search(...t))},[(0,a.createVNode)(E,{icon:e.faSearch},null,8,["icon"])],512)),[[te,e.$ts.search]]),e.tl.startsWith("channel:")&&e.currentChannel?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)("button",{key:2,class:["_button button follow",{followed:e.currentChannel.isFollowing}],onClick:t[11]||(t[11]=(...t)=>e.toggleChannelFollow&&e.toggleChannelFollow(...t))},[e.currentChannel.isFollowing?((0,a.openBlock)(),(0,a.createBlock)(E,{key:0,icon:e.faStar},null,8,["icon"])):((0,a.openBlock)(),(0,a.createBlock)(E,{key:1,icon:e.farStar},null,8,["icon"]))],2)),[[te,e.currentChannel.isFollowing?e.$ts.unfollow:e.$ts.follow]]):(0,a.createCommentVNode)("",!0),e.tl.startsWith("channel:")&&e.currentChannel?((0,a.openBlock)(),(0,a.createBlock)("button",{key:3,class:"_button button menu",onClick:t[12]||(t[12]=(...t)=>e.openChannelMenu&&e.openChannelMenu(...t))},[(0,a.createVNode)(E,{icon:e.faEllipsisH},null,8,["icon"])])):(0,a.createCommentVNode)("",!0)])],512),e.tl.startsWith("channel:")?((0,a.openBlock)(),(0,a.createBlock)(K,{class:"body",ref:"tl",src:"channel",key:e.tl,channel:e.tl.replace("channel:","")},null,8,["channel"])):((0,a.openBlock)(),(0,a.createBlock)(K,{class:"body",ref:"tl",src:e.tl,key:e.tl},null,8,["src"]))],32),(0,a.createVNode)(G,{class:"side",ref:"side",onOpen:t[15]||(t[15]=t=>e.sideViewOpening=!0),onClose:t[16]||(t[16]=t=>e.sideViewOpening=!1)},null,512),(0,a.createVNode)("div",{class:["side widgets",{sideViewOpening:e.sideViewOpening}]},[(0,a.createVNode)(Y)],2),(0,a.createVNode)(ee)],32)}));var Z=o(51436),W=o(56024),L=o(34862),H=o(11598);const E=(0,a.withScopeId)("data-v-41ada334");(0,a.pushScopeId)("data-v-41ada334");const J={class:"qydbhufi"};(0,a.popScopeId)();const Q=E(((e,t,o,i,n,s)=>{const r=(0,a.resolveComponent)("XWidgets");return(0,a.openBlock)(),(0,a.createBlock)("div",J,[(0,a.createVNode)(r,{edit:e.edit,widgets:e.widgets,onAddWidget:e.addWidget,onRemoveWidget:e.removeWidget,onUpdateWidget:e.updateWidget,onUpdateWidgets:e.updateWidgets,onExit:t[1]||(t[1]=t=>e.edit=!1)},null,8,["edit","widgets","onAddWidget","onRemoveWidget","onUpdateWidget","onUpdateWidgets"]),e.edit?((0,a.openBlock)(),(0,a.createBlock)("button",{key:0,onClick:t[2]||(t[2]=t=>e.edit=!1),class:"_textButton",style:{"font-size":"0.9em"}},(0,a.toDisplayString)(e.$ts.editWidgetsExit),1)):((0,a.openBlock)(),(0,a.createBlock)("button",{key:1,onClick:t[3]||(t[3]=t=>e.edit=!0),class:"_textButton",style:{"font-size":"0.9em"}},(0,a.toDisplayString)(e.$ts.editWidgets),1))])}));var K=o(89851),G=o(71202);const Y=(0,a.markRaw)(new G.K("chatUi",{widgets:{where:"account",default:[]},tl:{where:"deviceAccount",default:"home"}})),ee=(0,a.defineComponent)({components:{XWidgets:K.Z},data:()=>({edit:!1,widgets:Y.reactiveState.widgets}),methods:{addWidget(e){Y.set("widgets",[e,...Y.state.widgets])},removeWidget(e){Y.set("widgets",Y.state.widgets.filter((t=>t.id!=e.id)))},updateWidget({id:e,data:t}){Y.set("widgets",Y.state.widgets.map((o=>o.id===e?Object.assign(Object.assign({},o),{data:t}):o)))},updateWidgets(e){Y.set("widgets",e)}}});o(5426);ee.render=Q,ee.__scopeId="data-v-41ada334";const te=ee;var oe=o(96316);const ae=(0,a.withScopeId)("data-v-3aee906c");(0,a.pushScopeId)("data-v-3aee906c");const ie={key:0,class:"mrajymqm _narrow_"};(0,a.popScopeId)();const ne=ae(((e,t,o,i,n,s)=>{const r=(0,a.resolveComponent)("Fa"),l=(0,a.resolveComponent)("XHeader");return e.component?((0,a.openBlock)(),(0,a.createBlock)("div",ie,[(0,a.createVNode)("header",{class:"header",onContextmenu:t[3]||(t[3]=(0,a.withModifiers)(((...t)=>e.onContextmenu&&e.onContextmenu(...t)),["prevent","stop"]))},[e.history.length>0?((0,a.openBlock)(),(0,a.createBlock)("button",{key:0,class:"_button",onClick:t[1]||(t[1]=t=>e.back())},[(0,a.createVNode)(r,{icon:e.faChevronLeft},null,8,["icon"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(l,{class:"title",info:e.pageInfo,"with-back":!1,center:!1},null,8,["info"]),(0,a.createVNode)("button",{class:"_button",onClick:t[2]||(t[2]=t=>e.close())},[(0,a.createVNode)(r,{icon:e.faTimes},null,8,["icon"])])],32),((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(e.component),(0,a.mergeProps)(e.props,{ref:e.changePage}),null,16))])):(0,a.createCommentVNode)("",!0)}));var se=o(16554),re=o(10192),le=o(70037),ce=o(87272);const de=(0,a.defineComponent)({components:{XHeader:se.Z},provide(){return{navHook:e=>{this.navigate(e)}}},data:()=>({path:null,component:null,props:{},pageInfo:null,history:[],faTimes:Z.NBC,faChevronLeft:Z.A35}),computed:{url(){return L.HQ+this.path}},methods:{changePage(e){null!=e&&e.INFO&&(this.pageInfo=e.INFO)},navigate(e,t=!0){t&&this.path&&this.history.push(this.path),this.path=e;const{component:o,props:a}=(0,ce.D)(e);this.component=o,this.props=a,this.$emit("open")},back(){this.navigate(this.history.pop(),!1)},close(){this.path=null,this.component=null,this.props={},this.$emit("close")},onContextmenu(e){re.zC([{type:"label",text:this.path},{icon:Z.TTL,text:this.$ts.showInPage,action:()=>{this.$router.push(this.path),this.close()}},{icon:Z.iAX,text:this.$ts.openInWindow,action:()=>{re.$(this.path),this.close()}},null,{icon:Z.Xjp,text:this.$ts.openInNewTab,action:()=>{window.open(this.url,"_blank"),this.close()}},{icon:Z.nNP,text:this.$ts.copyLink,action:()=>{(0,le.Z)(this.url)}}],e)}}});o(38633);de.render=ne,de.__scopeId="data-v-3aee906c";const pe=de,he=(0,a.withScopeId)("data-v-57b0e17e");(0,a.pushScopeId)("data-v-57b0e17e");const fe={key:0,class:"dbiokgaf info"},me={key:1,class:"dbiokgaf top"},ue={class:"dbiokgaf tl",ref:"body"},ve={key:2,class:"dbiokgaf bottom"},ge={key:0,class:"typers"};(0,a.popScopeId)();const ke=he(((e,t,o,i,n,s)=>{const r=(0,a.resolveComponent)("MkInfo"),l=(0,a.resolveComponent)("XPostForm"),c=(0,a.resolveComponent)("XNotes"),d=(0,a.resolveComponent)("I18n"),p=(0,a.resolveComponent)("MkEllipsis"),h=(0,a.resolveDirective)("follow");return(0,a.openBlock)(),(0,a.createBlock)(a.Fragment,null,[e.date?((0,a.openBlock)(),(0,a.createBlock)("div",fe,[(0,a.createVNode)(r,null,{default:he((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts.showingPastTimeline)+" ",1),(0,a.createVNode)("button",{class:"_textButton clear",onClick:t[1]||(t[1]=t=>e.timetravel())},(0,a.toDisplayString)(e.$ts.clear),1)])),_:1})])):(0,a.createCommentVNode)("",!0),["home","local","social","global"].includes(e.src)?((0,a.openBlock)(),(0,a.createBlock)("div",me,[(0,a.createVNode)(l)])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)("div",ue,[e.queue>0?((0,a.openBlock)(),(0,a.createBlock)("div",{key:0,class:"new",style:{width:e.width+"px",[e.pagination.reversed?"bottom":"top"]:e.pagination.reversed?e.bottom+"px":e.top+"px"}},[(0,a.createVNode)("button",{class:"_buttonPrimary",onClick:t[2]||(t[2]=t=>e.goTop())},(0,a.toDisplayString)(e.$ts.newNoteRecived),1)],4)):(0,a.createCommentVNode)("",!0),(0,a.withDirectives)((0,a.createVNode)(c,{class:"tl",ref:"tl",pagination:e.pagination,onQueue:e.queueUpdated},null,8,["pagination","onQueue"]),[[h,e.pagination.reversed]])],512),"channel"===e.src?((0,a.openBlock)(),(0,a.createBlock)("div",ve,[e.typers.length>0?((0,a.openBlock)(),(0,a.createBlock)("div",ge,[(0,a.createVNode)(d,{src:e.$ts.typingUsers,"text-tag":"span",class:"users"},{users:he((()=>[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(e.typers,(e=>((0,a.openBlock)(),(0,a.createBlock)("b",{key:e.id,class:"user"},(0,a.toDisplayString)(e.username),1)))),128))])),_:1},8,["src"]),(0,a.createVNode)(p)])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(l,{channel:e.channel},null,8,["channel"])])):(0,a.createCommentVNode)("",!0)],64)})),be={class:""},ye={key:0,class:"_fullinfo"},xe=(0,a.createVNode)("img",{src:"https://xn--931a.moe/assets/info.jpg",class:"_ghost"},null,-1),Ne={style:{"margin-bottom":"var(--margin)"}},we={style:{"margin-top":"var(--margin)"}};var Ce=o(90381);const Ve=(0,a.withScopeId)("data-v-3045a5f7");(0,a.pushScopeId)("data-v-3045a5f7");const Be={key:1,class:"info"},$e={key:2,class:"info"},Se={key:3,class:"info"},De={key:4,class:"renote"},Ie={class:"info"},_e={key:0,class:"visibility"},ze={key:1,class:"localOnly"},qe={class:"main"},Te={class:"body"},je={key:0,class:"cw"},Ae={class:"text"},Me={key:0,style:{opacity:"0.5"}},Fe={key:3,class:"rp"},Oe={key:0,class:"files"},Pe={key:2,class:"renote"},Ue={class:"footer _panel"},Re={key:2,class:"count"},Xe={key:0,class:"count"},Ze={key:1,class:"button _button"};(0,a.popScopeId)();const We=Ve(((e,t,o,i,n,s)=>{const r=(0,a.resolveComponent)("XSub"),l=(0,a.resolveComponent)("Fa"),c=(0,a.resolveComponent)("MkAvatar"),d=(0,a.resolveComponent)("MkUserName"),p=(0,a.resolveComponent)("MkA"),h=(0,a.resolveComponent)("I18n"),f=(0,a.resolveComponent)("MkTime"),m=(0,a.resolveComponent)("XNoteHeader"),u=(0,a.resolveComponent)("MkInstanceTicker"),v=(0,a.resolveComponent)("Mfm"),g=(0,a.resolveComponent)("XCwButton"),k=(0,a.resolveComponent)("XMediaList"),b=(0,a.resolveComponent)("XPoll"),y=(0,a.resolveComponent)("MkUrlPreview"),x=(0,a.resolveComponent)("XNotePreview"),N=(0,a.resolveComponent)("XReactionsViewer"),w=(0,a.resolveDirective)("user-preview"),C=(0,a.resolveDirective)("tooltip"),V=(0,a.resolveDirective)("hotkey");return e.muted?((0,a.openBlock)(),(0,a.createBlock)("div",{key:1,class:"muted",onClick:t[11]||(t[11]=t=>e.muted=!1)},[(0,a.createVNode)(h,{src:e.$ts.userSaysSomething,tag:"small"},{name:Ve((()=>[(0,a.withDirectives)((0,a.createVNode)(p,{class:"name",to:e.userPage(e.appearNote.user)},{default:Ve((()=>[(0,a.createVNode)(d,{user:e.appearNote.user},null,8,["user"])])),_:1},8,["to"]),[[w,e.appearNote.userId]])])),_:1},8,["src"])])):(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)("div",{key:0,class:["vfzoeqcg",{renote:e.isRenote,highlighted:e.appearNote._prId_||e.appearNote._featuredId_,operating:e.operating}],tabindex:e.isDeleted?null:"-1"},[e.appearNote.reply?((0,a.openBlock)(),(0,a.createBlock)(r,{key:0,note:e.appearNote.reply,class:"reply-to"},null,8,["note"])):(0,a.createCommentVNode)("",!0),e.pinned?((0,a.openBlock)(),(0,a.createBlock)("div",Be,[(0,a.createVNode)(l,{icon:e.faThumbtack},null,8,["icon"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$ts.pinnedNote),1)])):(0,a.createCommentVNode)("",!0),e.appearNote._prId_?((0,a.openBlock)(),(0,a.createBlock)("div",$e,[(0,a.createVNode)(l,{icon:e.faBullhorn},null,8,["icon"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$ts.promotion),1),(0,a.createVNode)("button",{class:"_textButton hide",onClick:t[1]||(t[1]=t=>e.readPromo())},[(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts.hideThisNote)+" ",1),(0,a.createVNode)(l,{icon:e.faTimes},null,8,["icon"])])])):(0,a.createCommentVNode)("",!0),e.appearNote._featuredId_?((0,a.openBlock)(),(0,a.createBlock)("div",Se,[(0,a.createVNode)(l,{icon:e.faBolt},null,8,["icon"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$ts.featured),1)])):(0,a.createCommentVNode)("",!0),e.isRenote?((0,a.openBlock)(),(0,a.createBlock)("div",De,[(0,a.createVNode)(c,{class:"avatar",user:e.note.user},null,8,["user"]),(0,a.createVNode)(l,{icon:e.faRetweet},null,8,["icon"]),(0,a.createVNode)(h,{src:e.$ts.renotedBy,tag:"span"},{user:Ve((()=>[(0,a.withDirectives)((0,a.createVNode)(p,{class:"name",to:e.userPage(e.note.user)},{default:Ve((()=>[(0,a.createVNode)(d,{user:e.note.user},null,8,["user"])])),_:1},8,["to"]),[[w,e.note.userId]])])),_:1},8,["src"]),(0,a.createVNode)("div",Ie,[(0,a.createVNode)("button",{class:"_button time",onClick:t[2]||(t[2]=t=>e.showRenoteMenu()),ref:"renoteTime"},[e.isMyRenote?((0,a.openBlock)(),(0,a.createBlock)(l,{key:0,class:"dropdownIcon",icon:e.faEllipsisH},null,8,["icon"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(f,{time:e.note.createdAt},null,8,["time"])],512),"public"!==e.note.visibility?((0,a.openBlock)(),(0,a.createBlock)("span",_e,["home"===e.note.visibility?((0,a.openBlock)(),(0,a.createBlock)(l,{key:0,icon:e.faHome},null,8,["icon"])):(0,a.createCommentVNode)("",!0),"followers"===e.note.visibility?((0,a.openBlock)(),(0,a.createBlock)(l,{key:1,icon:e.faUnlock},null,8,["icon"])):(0,a.createCommentVNode)("",!0),"specified"===e.note.visibility?((0,a.openBlock)(),(0,a.createBlock)(l,{key:2,icon:e.faEnvelope},null,8,["icon"])):(0,a.createCommentVNode)("",!0)])):(0,a.createCommentVNode)("",!0),e.note.localOnly?((0,a.openBlock)(),(0,a.createBlock)("span",ze,[(0,a.createVNode)(l,{icon:e.faBiohazard},null,8,["icon"])])):(0,a.createCommentVNode)("",!0)])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)("article",{class:"article",onContextmenu:t[10]||(t[10]=(0,a.withModifiers)(((...t)=>e.onContextmenu&&e.onContextmenu(...t)),["stop"]))},[(0,a.createVNode)(c,{class:"avatar",user:e.appearNote.user},null,8,["user"]),(0,a.createVNode)("div",qe,[(0,a.createVNode)(m,{class:"header",note:e.appearNote,mini:!0},null,8,["note"]),e.showTicker?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,class:"ticker",instance:e.appearNote.user.instance},null,8,["instance"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)("div",Te,[null!=e.appearNote.cw?((0,a.openBlock)(),(0,a.createBlock)("p",je,[""!=e.appearNote.cw?((0,a.openBlock)(),(0,a.createBlock)(v,{key:0,class:"text",text:e.appearNote.cw,author:e.appearNote.user,i:e.$i,"custom-emojis":e.appearNote.emojis},null,8,["text","author","i","custom-emojis"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(g,{value:e.showContent,"onUpdate:value":t[3]||(t[3]=t=>e.showContent=t),note:e.appearNote},null,8,["value","note"])])):(0,a.createCommentVNode)("",!0),(0,a.withDirectives)((0,a.createVNode)("div",{class:["content",{collapsed:e.collapsed}]},[(0,a.createVNode)("div",Ae,[e.appearNote.isHidden?((0,a.openBlock)(),(0,a.createBlock)("span",Me,"("+(0,a.toDisplayString)(e.$ts.private)+")",1)):(0,a.createCommentVNode)("",!0),e.appearNote.replyId?((0,a.openBlock)(),(0,a.createBlock)(p,{key:1,class:"reply",to:"/notes/"+e.appearNote.replyId},{default:Ve((()=>[(0,a.createVNode)(l,{icon:e.faReply},null,8,["icon"])])),_:1},8,["to"])):(0,a.createCommentVNode)("",!0),e.appearNote.text?((0,a.openBlock)(),(0,a.createBlock)(v,{key:2,text:e.appearNote.text,author:e.appearNote.user,i:e.$i,"custom-emojis":e.appearNote.emojis},null,8,["text","author","i","custom-emojis"])):(0,a.createCommentVNode)("",!0),null!=e.appearNote.renote?((0,a.openBlock)(),(0,a.createBlock)("a",Fe,"RN:")):(0,a.createCommentVNode)("",!0)]),e.appearNote.files.length>0?((0,a.openBlock)(),(0,a.createBlock)("div",Oe,[(0,a.createVNode)(k,{"media-list":e.appearNote.files},null,8,["media-list"])])):(0,a.createCommentVNode)("",!0),e.appearNote.poll?((0,a.openBlock)(),(0,a.createBlock)(b,{key:1,note:e.appearNote,ref:"pollViewer",class:"poll"},null,8,["note"])):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(e.urls,(e=>((0,a.openBlock)(),(0,a.createBlock)(y,{url:e,key:e,compact:!0,detail:!1,class:"url-preview"},null,8,["url"])))),128)),e.appearNote.renote?((0,a.openBlock)(),(0,a.createBlock)("div",Pe,[(0,a.createVNode)(x,{note:e.appearNote.renote},null,8,["note"])])):(0,a.createCommentVNode)("",!0),e.collapsed?((0,a.openBlock)(),(0,a.createBlock)("button",{key:3,class:"fade _button",onClick:t[4]||(t[4]=t=>e.collapsed=!1)},[(0,a.createVNode)("span",null,(0,a.toDisplayString)(e.$ts.showMore),1)])):(0,a.createCommentVNode)("",!0)],2),[[a.vShow,null==e.appearNote.cw||e.showContent]]),e.appearNote.channel&&!e.inChannel?((0,a.openBlock)(),(0,a.createBlock)(p,{key:1,class:"channel",to:"/channels/"+e.appearNote.channel.id},{default:Ve((()=>[(0,a.createVNode)(l,{icon:e.faSatelliteDish},null,8,["icon"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.appearNote.channel.name),1)])),_:1},8,["to"])):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)(N,{note:e.appearNote,ref:"reactionsViewer"},null,8,["note"]),(0,a.createVNode)("footer",Ue,[(0,a.withDirectives)((0,a.createVNode)("button",{onClick:t[5]||(t[5]=t=>e.reply()),class:"button _button"},[e.appearNote.reply?((0,a.openBlock)(),(0,a.createBlock)(l,{key:0,icon:e.faReplyAll},null,8,["icon"])):((0,a.openBlock)(),(0,a.createBlock)(l,{key:1,icon:e.faReply},null,8,["icon"])),e.appearNote.repliesCount>0?((0,a.openBlock)(),(0,a.createBlock)("p",Re,(0,a.toDisplayString)(e.appearNote.repliesCount),1)):(0,a.createCommentVNode)("",!0)],512),[[C,e.$ts.reply]]),e.canRenote?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)("button",{key:0,onClick:t[6]||(t[6]=t=>e.renote()),class:"button _button",ref:"renoteButton"},[(0,a.createVNode)(l,{icon:e.faRetweet},null,8,["icon"]),e.appearNote.renoteCount>0?((0,a.openBlock)(),(0,a.createBlock)("p",Xe,(0,a.toDisplayString)(e.appearNote.renoteCount),1)):(0,a.createCommentVNode)("",!0)],512)),[[C,e.$ts.renote]]):((0,a.openBlock)(),(0,a.createBlock)("button",Ze,[(0,a.createVNode)(l,{icon:e.faBan},null,8,["icon"])])),null==e.appearNote.myReaction?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)("button",{key:2,class:"button _button",onClick:t[7]||(t[7]=t=>e.react()),ref:"reactButton"},[(0,a.createVNode)(l,{icon:e.faPlus},null,8,["icon"])],512)),[[C,e.$ts.reaction]]):(0,a.createCommentVNode)("",!0),null!=e.appearNote.myReaction?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)("button",{key:3,class:"button _button reacted",onClick:t[8]||(t[8]=t=>e.undoReact(e.appearNote)),ref:"reactButton"},[(0,a.createVNode)(l,{icon:e.faMinus},null,8,["icon"])],512)),[[C,e.$ts.reaction]]):(0,a.createCommentVNode)("",!0),(0,a.createVNode)("button",{class:"button _button",onClick:t[9]||(t[9]=t=>e.menu()),ref:"menuButton"},[(0,a.createVNode)(l,{icon:e.faEllipsisH},null,8,["icon"])],512)])])],32)],10,["tabindex"])),[[a.vShow,!e.isDeleted],[V,e.keymap]])}));var Le=o(42984),He=o(25300);const Ee=(0,a.withScopeId)("data-v-8957fed8");(0,a.pushScopeId)("data-v-8957fed8");const Je={class:"main"},Qe={class:"body"},Ke={class:"body"},Ge={key:0,class:"cw"},Ye={class:"content"};(0,a.popScopeId)();const et=Ee(((e,t,o,i,n,s)=>{const r=(0,a.resolveComponent)("MkAvatar"),l=(0,a.resolveComponent)("XNoteHeader"),c=(0,a.resolveComponent)("Mfm"),d=(0,a.resolveComponent)("XCwButton"),p=(0,a.resolveComponent)("XSubNote-content"),h=(0,a.resolveComponent)("XSub");return(0,a.openBlock)(),(0,a.createBlock)("div",{class:["wrpstxzv",{children:e.children}]},[(0,a.createVNode)("div",Je,[(0,a.createVNode)(r,{class:"avatar",user:e.note.user},null,8,["user"]),(0,a.createVNode)("div",Qe,[(0,a.createVNode)(l,{class:"header",note:e.note,mini:!0},null,8,["note"]),(0,a.createVNode)("div",Ke,[null!=e.note.cw?((0,a.openBlock)(),(0,a.createBlock)("p",Ge,[""!=e.note.cw?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,class:"text",text:e.note.cw,author:e.note.user,i:e.$i,"custom-emojis":e.note.emojis},null,8,["text","author","i","custom-emojis"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(d,{value:e.showContent,"onUpdate:value":t[1]||(t[1]=t=>e.showContent=t),note:e.note},null,8,["value","note"])])):(0,a.createCommentVNode)("",!0),(0,a.withDirectives)((0,a.createVNode)("div",Ye,[(0,a.createVNode)(p,{class:"text",note:e.note},null,8,["note"])],512),[[a.vShow,null==e.note.cw||e.showContent]])])])]),((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(e.replies,(e=>((0,a.openBlock)(),(0,a.createBlock)(h,{key:e.id,note:e,class:"reply",detail:!0,children:!0},null,8,["note"])))),128))],2)})),tt=(0,a.withScopeId)("data-v-24ea1aea");(0,a.pushScopeId)("data-v-24ea1aea");const ot={class:"dehvdgxo"},at={key:0,class:"is-bot"},it={class:"username"},nt={key:1,class:"admin"},st={key:2,class:"moderator"},rt={class:"info"},lt={key:0,class:"mobile"},ct={key:1,class:"visibility"},dt={key:2,class:"localOnly"};(0,a.popScopeId)();const pt=tt(((e,t,o,i,n,s)=>{const r=(0,a.resolveComponent)("MkUserName"),l=(0,a.resolveComponent)("MkA"),c=(0,a.resolveComponent)("MkAcct"),d=(0,a.resolveComponent)("Fa"),p=(0,a.resolveComponent)("MkTime"),h=(0,a.resolveDirective)("user-preview");return(0,a.openBlock)(),(0,a.createBlock)("header",ot,[(0,a.withDirectives)((0,a.createVNode)(l,{class:"name",to:e.userPage(e.note.user)},{default:tt((()=>[(0,a.createVNode)(r,{user:e.note.user},null,8,["user"])])),_:1},8,["to"]),[[h,e.note.user.id]]),e.note.user.isBot?((0,a.openBlock)(),(0,a.createBlock)("span",at,"bot")):(0,a.createCommentVNode)("",!0),(0,a.createVNode)("span",it,[(0,a.createVNode)(c,{user:e.note.user},null,8,["user"])]),e.note.user.isAdmin?((0,a.openBlock)(),(0,a.createBlock)("span",nt,[(0,a.createVNode)(d,{icon:e.faBookmark},null,8,["icon"])])):(0,a.createCommentVNode)("",!0),!e.note.user.isAdmin&&e.note.user.isModerator?((0,a.openBlock)(),(0,a.createBlock)("span",st,[(0,a.createVNode)(d,{icon:e.farBookmark},null,8,["icon"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)("div",rt,[e.note.viaMobile?((0,a.openBlock)(),(0,a.createBlock)("span",lt,[(0,a.createVNode)(d,{icon:e.faMobileAlt},null,8,["icon"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(l,{class:"created-at",to:e.notePage(e.note)},{default:tt((()=>[(0,a.createVNode)(p,{time:e.note.createdAt},null,8,["time"])])),_:1},8,["to"]),"public"!==e.note.visibility?((0,a.openBlock)(),(0,a.createBlock)("span",ct,["home"===e.note.visibility?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,icon:e.faHome},null,8,["icon"])):(0,a.createCommentVNode)("",!0),"followers"===e.note.visibility?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,icon:e.faUnlock},null,8,["icon"])):(0,a.createCommentVNode)("",!0),"specified"===e.note.visibility?((0,a.openBlock)(),(0,a.createBlock)(d,{key:2,icon:e.faEnvelope},null,8,["icon"])):(0,a.createCommentVNode)("",!0)])):(0,a.createCommentVNode)("",!0),e.note.localOnly?((0,a.openBlock)(),(0,a.createBlock)("span",dt,[(0,a.createVNode)(d,{icon:e.faBiohazard},null,8,["icon"])])):(0,a.createCommentVNode)("",!0)])])}));var ht=o(25021),ft=o(55006);const mt=(0,a.defineComponent)({props:{note:{type:Object,required:!0}},data:()=>({faHome:Z.J9Y,faUnlock:Z.tAh,faEnvelope:Z.FU$,faMobileAlt:Z.bJI,faBookmark:Z.xVw,farBookmark:W.xV,faBiohazard:Z.bRI}),methods:{notePage:ht.Z,userPage:ft.tL}});o(73163);mt.render=pt,mt.__scopeId="data-v-24ea1aea";const ut=mt,vt=(0,a.withScopeId)("data-v-f7faaf2c");(0,a.pushScopeId)("data-v-f7faaf2c");const gt={class:"wrmlmaau"},kt={class:"body"},bt={key:0,style:{opacity:"0.5"}},yt={key:1,style:{opacity:"0.5"}},xt=(0,a.createTextVNode)("RN: ..."),Nt={key:0},wt={key:1};(0,a.popScopeId)();const Ct=vt(((e,t,o,i,n,s)=>{const r=(0,a.resolveComponent)("Fa"),l=(0,a.resolveComponent)("MkA"),c=(0,a.resolveComponent)("Mfm"),d=(0,a.resolveComponent)("XMediaList"),p=(0,a.resolveComponent)("XPoll");return(0,a.openBlock)(),(0,a.createBlock)("div",gt,[(0,a.createVNode)("div",kt,[e.note.isHidden?((0,a.openBlock)(),(0,a.createBlock)("span",bt,"("+(0,a.toDisplayString)(e.$ts.private)+")",1)):(0,a.createCommentVNode)("",!0),e.note.deletedAt?((0,a.openBlock)(),(0,a.createBlock)("span",yt,"("+(0,a.toDisplayString)(e.$ts.deleted)+")",1)):(0,a.createCommentVNode)("",!0),e.note.replyId?((0,a.openBlock)(),(0,a.createBlock)(l,{key:2,class:"reply",to:"/notes/"+e.note.replyId},{default:vt((()=>[(0,a.createVNode)(r,{icon:e.faReply},null,8,["icon"])])),_:1},8,["to"])):(0,a.createCommentVNode)("",!0),e.note.text?((0,a.openBlock)(),(0,a.createBlock)(c,{key:3,text:e.note.text,author:e.note.user,i:e.$i,"custom-emojis":e.note.emojis},null,8,["text","author","i","custom-emojis"])):(0,a.createCommentVNode)("",!0),e.note.renoteId?((0,a.openBlock)(),(0,a.createBlock)(l,{key:4,class:"rp",to:"/notes/"+e.note.renoteId},{default:vt((()=>[xt])),_:1},8,["to"])):(0,a.createCommentVNode)("",!0)]),e.note.files.length>0?((0,a.openBlock)(),(0,a.createBlock)("details",Nt,[(0,a.createVNode)("summary",null,"("+(0,a.toDisplayString)(e.$t("withNFiles",{n:e.note.files.length}))+")",1),(0,a.createVNode)(d,{"media-list":e.note.files},null,8,["media-list"])])):(0,a.createCommentVNode)("",!0),e.note.poll?((0,a.openBlock)(),(0,a.createBlock)("details",wt,[(0,a.createVNode)("summary",null,(0,a.toDisplayString)(e.$ts.poll),1),(0,a.createVNode)(p,{note:e.note},null,8,["note"])])):(0,a.createCommentVNode)("",!0)])}));var Vt=o(38388),Bt=o(40798);const $t=(0,a.defineComponent)({components:{XPoll:Vt.Z,XMediaList:Bt.Z},props:{note:{type:Object,required:!0}},data:()=>({faReply:Z.Lh7})});o(89557);$t.render=Ct,$t.__scopeId="data-v-f7faaf2c";const St=$t;var Dt=o(14705);const It=(0,a.defineComponent)({name:"XSub",components:{XNoteHeader:ut,XSubNoteContent:St,XCwButton:Dt.Z},props:{note:{type:Object,required:!0},detail:{type:Boolean,required:!1,default:!1},children:{type:Boolean,required:!1,default:!1},truncate:{type:Boolean,default:!0}},data:()=>({showContent:!1,replies:[]}),created(){this.detail&&re.hi("notes/children",{noteId:this.note.id,limit:5}).then((e=>{this.replies=e}))}});o(78639);It.render=et,It.__scopeId="data-v-8957fed8";const _t=It,zt=(0,a.withScopeId)("data-v-3df8a798");(0,a.pushScopeId)("data-v-3df8a798");const qt={class:"hduudsxk"},Tt={class:"main"},jt={class:"body"},At={key:0,class:"cw"},Mt={key:0,class:"text"},Ft={class:"content"};(0,a.popScopeId)();const Ot=zt(((e,t,o,i,n,s)=>{const r=(0,a.resolveComponent)("MkAvatar"),l=(0,a.resolveComponent)("XNoteHeader"),c=(0,a.resolveComponent)("XCwButton"),d=(0,a.resolveComponent)("XSubNote-content");return(0,a.openBlock)(),(0,a.createBlock)("div",qt,[(0,a.createVNode)(r,{class:"avatar",user:e.note.user},null,8,["user"]),(0,a.createVNode)("div",Tt,[(0,a.createVNode)(l,{class:"header",note:e.note,mini:!0},null,8,["note"]),(0,a.createVNode)("div",jt,[null!=e.note.cw?((0,a.openBlock)(),(0,a.createBlock)("p",At,[""!=e.note.cw?((0,a.openBlock)(),(0,a.createBlock)("span",Mt,(0,a.toDisplayString)(e.note.cw),1)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(c,{value:e.showContent,"onUpdate:value":t[1]||(t[1]=t=>e.showContent=t),note:e.note},null,8,["value","note"])])):(0,a.createCommentVNode)("",!0),(0,a.withDirectives)((0,a.createVNode)("div",Ft,[(0,a.createVNode)(d,{class:"text",note:e.note},null,8,["note"])],512),[[a.vShow,null==e.note.cw||e.showContent]])])])])})),Pt=(0,a.defineComponent)({components:{XNoteHeader:ut,XSubNoteContent:St,XCwButton:Dt.Z},props:{note:{type:Object,required:!0}},data:()=>({showContent:!1})});o(37549);Pt.render=Ot,Pt.__scopeId="data-v-3df8a798";const Ut=Pt;var Rt=o(21840),Xt=o(85651),Zt=o(3565),Wt=o(98585),Lt=o(73120);!function(...e){for(const t of e)(0,a.markRaw)(t)}(W.Xc,Z.BDt,Z.NBC,Z.Acd,Z.r8p,Z.Kl4,Z.x5v,Z.Lh7,Z.QHR,Z.cNd,Z.J9Y,Z.tAh,Z.FU$,Z.RP7,Z.gPx,Z.bRI,Z.oso,Z.QNf);const Ht=(0,a.defineComponent)({components:{XSub:_t,XNoteHeader:ut,XNotePreview:Ut,XReactionsViewer:Rt.Z,XMediaList:Bt.Z,XCwButton:Dt.Z,XPoll:Vt.Z,MkUrlPreview:(0,a.defineAsyncComponent)((()=>Promise.all([o.e(1417),o.e(31)]).then(o.bind(o,80031)))),MkInstanceTicker:(0,a.defineAsyncComponent)((()=>o.e(2666).then(o.bind(o,32666))))},inject:{inChannel:{default:null}},props:{note:{type:Object,required:!0},pinned:{type:Boolean,required:!1,default:!1}},emits:["update:note"],data:()=>({connection:null,replies:[],showContent:!1,collapsed:!1,isDeleted:!1,muted:!1,operating:!1,faEdit:W.Xc,faBolt:Z.BDt,faTimes:Z.NBC,faBullhorn:Z.Acd,faPlus:Z.r8p,faMinus:Z.Kl4,faRetweet:Z.x5v,faReply:Z.Lh7,faReplyAll:Z.QHR,faEllipsisH:Z.cNd,faHome:Z.J9Y,faUnlock:Z.tAh,faEnvelope:Z.FU$,faThumbtack:Z.RP7,faBan:Z.gPx,faBiohazard:Z.bRI,faPlug:Z.oso,faSatelliteDish:Z.QNf}),computed:{rs(){return this.$store.state.reactions},keymap(){return{r:()=>this.reply(!0),"e|a|plus":()=>this.react(!0),q:()=>this.renote(!0),"f|b":this.favorite,"delete|ctrl+d":this.del,"ctrl+q":this.renoteDirectly,"up|k|shift+tab":this.focusBefore,"down|j|tab":this.focusAfter,esc:this.blur,"m|o":()=>this.menu(!0),s:this.toggleShowContent,1:()=>this.reactDirectly(this.rs[0]),2:()=>this.reactDirectly(this.rs[1]),3:()=>this.reactDirectly(this.rs[2]),4:()=>this.reactDirectly(this.rs[3]),5:()=>this.reactDirectly(this.rs[4]),6:()=>this.reactDirectly(this.rs[5]),7:()=>this.reactDirectly(this.rs[6]),8:()=>this.reactDirectly(this.rs[7]),9:()=>this.reactDirectly(this.rs[8]),0:()=>this.reactDirectly(this.rs[9])}},isRenote(){return this.note.renote&&null==this.note.text&&0==this.note.fileIds.length&&null==this.note.poll},appearNote(){return this.isRenote?this.note.renote:this.note},isMyNote(){return this.$i&&this.$i.id===this.appearNote.userId},isMyRenote(){return this.$i&&this.$i.id===this.note.userId},canRenote(){return["public","home"].includes(this.appearNote.visibility)||this.isMyNote},reactionsCount(){return this.appearNote.reactions?(0,He.Sm)(Object.values(this.appearNote.reactions)):0},urls(){if(this.appearNote.text){const e=(0,Le.Q)(this.appearNote.text),t=(0,He.Tw)(e.filter((e=>("url"==e.node.type||"link"==e.node.type)&&e.node.props.url&&!e.node.props.silent)).map((e=>e.node.props.url))),o=e=>e.replace(/#[^#]*$/,"");return t.reduce(((e,t)=>{const a=o(t);return e.map((e=>o(e))).includes(a)||e.push(t),e}),[])}return null},showTicker(){return"always"===this.$store.state.instanceTicker||!("remote"!==this.$store.state.instanceTicker||!this.appearNote.user.instance)}},async created(){if(this.$i&&(this.connection=re.Vw),this.collapsed=null==this.appearNote.cw&&this.appearNote.text&&(this.appearNote.text.split("\n").length>9||this.appearNote.text.length>500),this.muted=await(0,Wt.O)(this.appearNote,this.$i,this.$store.state.mutedWords),Lt.n$.length>0){let e=this.note;for(const t of Lt.n$)e=await t.handler(JSON.parse(JSON.stringify(e)));this.$emit("update:note",Object.freeze(e))}},mounted(){this.capture(!0),this.$i&&this.connection.on("_connected_",this.onStreamConnected)},beforeUnmount(){this.decapture(!0),this.$i&&this.connection.off("_connected_",this.onStreamConnected)},methods:{updateAppearNote(e){this.$emit("update:note",Object.freeze(this.isRenote?Object.assign(Object.assign({},this.note),{renote:Object.assign(Object.assign({},this.note.renote),e)}):Object.assign(Object.assign({},this.note),e)))},readPromo(){re.hi("promo/read",{noteId:this.appearNote.id}),this.isDeleted=!0},capture(e=!1){this.$i&&(this.connection.send(document.body.contains(this.$el)?"sn":"s",{id:this.appearNote.id}),e&&this.connection.on("noteUpdated",this.onStreamNoteUpdated))},decapture(e=!1){this.$i&&(this.connection.send("un",{id:this.appearNote.id}),e&&this.connection.off("noteUpdated",this.onStreamNoteUpdated))},onStreamConnected(){this.capture()},onStreamNoteUpdated(e){const{type:t,id:o,body:a}=e;if(o===this.appearNote.id)switch(t){case"reacted":{const e=a.reaction;let t=Object.assign({},this.appearNote);if(a.emoji){const e=this.appearNote.emojis||[];e.includes(a.emoji)||(t.emojis=[...e,a.emoji])}const o=(this.appearNote.reactions||{})[e]||0;t.reactions=Object.assign(Object.assign({},this.appearNote.reactions),{[e]:o+1}),a.userId===this.$i.id&&(t.myReaction=e),this.updateAppearNote(t);break}case"unreacted":{const e=a.reaction;let t=Object.assign({},this.appearNote);const o=(this.appearNote.reactions||{})[e]||0;t.reactions=Object.assign(Object.assign({},this.appearNote.reactions),{[e]:Math.max(0,o-1)}),a.userId===this.$i.id&&(t.myReaction=null),this.updateAppearNote(t);break}case"pollVoted":{const e=a.choice;let t=Object.assign({},this.appearNote);const o=[...this.appearNote.poll.choices];o[e]=Object.assign(Object.assign(Object.assign({},o[e]),{votes:o[e].votes+1}),a.userId===this.$i.id?{isVoted:!0}:{}),t.poll=Object.assign(Object.assign({},this.appearNote.poll),{choices:o}),this.updateAppearNote(t);break}case"deleted":this.isDeleted=!0}},reply(e=!1){(0,Xt.o)(),this.operating=!0,re.v_({reply:this.appearNote,animation:!e},(()=>{this.operating=!1,this.focus()}))},renote(e=!1){(0,Xt.o)(),this.operating=!0,this.blur(),re.n4([{text:this.$ts.renote,icon:Z.x5v,action:()=>{re.hi("notes/create",{renoteId:this.appearNote.id})}},{text:this.$ts.quote,icon:Z.Elr,action:()=>{re.v_({renote:this.appearNote})}}],this.$refs.renoteButton,{viaKeyboard:e}).then((()=>{this.operating=!1}))},renoteDirectly(){re.Zv("notes/create",{renoteId:this.appearNote.id},void 0,(e=>{re.WZ({type:"success",text:this.$ts.renoted})}),(e=>{"b5c90186-4ab0-49c8-9bba-a1f76c282ba4"===e.id?re.WZ({type:"error",text:this.$ts.cantRenote}):"fd4cc33e-2a37-48dd-99cc-9b806eb2031a"===e.id&&re.WZ({type:"error",text:this.$ts.cantReRenote})}))},async react(e=!1){(0,Xt.o)(),this.operating=!0,this.blur();const{dispose:t}=await re.gk(Promise.all([o.e(9411),o.e(9059)]).then(o.bind(o,9059)),{src:this.$refs.reactButton,asReactionPicker:!0},{done:e=>{e&&re.hi("notes/reactions/create",{noteId:this.appearNote.id,reaction:e})},closed:()=>{this.operating=!1,this.focus(),t()}})},reactDirectly(e){re.hi("notes/reactions/create",{noteId:this.appearNote.id,reaction:e})},undoReact(e){e.myReaction&&re.hi("notes/reactions/delete",{noteId:e.id})},favorite(){(0,Xt.o)(),re.Zv("notes/favorites/create",{noteId:this.appearNote.id},void 0,(e=>{re.WZ({type:"success",text:this.$ts.favorited})}),(e=>{"a402c12b-34dd-41d2-97d8-4d2ffd96a1a6"===e.id?re.WZ({type:"error",text:this.$ts.alreadyFavorited}):"6dd26674-e060-4816-909a-45ba3f4da458"===e.id&&re.WZ({type:"error",text:this.$ts.cantFavorite})}))},del(){re.WZ({type:"warning",text:this.$ts.noteDeleteConfirm,showCancelButton:!0}).then((({canceled:e})=>{e||re.hi("notes/delete",{noteId:this.appearNote.id})}))},delEdit(){re.WZ({type:"warning",text:this.$ts.deleteAndEditConfirm,showCancelButton:!0}).then((({canceled:e})=>{e||(re.hi("notes/delete",{noteId:this.appearNote.id}),re.v_({initialNote:this.appearNote,renote:this.appearNote.renote,reply:this.appearNote.reply,channel:this.appearNote.channel}))}))},toggleFavorite(e){re.Zv(e?"notes/favorites/create":"notes/favorites/delete",{noteId:this.appearNote.id})},toggleWatch(e){re.Zv(e?"notes/watching/create":"notes/watching/delete",{noteId:this.appearNote.id})},getMenu(){let e;if(this.$i){const t=re.hi("notes/state",{noteId:this.appearNote.id});e=[{icon:W.kZ,text:this.$ts.copyContent,action:this.copyContent},{icon:Z.nNP,text:this.$ts.copyLink,action:this.copyLink},this.appearNote.url||this.appearNote.uri?{icon:Z.cyx,text:this.$ts.showOnRemote,action:()=>{window.open(this.appearNote.url||this.appearNote.uri,"_blank")}}:void 0,null,t.then((e=>e.isFavorited?{icon:Z.Tab,text:this.$ts.unfavorite,action:()=>this.toggleFavorite(!1)}:{icon:Z.Tab,text:this.$ts.favorite,action:()=>this.toggleFavorite(!0)})),{icon:Z.Alc,text:this.$ts.clip,action:()=>this.clip()},this.appearNote.userId!=this.$i.id?t.then((e=>e.isWatching?{icon:W.Aq,text:this.$ts.unwatch,action:()=>this.toggleWatch(!1)}:{icon:W.Md,text:this.$ts.watch,action:()=>this.toggleWatch(!0)})):void 0,this.appearNote.userId==this.$i.id?(this.$i.pinnedNoteIds||[]).includes(this.appearNote.id)?{icon:Z.RP7,text:this.$ts.unpin,action:()=>this.togglePin(!1)}:{icon:Z.RP7,text:this.$ts.pin,action:()=>this.togglePin(!0)}:void 0,...this.$i.isModerator||this.$i.isAdmin?[null,{icon:Z.Acd,text:this.$ts.promote,action:this.promote}]:[],...this.appearNote.userId!=this.$i.id?[null,{icon:Z.RLE,text:this.$ts.reportAbuse,action:()=>{const e=`${L.HQ}/notes/${this.appearNote.id}`;re.gk(Promise.all([o.e(1650),o.e(4652)]).then(o.bind(o,44652)),{user:this.appearNote.user,initialComment:`Note: ${e}\n-----\n`},{},"closed")}}]:[],...this.appearNote.userId==this.$i.id||this.$i.isModerator||this.$i.isAdmin?[null,this.appearNote.userId==this.$i.id?{icon:W.Xc,text:this.$ts.deleteAndEdit,action:this.delEdit}:void 0,{icon:W.I7,text:this.$ts.delete,danger:!0,action:this.del}]:[]].filter((e=>void 0!==e))}else e=[{icon:W.kZ,text:this.$ts.copyContent,action:this.copyContent},{icon:Z.nNP,text:this.$ts.copyLink,action:this.copyLink},this.appearNote.url||this.appearNote.uri?{icon:Z.cyx,text:this.$ts.showOnRemote,action:()=>{window.open(this.appearNote.url||this.appearNote.uri,"_blank")}}:void 0].filter((e=>void 0!==e));return Lt.aJ.length>0&&(e=e.concat([null,...Lt.aJ.map((e=>({icon:Z.oso,text:e.title,action:()=>{e.handler(this.appearNote)}})))])),e},onContextmenu(e){const t=e=>"A"===e.tagName||(e.parentElement?t(e.parentElement):void 0);t(e.target)||""===window.getSelection().toString()&&(this.$store.state.useReactionPickerForContextMenu?(e.preventDefault(),this.react()):re.zC(this.getMenu(),e).then(this.focus))},menu(e=!1){this.operating=!0,re.n4(this.getMenu(),this.$refs.menuButton,{viaKeyboard:e}).then((()=>{this.operating=!1,this.focus()}))},showRenoteMenu(e=!1){this.isMyRenote&&re.n4([{text:this.$ts.unrenote,icon:W.I7,danger:!0,action:()=>{re.hi("notes/delete",{noteId:this.note.id}),this.isDeleted=!0}}],this.$refs.renoteTime,{viaKeyboard:e})},toggleShowContent(){this.showContent=!this.showContent},copyContent(){(0,le.Z)(this.appearNote.text),re.Vp()},copyLink(){(0,le.Z)(`${L.HQ}/notes/${this.appearNote.id}`),re.Vp()},togglePin(e){re.Zv(e?"i/pin":"i/unpin",{noteId:this.appearNote.id},void 0,null,(e=>{"72dab508-c64d-498f-8740-a8eec1ba385a"===e.id&&re.WZ({type:"error",text:this.$ts.pinLimitExceeded})}))},async clip(){const e=await re.hi("clips/list");re.n4([{icon:Z.r8p,text:this.$ts.createNew,action:async()=>{const{canceled:e,result:t}=await re.cr(this.$ts.createNewClip,{name:{type:"string",label:this.$ts.name},description:{type:"string",required:!1,multiline:!0,label:this.$ts.description},isPublic:{type:"boolean",label:this.$ts.public,default:!1}});if(e)return;const o=await re.Zv("clips/create",t);re.Zv("clips/add-note",{clipId:o.id,noteId:this.appearNote.id})}},null,...e.map((e=>({text:e.name,action:()=>{re.Zv("clips/add-note",{clipId:e.id,noteId:this.appearNote.id})}})))],this.$refs.menuButton,{}).then(this.focus)},async promote(){const{canceled:e,result:t}=await re.WZ({title:this.$ts.numberOfDays,input:{type:"number"}});e||re.Zv("admin/promo/create",{noteId:this.appearNote.id,expiresAt:Date.now()+864e5*t})},focus(){this.$el.focus()},blur(){this.$el.blur()},focusBefore(){(0,Zt.r)(this.$el)},focusAfter(){(0,Zt.s)(this.$el)},userPage:ft.tL}});o(8664);Ht.render=We,Ht.__scopeId="data-v-3045a5f7";const Et=Ht;var Jt=o(27346);const Qt=(0,a.defineComponent)({props:{items:{type:Array,required:!0},reversed:{type:Boolean,required:!1,default:!1}},methods:{focus(){this.$slots.default[0].elm.focus()}},render(){const e=e=>{const t=new Date(e).getDate(),o=new Date(e).getMonth()+1;return this.$t("monthAndDay",{month:o.toString(),day:t.toString()})};return(0,a.h)(this.reversed?"div":a.TransitionGroup,{class:"hmjzthxl",name:this.reversed?"list-reversed":"list",tag:"div"},this.items.map(((t,o)=>{const i=this.$slots.default({item:t})[0];if(null==i.key&&t.id&&(i.key=t.id),o==this.items.length-1||new Date(t.createdAt).getDate()==new Date(this.items[o+1].createdAt).getDate()||t._prId_||this.items[o+1]._prId_||t._featuredId_||this.items[o+1]._featuredId_)return i;return[i,(0,a.h)("div",{class:"separator",key:t.id+":separator"},(0,a.h)("p",{class:"date"},[(0,a.h)("span",[(0,a.h)(Jt.GN,{class:"icon",icon:Z.onQ}),e(t.createdAt)]),(0,a.h)("span",[e(this.items[o+1].createdAt),(0,a.h)(Jt.GN,{class:"icon",icon:Z.gc2})])]))]})))}});o(24478),o(52968);const Kt=Qt;var Gt=o(42453);const Yt=(0,a.defineComponent)({components:{XNote:Et,XList:Kt,MkButton:Gt.Z},mixins:[(0,Ce.Z)({before:e=>{e.$emit("before")},after:(e,t)=>{e.$emit("after",t)}})],props:{pagination:{required:!0},prop:{type:String,required:!1}},emits:["before","after"],computed:{notes(){return this.prop?this.items.map((e=>e[this.prop])):this.items},reversed(){return this.pagination.reversed}},methods:{updated(e,t){const o=this.notes.findIndex((t=>t===e));this.prop?this.items[o][this.prop]=t:this.items[o]=t},focus(){this.$refs.notes.focus()}}});Yt.render=function(e,t,o,i,n,s){const r=(0,a.resolveComponent)("MkError"),l=(0,a.resolveComponent)("MkLoading"),c=(0,a.resolveComponent)("MkButton"),d=(0,a.resolveComponent)("XNote"),p=(0,a.resolveComponent)("XList"),h=(0,a.resolveDirective)("appear");return(0,a.openBlock)(),(0,a.createBlock)("div",be,[e.empty?((0,a.openBlock)(),(0,a.createBlock)("div",ye,[xe,(0,a.createVNode)("div",null,(0,a.toDisplayString)(e.$ts.noNotes),1)])):(0,a.createCommentVNode)("",!0),e.error?((0,a.openBlock)(),(0,a.createBlock)(r,{key:1,onRetry:t[1]||(t[1]=t=>e.init())})):(0,a.createCommentVNode)("",!0),(0,a.withDirectives)((0,a.createVNode)("div",Ne,[(0,a.createVNode)(c,{style:[{margin:"0 auto"},{cursor:e.moreFetching?"wait":"pointer"}],onClick:e.fetchMore,disabled:e.moreFetching},{default:(0,a.withCtx)((()=>[e.moreFetching?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(a.Fragment,{key:0},[(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts.loadMore),1)],64)),e.moreFetching?((0,a.openBlock)(),(0,a.createBlock)(l,{key:1,inline:""})):(0,a.createCommentVNode)("",!0)])),_:1},8,["onClick","disabled","style"])],512),[[a.vShow,e.more&&e.reversed]]),(0,a.createVNode)(p,{ref:"notes",items:e.notes,direction:e.reversed?"up":"down",reversed:e.reversed},{default:(0,a.withCtx)((({item:t})=>[(0,a.createVNode)(d,{note:t,"onUpdate:note":o=>e.updated(t,o),key:t._featuredId_||t._prId_||t.id},null,8,["note","onUpdate:note"])])),_:1},8,["items","direction","reversed"]),(0,a.withDirectives)((0,a.createVNode)("div",we,[(0,a.withDirectives)((0,a.createVNode)(c,{style:[{margin:"0 auto"},{cursor:e.moreFetching?"wait":"pointer"}],onClick:e.fetchMore,disabled:e.moreFetching},{default:(0,a.withCtx)((()=>[e.moreFetching?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(a.Fragment,{key:0},[(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts.loadMore),1)],64)),e.moreFetching?((0,a.openBlock)(),(0,a.createBlock)(l,{key:1,inline:""})):(0,a.createCommentVNode)("",!0)])),_:1},8,["onClick","disabled","style"]),[[h,e.$store.state.enableInfiniteScroll?e.fetchMore:null]])],512),[[a.vShow,e.more&&!e.reversed]])])};const eo=Yt;var to=o(56858),oo=o(51533),ao=o(54223);const io=(0,a.withScopeId)("data-v-4d948147");(0,a.pushScopeId)("data-v-4d948147");const no={class:"form"},so={key:0,class:"with-quote"},ro={key:1,class:"to-specified"},lo={style:{"margin-right":"8px"}},co={class:"visibleUsers"},po={class:"left"},ho={class:"right"},fo={key:0,class:"local-only"},mo={key:0},uo={key:1},vo={key:2},go={key:3};(0,a.popScopeId)();const ko=io(((e,t,o,i,n,s)=>{const r=(0,a.resolveComponent)("Fa"),l=(0,a.resolveComponent)("MkAcct"),c=(0,a.resolveComponent)("XPostFormAttaches"),d=(0,a.resolveComponent)("XPollEditor"),p=(0,a.resolveDirective)("tooltip");return(0,a.openBlock)(),(0,a.createBlock)("div",{class:"pxiwixjf",onDragover:t[19]||(t[19]=(0,a.withModifiers)(((...t)=>e.onDragover&&e.onDragover(...t)),["stop"])),onDragenter:t[20]||(t[20]=(...t)=>e.onDragenter&&e.onDragenter(...t)),onDragleave:t[21]||(t[21]=(...t)=>e.onDragleave&&e.onDragleave(...t)),onDrop:t[22]||(t[22]=(0,a.withModifiers)(((...t)=>e.onDrop&&e.onDrop(...t)),["stop"]))},[(0,a.createVNode)("div",no,[e.quoteId?((0,a.openBlock)(),(0,a.createBlock)("div",so,[(0,a.createVNode)(r,{icon:"quote-left"}),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$ts.quoteAttached),1),(0,a.createVNode)("button",{onClick:t[1]||(t[1]=t=>e.quoteId=null)},[(0,a.createVNode)(r,{icon:"times"})])])):(0,a.createCommentVNode)("",!0),"specified"===e.visibility?((0,a.openBlock)(),(0,a.createBlock)("div",ro,[(0,a.createVNode)("span",lo,(0,a.toDisplayString)(e.$ts.recipient),1),(0,a.createVNode)("div",co,[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(e.visibleUsers,(t=>((0,a.openBlock)(),(0,a.createBlock)("span",{key:t.id},[(0,a.createVNode)(l,{user:t},null,8,["user"]),(0,a.createVNode)("button",{class:"_button",onClick:o=>e.removeVisibleUser(t)},[(0,a.createVNode)(r,{icon:e.faTimes},null,8,["icon"])],8,["onClick"])])))),128)),(0,a.createVNode)("button",{onClick:t[2]||(t[2]=(...t)=>e.addVisibleUser&&e.addVisibleUser(...t)),class:"_buttonPrimary"},[(0,a.createVNode)(r,{icon:e.faPlus,"fixed-width":""},null,8,["icon"])])])])):(0,a.createCommentVNode)("",!0),(0,a.withDirectives)((0,a.createVNode)("input",{ref:"cw",class:"cw","onUpdate:modelValue":t[3]||(t[3]=t=>e.cw=t),placeholder:e.$ts.annotation,onKeydown:t[4]||(t[4]=(...t)=>e.onKeydown&&e.onKeydown(...t))},null,40,["placeholder"]),[[a.vShow,e.useCw],[a.vModelText,e.cw]]),(0,a.withDirectives)((0,a.createVNode)("textarea",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.text=t),class:["text",{withCw:e.useCw}],ref:"text",disabled:e.posting,placeholder:e.placeholder,onKeydown:t[6]||(t[6]=(...t)=>e.onKeydown&&e.onKeydown(...t)),onPaste:t[7]||(t[7]=(...t)=>e.onPaste&&e.onPaste(...t)),onCompositionupdate:t[8]||(t[8]=(...t)=>e.onCompositionUpdate&&e.onCompositionUpdate(...t)),onCompositionend:t[9]||(t[9]=(...t)=>e.onCompositionEnd&&e.onCompositionEnd(...t))},null,42,["disabled","placeholder"]),[[a.vModelText,e.text]]),(0,a.createVNode)(c,{class:"attaches",files:e.files,onUpdated:e.updateFiles,onDetach:e.detachFile,onChangeSensitive:e.updateFileSensitive,onChangeName:e.updateFileName},null,8,["files","onUpdated","onDetach","onChangeSensitive","onChangeName"]),e.poll?((0,a.openBlock)(),(0,a.createBlock)(d,{key:2,poll:e.poll,onDestroyed:t[10]||(t[10]=t=>e.poll=null),onUpdated:e.onPollUpdate},null,8,["poll","onUpdated"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)("footer",null,[(0,a.createVNode)("div",po,[(0,a.withDirectives)((0,a.createVNode)("button",{class:"_button",onClick:t[11]||(t[11]=(...t)=>e.chooseFileFrom&&e.chooseFileFrom(...t))},[(0,a.createVNode)(r,{icon:e.faPhotoVideo},null,8,["icon"])],512),[[p,e.$ts.attachFile]]),(0,a.withDirectives)((0,a.createVNode)("button",{class:["_button",{active:e.poll}],onClick:t[12]||(t[12]=(...t)=>e.togglePoll&&e.togglePoll(...t))},[(0,a.createVNode)(r,{icon:e.faPollH},null,8,["icon"])],2),[[p,e.$ts.poll]]),(0,a.withDirectives)((0,a.createVNode)("button",{class:["_button",{active:e.useCw}],onClick:t[13]||(t[13]=t=>e.useCw=!e.useCw)},[(0,a.createVNode)(r,{icon:e.faEyeSlash},null,8,["icon"])],2),[[p,e.$ts.useCw]]),(0,a.withDirectives)((0,a.createVNode)("button",{class:"_button",onClick:t[14]||(t[14]=(...t)=>e.insertMention&&e.insertMention(...t))},[(0,a.createVNode)(r,{icon:e.faAt},null,8,["icon"])],512),[[p,e.$ts.mention]]),(0,a.withDirectives)((0,a.createVNode)("button",{class:"_button",onClick:t[15]||(t[15]=(...t)=>e.insertEmoji&&e.insertEmoji(...t))},[(0,a.createVNode)(r,{icon:e.faLaughSquint},null,8,["icon"])],512),[[p,e.$ts.emoji]]),e.postFormActions.length>0?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)("button",{key:0,class:"_button",onClick:t[16]||(t[16]=(...t)=>e.showActions&&e.showActions(...t))},[(0,a.createVNode)(r,{icon:e.faPlug},null,8,["icon"])],512)),[[p,e.$ts.plugin]]):(0,a.createCommentVNode)("",!0)]),(0,a.createVNode)("div",ho,[(0,a.createVNode)("span",{class:["text-count",{over:e.textLength>e.max}]},(0,a.toDisplayString)(e.max-e.textLength),3),e.localOnly?((0,a.openBlock)(),(0,a.createBlock)("span",fo,[(0,a.createVNode)(r,{icon:e.faBiohazard},null,8,["icon"])])):(0,a.createCommentVNode)("",!0),(0,a.withDirectives)((0,a.createVNode)("button",{class:"_button visibility",onClick:t[17]||(t[17]=(...t)=>e.setVisibility&&e.setVisibility(...t)),ref:"visibilityButton",disabled:null!=e.channel},["public"===e.visibility?((0,a.openBlock)(),(0,a.createBlock)("span",mo,[(0,a.createVNode)(r,{icon:e.faGlobe},null,8,["icon"])])):(0,a.createCommentVNode)("",!0),"home"===e.visibility?((0,a.openBlock)(),(0,a.createBlock)("span",uo,[(0,a.createVNode)(r,{icon:e.faHome},null,8,["icon"])])):(0,a.createCommentVNode)("",!0),"followers"===e.visibility?((0,a.openBlock)(),(0,a.createBlock)("span",vo,[(0,a.createVNode)(r,{icon:e.faUnlock},null,8,["icon"])])):(0,a.createCommentVNode)("",!0),"specified"===e.visibility?((0,a.openBlock)(),(0,a.createBlock)("span",go,[(0,a.createVNode)(r,{icon:e.faEnvelope},null,8,["icon"])])):(0,a.createCommentVNode)("",!0)],8,["disabled"]),[[p,e.$ts.visibility]]),(0,a.createVNode)("button",{class:"submit _buttonPrimary",disabled:!e.canPost,onClick:t[18]||(t[18]=(...t)=>e.post&&e.post(...t))},[(0,a.createTextVNode)((0,a.toDisplayString)(e.submitText),1),(0,a.createVNode)(r,{icon:e.reply?e.faReply:e.renote?e.faQuoteRight:e.faPaperPlane},null,8,["icon"])],8,["disabled"])])])])],32)}));var bo=o(23691),yo=o(30641),xo=o(3689),No=o(87916),wo=o(73115),Co=o(10857),Vo=o(53200),Bo=o(14975),$o=o(11928),So=o(51084);const Do=(0,a.defineComponent)({components:{XPostFormAttaches:(0,a.defineAsyncComponent)((()=>o.e(9554).then(o.bind(o,39554)))),XPollEditor:(0,a.defineAsyncComponent)((()=>o.e(5963).then(o.bind(o,43799))))},props:{reply:{type:Object,required:!1},renote:{type:Object,required:!1},channel:{type:String,required:!1},mention:{type:Object,required:!1},specified:{type:Object,required:!1},initialText:{type:String,required:!1},initialNote:{type:Object,required:!1},instant:{type:Boolean,required:!1,default:!1},autofocus:{type:Boolean,required:!1,default:!1}},emits:["posted","cancel","esc"],data(){return{posting:!1,text:"",files:[],poll:null,useCw:!1,cw:null,localOnly:this.$store.state.rememberNoteVisibility?this.$store.state.localOnly:this.$store.state.defaultNoteLocalOnly,visibility:this.$store.state.rememberNoteVisibility?this.$store.state.visibility:this.$store.state.defaultNoteVisibility,visibleUsers:[],autocomplete:null,draghover:!1,quoteId:null,recentHashtags:JSON.parse(localStorage.getItem("hashtags")||"[]"),imeText:"",typing:(0,So.P)(3e3,(()=>{this.channel&&re.Vw.send("typingOnChannel",{channel:this.channel})})),postFormActions:Lt.sq,faReply:Z.Lh7,faQuoteRight:Z.Elr,faPaperPlane:Z.XCy,faTimes:Z.NBC,faUpload:Z.cf$,faPollH:Z.Mm7,faGlobe:Z.g4A,faHome:Z.J9Y,faUnlock:Z.tAh,faEnvelope:Z.FU$,faEyeSlash:W.Aq,faLaughSquint:W.un,faPlus:Z.r8p,faPhotoVideo:Z.zxC,faAt:Z.IBq,faBiohazard:Z.bRI,faPlug:Z.oso}},computed:{draftKey(){let e=this.channel?"channel:"+this.channel:"";return this.renote?e+="renote:"+this.renote.id:this.reply?e+="reply:"+this.reply.id:e+="note",e},placeholder(){if(this.renote)return this.$ts._postForm.quotePlaceholder;if(this.reply)return this.$ts._postForm.replyPlaceholder;if(this.channel)return this.$ts._postForm.channelPlaceholder;{const e=[this.$ts._postForm._placeholders.a,this.$ts._postForm._placeholders.b,this.$ts._postForm._placeholders.c,this.$ts._postForm._placeholders.d,this.$ts._postForm._placeholders.e,this.$ts._postForm._placeholders.f];return e[Math.floor(Math.random()*e.length)]}},submitText(){return this.renote?this.$ts.quote:this.reply?this.$ts.reply:this.$ts.note},textLength(){return(0,yo.length)((this.text+this.imeText).trim())},canPost(){return!this.posting&&(1<=this.textLength||1<=this.files.length||!!this.poll||!!this.renote)&&this.textLength<=this.max&&(!this.poll||this.poll.choices.length>=2)},max(){return this.$instance?this.$instance.maxNoteTextLength:1e3}},mounted(){if(this.initialText&&(this.text=this.initialText),this.mention&&(this.text=this.mention.host?`@${this.mention.username}@${(0,xo.toASCII)(this.mention.host)}`:"@"+this.mention.username,this.text+=" "),this.reply&&null!=this.reply.user.host&&(this.text=`@${this.reply.user.username}@${(0,xo.toASCII)(this.reply.user.host)} `),this.reply&&null!=this.reply.text){const e=(0,Le.Q)(this.reply.text);for(const t of(0,No.Z)(e)){const e=t.host?`@${t.username}@${(0,xo.toASCII)(t.host)}`:"@"+t.username;this.$i.username==t.username&&null==t.host||(this.$i.username==t.username&&t.host==L.ho||-1==this.text.indexOf(e+" ")&&(this.text+=e+" "))}}this.channel&&(this.visibility="public",this.localOnly=!0),this.reply&&["home","followers","specified"].includes(this.reply.visibility)&&(this.visibility=this.reply.visibility,"specified"===this.reply.visibility&&(re.hi("users/show",{userIds:this.reply.visibleUserIds.filter((e=>e!==this.$i.id&&e!==this.reply.userId))}).then((e=>{this.visibleUsers.push(...e)})),this.reply.userId!==this.$i.id&&re.hi("users/show",{userId:this.reply.userId}).then((e=>{this.visibleUsers.push(e)})))),this.specified&&(this.visibility="specified",this.visibleUsers.push(this.specified)),this.$store.state.keepCw&&this.reply&&this.reply.cw&&(this.useCw=!0,this.cw=this.reply.cw),this.autofocus&&(this.focus(),this.$nextTick((()=>{this.focus()}))),new Vo.F(this.$refs.text,this,{model:"text"}),new Vo.F(this.$refs.cw,this,{model:"cw"}),this.$nextTick((()=>{if(!this.instant&&!this.mention&&!this.specified){const e=JSON.parse(localStorage.getItem("drafts")||"{}")[this.draftKey];e&&(this.text=e.data.text,this.useCw=e.data.useCw,this.cw=e.data.cw,this.visibility=e.data.visibility,this.localOnly=e.data.localOnly,this.files=(e.data.files||[]).filter((e=>e)),e.data.poll&&(this.poll=e.data.poll))}if(this.initialNote){const e=this.initialNote;this.text=e.text?e.text:"",this.files=e.files,this.cw=e.cw,this.useCw=null!=e.cw,e.poll&&(this.poll=e.poll),this.visibility=e.visibility,this.localOnly=e.localOnly,this.quoteId=e.renote?e.renote.id:null}this.$nextTick((()=>this.watch()))}))},methods:{watch(){this.$watch("text",(()=>this.saveDraft())),this.$watch("useCw",(()=>this.saveDraft())),this.$watch("cw",(()=>this.saveDraft())),this.$watch("poll",(()=>this.saveDraft())),this.$watch("files",(()=>this.saveDraft()),{deep:!0}),this.$watch("visibility",(()=>this.saveDraft())),this.$watch("localOnly",(()=>this.saveDraft()))},togglePoll(){this.poll?this.poll=null:this.poll={choices:["",""],multiple:!1,expiresAt:null,expiredAfter:null}},addTag(e){(0,bo.Z)(this.$refs.text,` #${e} `)},focus(){this.$refs.text.focus()},chooseFileFrom(e){(0,Bo.$)(e.currentTarget||e.target,this.$ts.attachFile,!0).then((e=>{for(const t of e)this.files.push(t)}))},detachFile(e){this.files=this.files.filter((t=>t.id!=e))},updateFiles(e){this.files=e},updateFileSensitive(e,t){this.files[this.files.findIndex((t=>t.id===e.id))].isSensitive=t},updateFileName(e,t){this.files[this.files.findIndex((t=>t.id===e.id))].name=t},upload(e,t){re.ws(e,this.$store.state.uploadFolder,t).then((e=>{this.files.push(e)}))},onPollUpdate(e){this.poll=e,this.saveDraft()},setVisibility(){this.channel||re.gk(o.e(9953).then(o.bind(o,9953)),{currentVisibility:this.visibility,currentLocalOnly:this.localOnly,src:this.$refs.visibilityButton},{changeVisibility:e=>{this.visibility=e,this.$store.state.rememberNoteVisibility&&this.$store.set("visibility",e)},changeLocalOnly:e=>{this.localOnly=e,this.$store.state.rememberNoteVisibility&&this.$store.set("localOnly",e)}},"closed")},addVisibleUser(){re.dy().then((e=>{this.visibleUsers.push(e)}))},removeVisibleUser(e){this.visibleUsers=(0,He.T1)(e,this.visibleUsers)},clear(){this.text="",this.files=[],this.poll=null,this.quoteId=null},onKeydown(e){10!==e.which&&13!==e.which||!e.ctrlKey&&!e.metaKey||!this.canPost||this.post(),27===e.which&&this.$emit("esc"),this.typing()},onCompositionUpdate(e){this.imeText=e.data,this.typing()},onCompositionEnd(e){this.imeText=""},async onPaste(e){for(const{item:t,i:o}of Array.from(e.clipboardData.items).map(((e,t)=>({item:e,i:t}))))if("file"==t.kind){const e=t.getAsFile(),a=e.name.lastIndexOf("."),i=a>=0?e.name.slice(a):"",n=`${(0,Co.T)(new Date(e.lastModified),this.$store.state.pastedFileName).replace(/{{number}}/g,""+(o+1))}${i}`;this.upload(e,n)}const t=e.clipboardData.getData("text");this.renote||this.quoteId||!t.startsWith(L.HQ+"/notes/")||(e.preventDefault(),re.WZ({type:"info",text:this.$ts.quoteQuestion,showCancelButton:!0}).then((({canceled:e})=>{e?(0,bo.Z)(this.$refs.text,t):this.quoteId=t.substr(L.HQ.length).match(/^\/notes\/(.+?)\/?$/)[1]})))},onDragover(e){if(!e.dataTransfer.items[0])return;const t="file"==e.dataTransfer.items[0].kind,o="mk_drive_file"==e.dataTransfer.types[0];(t||o)&&(e.preventDefault(),this.draghover=!0,e.dataTransfer.dropEffect="all"==e.dataTransfer.effectAllowed?"copy":"move")},onDragenter(e){this.draghover=!0},onDragleave(e){this.draghover=!1},onDrop(e){if(this.draghover=!1,e.dataTransfer.files.length>0){e.preventDefault();for(const t of Array.from(e.dataTransfer.files))this.upload(t);return}const t=e.dataTransfer.getData("mk_drive_file");if(null!=t&&""!=t){const o=JSON.parse(t);this.files.push(o),e.preventDefault()}},saveDraft(){if(this.instant)return;const e=JSON.parse(localStorage.getItem("drafts")||"{}");e[this.draftKey]={updatedAt:new Date,data:{text:this.text,useCw:this.useCw,cw:this.cw,visibility:this.visibility,localOnly:this.localOnly,files:this.files,poll:this.poll}},localStorage.setItem("drafts",JSON.stringify(e))},deleteDraft(){const e=JSON.parse(localStorage.getItem("drafts")||"{}");delete e[this.draftKey],localStorage.setItem("drafts",JSON.stringify(e))},async post(){let e={text:""==this.text?void 0:this.text,fileIds:this.files.length>0?this.files.map((e=>e.id)):void 0,replyId:this.reply?this.reply.id:void 0,renoteId:this.renote?this.renote.id:this.quoteId?this.quoteId:void 0,channelId:this.channel?this.channel:void 0,poll:this.poll,cw:this.useCw?this.cw||"":void 0,localOnly:this.localOnly,visibility:this.visibility,visibleUserIds:"specified"==this.visibility?this.visibleUsers.map((e=>e.id)):void 0,viaMobile:$o.t};if(Lt.Mm.length>0)for(const t of Lt.Mm)e=await t.handler(JSON.parse(JSON.stringify(e)));this.posting=!0,re.hi("notes/create",e).then((()=>{this.clear(),this.$nextTick((()=>{if(this.deleteDraft(),this.$emit("posted"),this.text&&""!=this.text){const e=(0,Le.Q)(this.text).filter((e=>"hashtag"===e.node.type)).map((e=>e.node.props.hashtag)),t=JSON.parse(localStorage.getItem("hashtags")||"[]");localStorage.setItem("hashtags",JSON.stringify((0,He.Tw)(e.concat(t))))}this.posting=!1}))})).catch((e=>{this.posting=!1,re.WZ({type:"error",text:e.message+"\n"+e.id})}))},cancel(){this.$emit("cancel")},insertMention(){re.dy().then((e=>{(0,bo.Z)(this.$refs.text,"@"+(0,wo.Z)(e)+" ")}))},async insertEmoji(e){re.S7(e.currentTarget||e.target).then((e=>{(0,bo.Z)(this.$refs.text,e)}))},showActions(e){re.n4(Lt.sq.map((e=>({text:e.title,action:()=>{e.handler({text:this.text},((e,t)=>{"text"===e&&(this.text=t)}))}}))),e.currentTarget||e.target)}}});o(91833);Do.render=ko,Do.__scopeId="data-v-4d948147";const Io=Do;var _o=o(61921);const zo=(0,a.defineComponent)({components:{XNotes:eo,XPostForm:Io,MkInfo:_o.Z},directives:{follow:ao.Z},provide(){return{inChannel:"channel"===this.src}},props:{src:{type:String,required:!0},list:{type:String,required:!1},antenna:{type:String,required:!1},channel:{type:String,required:!1}},emits:["note","queue","before","after"],data(){return{connection:null,connection2:null,pagination:null,baseQuery:{includeMyRenotes:this.$store.state.showMyRenotes,includeRenotedMyNotes:this.$store.state.showRenotedMyNotes,includeLocalRenotes:this.$store.state.showLocalRenotes},query:{},queue:0,width:0,top:0,bottom:0,typers:[],date:null}},created(){const e=e=>{this.$refs.tl.prepend(e),this.$emit("note"),to.h(e.userId===this.$i.id?"noteMy":"note")},t=()=>{this.$refs.tl.reload()},o=()=>{this.$refs.tl.reload()},a=()=>{this.$refs.tl.backed||this.$refs.tl.reload()};let i,n=!1;if("antenna"==this.src)i="antennas/notes",this.query={antennaId:this.antenna},this.connection=re.Vw.connectToChannel("antenna",{antennaId:this.antenna}),this.connection.on("note",e);else if("home"==this.src)i="notes/timeline",this.connection=re.Vw.useSharedConnection("homeTimeline"),this.connection.on("note",e),this.connection2=re.Vw.useSharedConnection("main"),this.connection2.on("follow",a),this.connection2.on("unfollow",a);else if("local"==this.src)i="notes/local-timeline",this.connection=re.Vw.useSharedConnection("localTimeline"),this.connection.on("note",e);else if("social"==this.src)i="notes/hybrid-timeline",this.connection=re.Vw.useSharedConnection("hybridTimeline"),this.connection.on("note",e);else if("global"==this.src)i="notes/global-timeline",this.connection=re.Vw.useSharedConnection("globalTimeline"),this.connection.on("note",e);else if("mentions"==this.src)i="notes/mentions",this.connection=re.Vw.useSharedConnection("main"),this.connection.on("mention",e);else if("directs"==this.src){i="notes/mentions",this.query={visibility:"specified"};const t=t=>{"specified"==t.visibility&&e(t)};this.connection=re.Vw.useSharedConnection("main"),this.connection.on("mention",t)}else"list"==this.src?(i="notes/user-list-timeline",this.query={listId:this.list},this.connection=re.Vw.connectToChannel("userList",{listId:this.list}),this.connection.on("note",e),this.connection.on("userAdded",t),this.connection.on("userRemoved",o)):"channel"==this.src&&(i="channels/timeline",n=!0,this.query={channelId:this.channel},this.connection=re.Vw.connectToChannel("channel",{channelId:this.channel}),this.connection.on("note",e),this.connection.on("typers",(e=>{this.typers=this.$i?e.filter((e=>e.id!==this.$i.id)):e})));this.pagination={endpoint:i,reversed:n,limit:10,params:e=>{var t;return Object.assign(Object.assign({untilDate:null===(t=this.date)||void 0===t?void 0:t.getTime()},this.baseQuery),this.query)}}},mounted(){},beforeUnmount(){this.connection.dispose(),this.connection2&&this.connection2.dispose()},methods:{focus(){this.$refs.body.focus()},goTop(){(0,oo.JX)(this.$refs.body).scrollTop=0},queueUpdated(e){if(0!==this.$refs.body.offsetWidth){const e=this.$refs.body.getBoundingClientRect();this.width=this.$refs.body.offsetWidth,this.top=e.top,this.bottom=this.$refs.body.offsetHeight}this.queue=e},timetravel(e){this.date=e,this.$refs.tl.reload()}}});o(88931);zo.render=ke,zo.__scopeId="data-v-57b0e17e";const qo=zo,To=(0,a.withScopeId)("data-v-2d0a2ac5");(0,a.pushScopeId)("data-v-2d0a2ac5");const jo={class:"acemodlh _monospace"},Ao=(0,a.createTextVNode)("/"),Mo=(0,a.createTextVNode)("/");(0,a.popScopeId)();const Fo=To(((e,t,o,i,n,s)=>((0,a.openBlock)(),(0,a.createBlock)("div",jo,[(0,a.createVNode)("div",null,[(0,a.createVNode)("span",{textContent:(0,a.toDisplayString)(e.y)},null,8,["textContent"]),Ao,(0,a.createVNode)("span",{textContent:(0,a.toDisplayString)(e.m)},null,8,["textContent"]),Mo,(0,a.createVNode)("span",{textContent:(0,a.toDisplayString)(e.d)},null,8,["textContent"])]),(0,a.createVNode)("div",null,[(0,a.createVNode)("span",{textContent:(0,a.toDisplayString)(e.hh)},null,8,["textContent"]),(0,a.createVNode)("span",{style:{visibility:e.showColon?"visible":"hidden"}},":",4),(0,a.createVNode)("span",{textContent:(0,a.toDisplayString)(e.mm)},null,8,["textContent"]),(0,a.createVNode)("span",{style:{visibility:e.showColon?"visible":"hidden"}},":",4),(0,a.createVNode)("span",{textContent:(0,a.toDisplayString)(e.ss)},null,8,["textContent"])])])))),Oo=(0,a.defineComponent)({data:()=>({clock:null,y:null,m:null,d:null,hh:null,mm:null,ss:null,showColon:!0}),created(){this.tick(),this.clock=setInterval(this.tick,1e3)},beforeUnmount(){clearInterval(this.clock)},methods:{tick(){const e=new Date;this.y=e.getFullYear().toString(),this.m=(e.getMonth()+1).toString().padStart(2,"0"),this.d=e.getDate().toString().padStart(2,"0"),this.hh=e.getHours().toString().padStart(2,"0"),this.mm=e.getMinutes().toString().padStart(2,"0"),this.ss=e.getSeconds().toString().padStart(2,"0"),this.showColon=e.getSeconds()%2==0}}});o(20267);Oo.render=Fo,Oo.__scopeId="data-v-2d0a2ac5";const Po=Oo;var Uo=o(3216),Ro=o(50261);const Xo=(0,a.defineComponent)({components:{XCommon:oe.Z,XSidebar:H.Z,XWidgets:te,XSide:pe,XTimeline:qo,XHeaderClock:Po},provide(){return{navHook:e=>{switch(e){case"/timeline/home":return void(this.tl="home");case"/timeline/local":return void(this.tl="local");case"/timeline/social":return void(this.tl="social");case"/timeline/global":return void(this.tl="global");default:if(e.startsWith("/channels/"))return void(this.tl="channel:"+e.replace("/channels/",""));this.$refs.side.navigate(e)}},sideViewHook:e=>{this.$refs.side.navigate(e)}}},data:()=>({tl:Y.state.tl,lists:null,antennas:null,followedChannels:null,featuredChannels:null,currentChannel:null,menuDef:Uo.c,sideViewOpening:!1,instanceName:L.Vc,faLayerGroup:Z.Krp,faBars:Z.xiG,faBell:W.qm,faHome:Z.J9Y,faCircle:Z.diR,faPencilAlt:Z.UJf,faShareAlt:Z.EfQ,faSatelliteDish:Z.QNf,faListUl:Z.gf$,faSatellite:Z.mDh,faCog:Z.b7W,faSearch:Z.wn1,faPlus:Z.r8p,faStar:Z.Tab,farStar:W.T,faAt:Z.IBq,faLink:Z.nNP,faEllipsisH:Z.cNd,faGlobe:Z.g4A,faComments:W.lX,faEnvelope:W.FU,faCalendarAlt:W.IV}),created(){window.innerWidth<1024&&(localStorage.setItem("ui","default"),location.reload()),ce.N.beforeEach(((e,t)=>{this.$refs.side.navigate(e.fullPath)})),re.hi("users/lists/list").then((e=>{this.lists=e})),re.hi("antennas/list").then((e=>{this.antennas=e})),re.hi("channels/followed",{limit:20}).then((e=>{this.followedChannels=e})),re.hi("channels/featured",{limit:20}).then((e=>{this.featuredChannels=e})),this.$watch("tl",(()=>{this.tl.startsWith("channel:")&&re.hi("channels/show",{channelId:this.tl.replace("channel:","")}).then((e=>{this.currentChannel=e})),Y.set("tl",this.tl)}),{immediate:!0})},methods:{showMenu(){this.$refs.menu.show()},post(){re.v_()},async timetravel(){const{canceled:e,result:t}=await re.WZ({title:this.$ts.date,input:{type:"date"}});e||this.$refs.tl.timetravel(new Date(t))},search(){(0,Ro.y)()},async inChannelSearch(){const{canceled:e,result:t}=await re.WZ({title:this.$ts.inChannelSearch,input:!0});e||null==t||""===t||ce.N.push(`/search?q=${encodeURIComponent(t)}&channel=${this.currentChannel.id}`)},top(){window.scroll({top:0,behavior:"smooth"})},async toggleChannelFollow(){this.currentChannel.isFollowing?(await re.Zv("channels/unfollow",{channelId:this.currentChannel.id}),this.currentChannel.isFollowing=!1):(await re.Zv("channels/follow",{channelId:this.currentChannel.id}),this.currentChannel.isFollowing=!0)},openChannelMenu(e){re.n4([{text:this.$ts.copyUrl,icon:Z.nNP,action:()=>{(0,le.Z)(`${L.HQ}/channels/${this.currentChannel.id}`)}}],e.currentTarget||e.target)},onTransition(){window._scroll&&window._scroll()},onHeaderClick(){window.scroll({top:0,behavior:"smooth"})},onContextmenu(e){const t=e=>"A"===e.tagName||(e.parentElement?t(e.parentElement):void 0);if(t(e.target))return;if(["INPUT","TEXTAREA"].includes(e.target.tagName)||e.target.attributes.contenteditable)return;if(""!==window.getSelection().toString())return;const o=this.$route.path;re.zC([{type:"label",text:o},{icon:Z.rWw,text:this.$ts.openInSideView,action:()=>{this.$refs.side.navigate(o)}},{icon:Z.iAX,text:this.$ts.openInWindow,action:()=>{re.$(o)}}],e)}}});o(67005);Xo.render=X,Xo.__scopeId="data-v-33fd183f";const Zo=Xo},43476:(e,t,o)=>{var a=o(57823);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("d7ae7ce2",a,!0,{})},94805:(e,t,o)=>{var a=o(62981);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("9cf5f4d0",a,!0,{})},45715:(e,t,o)=>{var a=o(72048);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("35999f4e",a,!0,{})},24478:(e,t,o)=>{var a=o(19210);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("32f4694a",a,!0,{})},52968:(e,t,o)=>{var a=o(53608);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("68d0803a",a,!0,{})},20267:(e,t,o)=>{var a=o(18517);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("516343fe",a,!0,{})},67005:(e,t,o)=>{var a=o(69372);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("0d57ec84",a,!0,{})},73163:(e,t,o)=>{var a=o(87294);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("bda96184",a,!0,{})},37549:(e,t,o)=>{var a=o(62079);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("359df512",a,!0,{})},78639:(e,t,o)=>{var a=o(87538);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("751aa670",a,!0,{})},8664:(e,t,o)=>{var a=o(85968);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("8a765bc6",a,!0,{})},91833:(e,t,o)=>{var a=o(33250);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("8f87f01a",a,!0,{})},38633:(e,t,o)=>{var a=o(50662);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("15de08cc",a,!0,{})},89557:(e,t,o)=>{var a=o(30610);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("6e307688",a,!0,{})},88931:(e,t,o)=>{var a=o(5433);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("525ece44",a,!0,{})},5426:(e,t,o)=>{var a=o(76860);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("835a867a",a,!0,{})}}]);