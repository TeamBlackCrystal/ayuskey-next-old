(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[5315],{90011:(e,t,s)=>{var r=s(23645)((function(e){return e[1]}));r.push([e.id,".mk-group-page>.members>._content>.users>.user[data-v-3a770fbf]{display:flex;align-items:center;padding:16px}.mk-group-page>.members>._content>.users>.user>.avatar[data-v-3a770fbf]{width:50px;height:50px}.mk-group-page>.members>._content>.users>.user>.body[data-v-3a770fbf]{flex:1;padding:8px}.mk-group-page>.members>._content>.users>.user>.body>.name[data-v-3a770fbf]{display:block;font-weight:700}.mk-group-page>.members>._content>.users>.user>.body>.acct[data-v-3a770fbf]{opacity:.5}",""]),e.exports=r},55315:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var r=s(55393);const o=(0,r.withScopeId)("data-v-3a770fbf");(0,r.pushScopeId)("data-v-3a770fbf");const a={class:"mk-group-page"},n={key:0,class:"_section"},i={class:"_content"},u={key:0,class:"_section members _vMargin"},c={class:"_title"},d={class:"_content"},p={class:"users"},l={class:"body"},m={class:"action"};(0,r.popScopeId)();const g=o(((e,t,s,g,h,f)=>{const v=(0,r.resolveComponent)("MkButton"),k=(0,r.resolveComponent)("MkAvatar"),N=(0,r.resolveComponent)("MkUserName"),b=(0,r.resolveComponent)("MkAcct"),y=(0,r.resolveComponent)("Fa");return(0,r.openBlock)(),(0,r.createBlock)("div",a,[(0,r.createVNode)(r.Transition,{name:"zoom",mode:"out-in"},{default:o((()=>[e.group?((0,r.openBlock)(),(0,r.createBlock)("div",n,[(0,r.createVNode)("div",i,[(0,r.createVNode)(v,{inline:"",onClick:t[1]||(t[1]=t=>e.invite())},{default:o((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.$ts.invite),1)])),_:1}),(0,r.createVNode)(v,{inline:"",onClick:t[2]||(t[2]=t=>e.renameGroup())},{default:o((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.$ts.rename),1)])),_:1}),(0,r.createVNode)(v,{inline:"",onClick:t[3]||(t[3]=t=>e.transfer())},{default:o((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.$ts.transfer),1)])),_:1}),(0,r.createVNode)(v,{inline:"",onClick:t[4]||(t[4]=t=>e.deleteGroup())},{default:o((()=>[(0,r.createTextVNode)((0,r.toDisplayString)(e.$ts.delete),1)])),_:1})])])):(0,r.createCommentVNode)("",!0)])),_:1}),(0,r.createVNode)(r.Transition,{name:"zoom",mode:"out-in"},{default:o((()=>[e.group?((0,r.openBlock)(),(0,r.createBlock)("div",u,[(0,r.createVNode)("div",c,(0,r.toDisplayString)(e.$ts.members),1),(0,r.createVNode)("div",d,[(0,r.createVNode)("div",p,[((0,r.openBlock)(!0),(0,r.createBlock)(r.Fragment,null,(0,r.renderList)(e.users,(t=>((0,r.openBlock)(),(0,r.createBlock)("div",{class:"user _panel",key:t.id},[(0,r.createVNode)(k,{user:t,class:"avatar"},null,8,["user"]),(0,r.createVNode)("div",l,[(0,r.createVNode)(N,{user:t,class:"name"},null,8,["user"]),(0,r.createVNode)(b,{user:t,class:"acct"},null,8,["user"])]),(0,r.createVNode)("div",m,[(0,r.createVNode)("button",{class:"_button",onClick:s=>e.removeUser(t)},[(0,r.createVNode)(y,{icon:e.faTimes},null,8,["icon"])],8,["onClick"])])])))),128))])])])):(0,r.createCommentVNode)("",!0)])),_:1})])}));var h=s(51436),f=s(13885),v=s(42453),k=s(10192);const N=(0,r.defineComponent)({components:{MkButton:v.Z},props:{groupId:{type:String,required:!0}},data(){return{INFO:(0,r.computed)((()=>this.group?{title:this.group.name,icon:h.FVb}:null)),group:null,users:[],faTimes:h.NBC,faUsers:h.FVb}},watch:{groupId:"fetch"},created(){this.fetch()},methods:{fetch(){f.Z.start(),k.hi("users/groups/show",{groupId:this.groupId}).then((e=>{this.group=e,k.hi("users/show",{userIds:this.group.userIds}).then((e=>{this.users=e,f.Z.done()}))}))},invite(){k.dy().then((e=>{k.Zv("users/groups/invite",{groupId:this.group.id,userId:e.id})}))},removeUser(e){k.hi("users/groups/pull",{groupId:this.group.id,userId:e.id}).then((()=>{this.users=this.users.filter((t=>t.id!==e.id))}))},async renameGroup(){const{canceled:e,result:t}=await k.WZ({title:this.$ts.groupName,input:{default:this.group.name}});e||(await k.hi("users/groups/update",{groupId:this.group.id,name:t}),this.group.name=t)},transfer(){k.dy().then((e=>{k.Zv("users/groups/transfer",{groupId:this.group.id,userId:e.id})}))},async deleteGroup(){const{canceled:e}=await k.WZ({type:"warning",text:this.$t("removeAreYouSure",{x:this.group.name}),showCancelButton:!0});e||(await k.Zv("users/groups/delete",{groupId:this.group.id}),this.$router.push("/my/groups"))}}});s(17079);N.render=g,N.__scopeId="data-v-3a770fbf";const b=N},17079:(e,t,s)=>{var r=s(90011);"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);(0,s(45346).Z)("21404165",r,!0,{})}}]);