(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[8704],{17175:(e,t,s)=>{var a=s(23645)((function(e){return e[1]}));a.push([e.id,".mk-list-page>.members>._content>.users>.user[data-v-5d4e3c56]{display:flex;align-items:center;padding:16px}.mk-list-page>.members>._content>.users>.user>.avatar[data-v-5d4e3c56]{width:50px;height:50px}.mk-list-page>.members>._content>.users>.user>.body[data-v-5d4e3c56]{flex:1;padding:8px}.mk-list-page>.members>._content>.users>.user>.body>.name[data-v-5d4e3c56]{display:block;font-weight:700}.mk-list-page>.members>._content>.users>.user>.body>.acct[data-v-5d4e3c56]{opacity:.5}",""]),e.exports=a},8704:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>V});var a=s(55393);const i=(0,a.withScopeId)("data-v-5d4e3c56");(0,a.pushScopeId)("data-v-5d4e3c56");const o={class:"mk-list-page"},n={key:0,class:"_section"},r={class:"_content"},l={key:0,class:"_section members _vMargin"},c={class:"_title"},d={class:"_content"},u={class:"users"},m={class:"body"},p={class:"action"};(0,a.popScopeId)();const h=i(((e,t,s,h,k,v)=>{const f=(0,a.resolveComponent)("MkButton"),N=(0,a.resolveComponent)("MkAvatar"),y=(0,a.resolveComponent)("MkUserName"),V=(0,a.resolveComponent)("MkAcct"),g=(0,a.resolveComponent)("Fa");return(0,a.openBlock)(),(0,a.createBlock)("div",o,[(0,a.createVNode)(a.Transition,{name:"zoom",mode:"out-in"},{default:i((()=>[e.list?((0,a.openBlock)(),(0,a.createBlock)("div",n,[(0,a.createVNode)("div",r,[(0,a.createVNode)(f,{inline:"",onClick:t[1]||(t[1]=t=>e.addUser())},{default:i((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts.addUser),1)])),_:1}),(0,a.createVNode)(f,{inline:"",onClick:t[2]||(t[2]=t=>e.renameList())},{default:i((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts.rename),1)])),_:1}),(0,a.createVNode)(f,{inline:"",onClick:t[3]||(t[3]=t=>e.deleteList())},{default:i((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts.delete),1)])),_:1})])])):(0,a.createCommentVNode)("",!0)])),_:1}),(0,a.createVNode)(a.Transition,{name:"zoom",mode:"out-in"},{default:i((()=>[e.list?((0,a.openBlock)(),(0,a.createBlock)("div",l,[(0,a.createVNode)("div",c,(0,a.toDisplayString)(e.$ts.members),1),(0,a.createVNode)("div",d,[(0,a.createVNode)("div",u,[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(e.users,(t=>((0,a.openBlock)(),(0,a.createBlock)("div",{class:"user _panel",key:t.id},[(0,a.createVNode)(N,{user:t,class:"avatar"},null,8,["user"]),(0,a.createVNode)("div",m,[(0,a.createVNode)(y,{user:t,class:"name"},null,8,["user"]),(0,a.createVNode)(V,{user:t,class:"acct"},null,8,["user"])]),(0,a.createVNode)("div",p,[(0,a.createVNode)("button",{class:"_button",onClick:s=>e.removeUser(t)},[(0,a.createVNode)(g,{icon:e.faTimes},null,8,["icon"])],8,["onClick"])])])))),128))])])])):(0,a.createCommentVNode)("",!0)])),_:1})])}));var k=s(51436),v=s(13885),f=s(42453),N=s(10192);const y=(0,a.defineComponent)({components:{MkButton:f.Z},data(){return{INFO:(0,a.computed)((()=>this.list?{title:this.list.name,icon:k.gf$}:null)),list:null,users:[],faTimes:k.NBC,faListUl:k.gf$}},watch:{$route:"fetch"},created(){this.fetch()},methods:{fetch(){v.Z.start(),N.hi("users/lists/show",{listId:this.$route.params.list}).then((e=>{this.list=e,N.hi("users/show",{userIds:this.list.userIds}).then((e=>{this.users=e,v.Z.done()}))}))},addUser(){N.dy().then((e=>{N.Zv("users/lists/push",{listId:this.list.id,userId:e.id}).then((()=>{this.users.push(e)}))}))},removeUser(e){N.hi("users/lists/pull",{listId:this.list.id,userId:e.id}).then((()=>{this.users=this.users.filter((t=>t.id!==e.id))}))},async renameList(){const{canceled:e,result:t}=await N.WZ({title:this.$ts.enterListName,input:{default:this.list.name}});e||(await N.hi("users/lists/update",{listId:this.list.id,name:t}),this.list.name=t)},async deleteList(){const{canceled:e}=await N.WZ({type:"warning",text:this.$t("removeAreYouSure",{x:this.list.name}),showCancelButton:!0});e||(await N.hi("users/lists/delete",{listId:this.list.id}),N.Vp(),this.$router.push("/my/lists"))}}});s(85088);y.render=h,y.__scopeId="data-v-5d4e3c56";const V=y},85088:(e,t,s)=>{var a=s(17175);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,s(45346).Z)("49decf6d",a,!0,{})}}]);