(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[7615],{68542:(e,t,s)=>{var n=s(23645)((function(e){return e[1]}));n.push([e.id,".mkw-onlineUsers[data-v-688c1c96]{text-align:center}.mkw-onlineUsers.pad[data-v-688c1c96]{padding:16px 0}.mkw-onlineUsers>.text[data-v-688c1c96] b{color:#41b781}.mkw-onlineUsers>.text[data-v-688c1c96] span{opacity:.7}",""]),e.exports=n},46397:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s(55393),o=s(51084),r=s(10192);function a(e){return(0,n.defineComponent)({props:{widget:{type:Object,required:!1},settingCallback:{required:!1}},emits:["updateProps"],data(){return{props:this.widget?JSON.parse(JSON.stringify(this.widget.data)):{},save:(0,o.P)(3e3,(()=>{this.$emit("updateProps",this.props)}))}},computed:{id(){return this.widget?this.widget.id:null}},created(){this.mergeProps(),this.$watch("props",(()=>{this.mergeProps()}),{deep:!0}),this.settingCallback&&this.settingCallback(this.setting)},methods:{mergeProps(){if(e.props){const t=e.props();for(const e of Object.keys(t))this.props.hasOwnProperty(e)||(this.props[e]=t[e].default)}},async setting(){const t=e.props();for(const e of Object.keys(t))t[e].default=this.props[e];const{canceled:s,result:n}=await r.cr(e.name,t);if(!s){for(const e of Object.keys(n))this.props[e]=n[e];this.save()}}}})}},97615:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var n=s(55393);const o=(0,n.withScopeId)("data-v-688c1c96"),r=o(((e,t,s,r,a,i)=>{const c=(0,n.resolveComponent)("I18n");return(0,n.openBlock)(),(0,n.createBlock)("div",{class:["mkw-onlineUsers",{_panel:!e.props.transparent,pad:!e.props.transparent}]},[e.onlineUsersCount?((0,n.openBlock)(),(0,n.createBlock)(c,{key:0,src:e.$ts.onlineUsersCount,"text-tag":"span",class:"text"},{n:o((()=>[(0,n.createVNode)("b",null,(0,n.toDisplayString)(e.onlineUsersCount),1)])),_:1},8,["src"])):(0,n.createCommentVNode)("",!0)],2)}));var a=s(46397),i=s(10192);const c=(0,a.Z)({name:"onlineUsers",props:()=>({transparent:{type:"boolean",default:!0}})}),p=(0,n.defineComponent)({extends:c,data:()=>({onlineUsersCount:null,clock:null}),created(){this.tick(),this.clock=setInterval(this.tick,15e3)},beforeUnmount(){clearInterval(this.clock)},methods:{tick(){i.hi("get-online-users-count").then((e=>{this.onlineUsersCount=e.count}))}}});s(13911);p.render=r,p.__scopeId="data-v-688c1c96";const l=p},13911:(e,t,s)=>{var n=s(68542);"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,s(45346).Z)("36d6a50a",n,!0,{})}}]);