(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[1282,9662],{99874:(e,t,o)=>{var i=o(23645)((function(e){return e[1]}));i.push([e.id,".zdjebgpv[data-v-6ec0e189]{position:relative}.zdjebgpv>.icon-sub[data-v-6ec0e189]{position:absolute;width:30%;height:auto;margin:0;right:4%;bottom:4%}.zdjebgpv>*[data-v-6ec0e189]{margin:auto}.zdjebgpv>.icon[data-v-6ec0e189]{pointer-events:none;height:65%;width:65%}",""]),e.exports=i},84602:(e,t,o)=>{var i=o(23645)((function(e){return e[1]}));i.push([e.id,".ebkgoccj[data-v-4b49273d]{overflow:hidden;display:flex;flex-direction:column;contain:content;--section-padding:24px}@media(max-width:500px){.ebkgoccj[data-v-4b49273d]{--section-padding:16px}}.ebkgoccj>.header[data-v-4b49273d]{display:flex;flex-shrink:0;box-shadow:0 1px var(--divider)}.ebkgoccj>.header>button[data-v-4b49273d]{height:58px;width:58px}@media(max-width:500px){.ebkgoccj>.header>button[data-v-4b49273d]{height:42px;width:42px}}.ebkgoccj>.header>.title[data-v-4b49273d]{flex:1;line-height:58px;padding-left:32px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;pointer-events:none}@media(max-width:500px){.ebkgoccj>.header>.title[data-v-4b49273d]{line-height:42px;padding-left:16px}}.ebkgoccj>.header>button+.title[data-v-4b49273d]{padding-left:0}.ebkgoccj>.body[data-v-4b49273d]{overflow:auto}",""]),e.exports=i},42842:(e,t,o)=>{var i=o(23645)((function(e){return e[1]}));i.push([e.id,".ziffeoms[data-v-07df8238]{position:relative;display:flex;margin:32px 0;cursor:pointer;transition:all .3s}.ziffeoms[data-v-07df8238]:first-child{margin-top:0}.ziffeoms[data-v-07df8238]:last-child{margin-bottom:0}.ziffeoms>*[data-v-07df8238]{user-select:none}.ziffeoms.disabled[data-v-07df8238]{opacity:.6;cursor:not-allowed}.ziffeoms.checked>.button[data-v-07df8238]{background-color:var(--X10);border-color:var(--X10)}.ziffeoms.checked>.button>*[data-v-07df8238]{background-color:var(--accent);transform:translateX(14px)}.ziffeoms>input[data-v-07df8238]{position:absolute;width:0;height:0;opacity:0;margin:0}.ziffeoms>.button[data-v-07df8238]{position:relative;display:inline-block;flex-shrink:0;margin:3px 0 0;width:34px;height:14px;background:var(--X6);outline:none;border-radius:14px;transition:inherit}.ziffeoms>.button>*[data-v-07df8238]{position:absolute;top:-3px;left:0;border-radius:100%;transition:background-color .3s,transform .3s;width:20px;height:20px;background-color:#fff;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.ziffeoms>.label[data-v-07df8238]{margin-left:8px;display:block;cursor:pointer;transition:inherit;color:var(--fg)}.ziffeoms>.label>span[data-v-07df8238]{display:block;line-height:20px;transition:inherit}.ziffeoms>.label>p[data-v-07df8238]{margin:0;opacity:.7;font-size:90%}",""]),e.exports=i},64409:(e,t,o)=>{var i=o(23645)((function(e){return e[1]}));i.push([e.id,".cxqhhsmd>._section>.thumbnail[data-v-608b3cf6]{height:150px;max-width:100%}.cxqhhsmd>._section>.info[data-v-608b3cf6]{text-align:center;margin-top:8px}.cxqhhsmd>._section>.rawdata[data-v-608b3cf6]{overflow:auto}",""]),e.exports=i},797:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var i=o(55393);const a=(0,i.withScopeId)("data-v-6ec0e189");(0,i.pushScopeId)("data-v-6ec0e189");const l={class:"zdjebgpv",ref:"thumbnail"};(0,i.popScopeId)();const n=a(((e,t,o,a,n,s)=>{const c=(0,i.resolveComponent)("ImgWithBlurhash"),d=(0,i.resolveComponent)("Fa");return(0,i.openBlock)(),(0,i.createBlock)("div",l,[e.isThumbnailAvailable?((0,i.openBlock)(),(0,i.createBlock)(c,{key:0,hash:e.file.blurhash,src:e.file.thumbnailUrl,alt:e.file.name,title:e.file.name,style:"object-fit: "+e.fit},null,8,["hash","src","alt","title","style"])):"image"===e.is?((0,i.openBlock)(),(0,i.createBlock)(d,{key:1,icon:e.faFileImage,class:"icon"},null,8,["icon"])):"video"===e.is?((0,i.openBlock)(),(0,i.createBlock)(d,{key:2,icon:e.faFileVideo,class:"icon"},null,8,["icon"])):"audio"===e.is||"midi"===e.is?((0,i.openBlock)(),(0,i.createBlock)(d,{key:3,icon:e.faMusic,class:"icon"},null,8,["icon"])):"csv"===e.is?((0,i.openBlock)(),(0,i.createBlock)(d,{key:4,icon:e.faFileCsv,class:"icon"},null,8,["icon"])):"pdf"===e.is?((0,i.openBlock)(),(0,i.createBlock)(d,{key:5,icon:e.faFilePdf,class:"icon"},null,8,["icon"])):"textfile"===e.is?((0,i.openBlock)(),(0,i.createBlock)(d,{key:6,icon:e.faFileAlt,class:"icon"},null,8,["icon"])):"archive"===e.is?((0,i.openBlock)(),(0,i.createBlock)(d,{key:7,icon:e.faFileArchive,class:"icon"},null,8,["icon"])):((0,i.openBlock)(),(0,i.createBlock)(d,{key:8,icon:e.faFile,class:"icon"},null,8,["icon"])),e.isThumbnailAvailable&&"video"===e.is?((0,i.openBlock)(),(0,i.createBlock)(d,{key:9,icon:e.faFilm,class:"icon-sub"},null,8,["icon"])):(0,i.createCommentVNode)("",!0)],512)}));var s=o(51436),c=o(27718),d=o(73120);const r=(0,i.defineComponent)({components:{ImgWithBlurhash:c.Z},props:{file:{type:Object,required:!0},fit:{type:String,required:!1,default:"cover"}},data:()=>({isContextmenuShowing:!1,isDragging:!1,faFile:s.gMD,faFileAlt:s.cwv,faFileImage:s.Oi0,faMusic:s.Xig,faFileVideo:s.hvm,faFileCsv:s.fUD,faFilePdf:s.gSj,faFileArchive:s.W2U,faFilm:s.CjD}),computed:{is(){return this.file.type.startsWith("image/")?"image":this.file.type.startsWith("video/")?"video":"audio/midi"===this.file.type?"midi":this.file.type.startsWith("audio/")?"audio":this.file.type.endsWith("/csv")?"csv":this.file.type.endsWith("/pdf")?"pdf":this.file.type.startsWith("text/")?"textfile":["application/zip","application/x-cpio","application/x-bzip","application/x-bzip2","application/java-archive","application/x-rar-compressed","application/x-tar","application/gzip","application/x-7z-compressed"].some((e=>e===this.file.type))?"archive":"unknown"},isThumbnailAvailable(){return!!this.file.thumbnailUrl&&("image"===this.is||"video"===this.is)}},mounted(){const e=this.$refs.volumectrl;e&&(e.volume=d.cP.get("mediaVolume"))},methods:{volumechange(){const e=this.$refs.volumectrl;d.cP.set("mediaVolume",e.volume)}}});o(21969);r.render=n,r.__scopeId="data-v-6ec0e189";const p=r},26786:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var i=o(55393);const a=(0,i.withScopeId)("data-v-4b49273d");(0,i.pushScopeId)("data-v-4b49273d");const l={class:"header"},n={class:"title"},s={key:0,class:"body"},c={class:"_section"},d={key:1,class:"body"};(0,i.popScopeId)();const r=a(((e,t,o,r,p,f)=>{const h=(0,i.resolveComponent)("Fa"),u=(0,i.resolveComponent)("MkModal");return(0,i.openBlock)(),(0,i.createBlock)(u,{ref:"modal",onClick:t[5]||(t[5]=t=>e.$emit("click")),onClosed:t[6]||(t[6]=t=>e.$emit("closed"))},{default:a((()=>[(0,i.createVNode)("div",{class:"ebkgoccj _popup _narrow_",onKeydown:t[4]||(t[4]=(...t)=>e.onKeydown&&e.onKeydown(...t)),style:{width:e.width+"px",height:e.height?e.height+"px":null}},[(0,i.createVNode)("div",l,[e.withOkButton?((0,i.openBlock)(),(0,i.createBlock)("button",{key:0,class:"_button",onClick:t[1]||(t[1]=t=>e.$emit("close"))},[(0,i.createVNode)(h,{icon:e.faTimes},null,8,["icon"])])):(0,i.createCommentVNode)("",!0),(0,i.createVNode)("span",n,[(0,i.renderSlot)(e.$slots,"header")]),e.withOkButton?(0,i.createCommentVNode)("",!0):((0,i.openBlock)(),(0,i.createBlock)("button",{key:1,class:"_button",onClick:t[2]||(t[2]=t=>e.$emit("close"))},[(0,i.createVNode)(h,{icon:e.faTimes},null,8,["icon"])])),e.withOkButton?((0,i.openBlock)(),(0,i.createBlock)("button",{key:2,class:"_button",onClick:t[3]||(t[3]=t=>e.$emit("ok")),disabled:e.okButtonDisabled},[(0,i.createVNode)(h,{icon:e.faCheck},null,8,["icon"])],8,["disabled"])):(0,i.createCommentVNode)("",!0)]),e.padding?((0,i.openBlock)(),(0,i.createBlock)("div",s,[(0,i.createVNode)("div",c,[(0,i.renderSlot)(e.$slots,"default")])])):((0,i.openBlock)(),(0,i.createBlock)("div",d,[(0,i.renderSlot)(e.$slots,"default")]))],36)])),_:3},512)}));var p=o(51436),f=o(89939);const h=(0,i.defineComponent)({components:{MkModal:f.Z},props:{withOkButton:{type:Boolean,required:!1,default:!1},okButtonDisabled:{type:Boolean,required:!1,default:!1},padding:{type:Boolean,required:!1,default:!1},width:{type:Number,required:!1,default:400},height:{type:Number,required:!1,default:null},canClose:{type:Boolean,required:!1,default:!0}},emits:["click","close","closed","ok"],data:()=>({faTimes:p.NBC,faCheck:p.LEp}),methods:{close(){this.$refs.modal.close()},onKeydown(e){27===e.which&&(e.preventDefault(),e.stopPropagation(),this.close())}}});o(70675);h.render=r,h.__scopeId="data-v-4b49273d";const u=h},83359:(e,t,o)=>{"use strict";o.d(t,{Z:()=>d});var i=o(55393);const a=(0,i.withScopeId)("data-v-07df8238");(0,i.pushScopeId)("data-v-07df8238");const l=(0,i.createVNode)("span",{class:"button"},[(0,i.createVNode)("span")],-1),n={class:"label"};(0,i.popScopeId)();const s=a(((e,t,o,a,s,c)=>((0,i.openBlock)(),(0,i.createBlock)("div",{class:["ziffeoms",{disabled:e.disabled,checked:e.checked}],role:"switch","aria-checked":e.checked,"aria-disabled":e.disabled,onClick:t[2]||(t[2]=(0,i.withModifiers)(((...t)=>e.toggle&&e.toggle(...t)),["prevent"]))},[(0,i.createVNode)("input",{type:"checkbox",ref:"input",disabled:e.disabled,onKeydown:t[1]||(t[1]=(0,i.withKeys)(((...t)=>e.toggle&&e.toggle(...t)),["enter"]))},null,40,["disabled"]),l,(0,i.createVNode)("span",n,[(0,i.createVNode)("span",null,[(0,i.renderSlot)(e.$slots,"default")]),(0,i.createVNode)("p",null,[(0,i.renderSlot)(e.$slots,"desc")])])],10,["aria-checked","aria-disabled"])))),c=(0,i.defineComponent)({props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{checked(){return this.value}},methods:{toggle(){this.disabled||this.$emit("update:value",!this.checked)}}});o(57483);c.render=s,c.__scopeId="data-v-07df8238";const d=c},1282:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>C});var i=o(55393);const a=(0,i.withScopeId)("data-v-608b3cf6");(0,i.pushScopeId)("data-v-608b3cf6");const l={key:0,class:"cxqhhsmd"},n={class:"_section"},s={class:"info"},c={style:{"margin-right":"1em"}},d={class:"_section"},r={class:"_content"},p=(0,i.createTextVNode)("NSFW"),f={class:"_section"},h={class:"_content"},u={key:0,class:"_section"},v={class:"_content rawdata"};(0,i.popScopeId)();const m=a(((e,t,o,m,k,b)=>{const g=(0,i.resolveComponent)("MkDriveFileThumbnail"),x=(0,i.resolveComponent)("MkTime"),y=(0,i.resolveComponent)("MkSwitch"),w=(0,i.resolveComponent)("Fa"),B=(0,i.resolveComponent)("MkButton"),N=(0,i.resolveComponent)("XModalWindow");return(0,i.openBlock)(),(0,i.createBlock)(N,{ref:"dialog",width:370,onClose:t[2]||(t[2]=t=>e.$refs.dialog.close()),onClosed:t[3]||(t[3]=t=>e.$emit("closed"))},(0,i.createSlots)({default:a((()=>[e.file?((0,i.openBlock)(),(0,i.createBlock)("div",l,[(0,i.createVNode)("div",n,[(0,i.createVNode)(g,{class:"thumbnail",file:e.file,fit:"contain"},null,8,["file"]),(0,i.createVNode)("div",s,[(0,i.createVNode)("span",c,(0,i.toDisplayString)(e.file.type),1),(0,i.createVNode)("span",null,(0,i.toDisplayString)(e.bytes(e.file.size)),1),(0,i.createVNode)(x,{time:e.file.createdAt,mode:"detail",style:{display:"block"}},null,8,["time"])])]),(0,i.createVNode)("div",d,[(0,i.createVNode)("div",r,[(0,i.createVNode)(y,{"onUpdate:value":[e.toggleIsSensitive,t[1]||(t[1]=t=>e.isSensitive=t)],value:e.isSensitive},{default:a((()=>[p])),_:1},8,["onUpdate:value","value"])])]),(0,i.createVNode)("div",f,[(0,i.createVNode)("div",h,[(0,i.createVNode)(B,{full:"",onClick:e.showUser},{default:a((()=>[(0,i.createVNode)(w,{icon:e.faExternalLinkSquareAlt},null,8,["icon"]),(0,i.createTextVNode)(" "+(0,i.toDisplayString)(e.$ts.user),1)])),_:1},8,["onClick"]),(0,i.createVNode)(B,{full:"",danger:"",onClick:e.del},{default:a((()=>[(0,i.createVNode)(w,{icon:e.faTrashAlt},null,8,["icon"]),(0,i.createTextVNode)(" "+(0,i.toDisplayString)(e.$ts.delete),1)])),_:1},8,["onClick"])])]),e.info?((0,i.openBlock)(),(0,i.createBlock)("div",u,[(0,i.createVNode)("details",v,[(0,i.createVNode)("pre",null,[(0,i.createVNode)("code",null,(0,i.toDisplayString)(JSON.stringify(e.info,null,2)),1)])])])):(0,i.createCommentVNode)("",!0)])):(0,i.createCommentVNode)("",!0)])),_:2},[e.file?{name:"header",fn:a((()=>[(0,i.createTextVNode)((0,i.toDisplayString)(e.file.name),1)]))}:void 0]),1536)}));var k=o(51436),b=o(56024),g=o(42453),x=o(83359),y=o(26786),w=o(797),B=o(13885),N=o(59092),V=o(10192);const S=(0,i.defineComponent)({components:{MkButton:g.Z,MkSwitch:x.Z,XModalWindow:y.Z,MkDriveFileThumbnail:w.Z},props:{fileId:{required:!0}},emits:["closed"],data:()=>({file:null,info:null,isSensitive:!1,faTimes:k.NBC,faBookmark:k.xVw,farBookmark:b.xV,faKey:k.DD4,faSync:k.UO1,faMicrophoneSlash:k.EkX,faSnowflake:b.jO,faTrashAlt:b.I7,faExternalLinkSquareAlt:k.cyx}),created(){this.fetch()},methods:{async fetch(){B.Z.start(),this.file=await V.hi("drive/files/show",{fileId:this.fileId}),this.info=await V.hi("admin/drive/show-file",{fileId:this.fileId}),this.isSensitive=this.file.isSensitive,B.Z.done()},showUser(){V.gk(o.e(5091).then(o.bind(o,64279)),{userId:this.file.userId},{},"closed")},async del(){const{canceled:e}=await V.WZ({type:"warning",text:this.$t("removeAreYouSure",{x:this.file.name}),showCancelButton:!0});e||V.hi("drive/files/delete",{fileId:this.file.id}).then((()=>{this.$refs.files.removeItem((e=>e.id===this.file.id))}))},async toggleIsSensitive(e){await V.hi("drive/files/update",{fileId:this.fileId,isSensitive:e}),this.isSensitive=e},bytes:N.Z}});o(42323);S.render=m,S.__scopeId="data-v-608b3cf6";const C=S},21969:(e,t,o)=>{var i=o(99874);"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,o(45346).Z)("907f8486",i,!0,{})},70675:(e,t,o)=>{var i=o(84602);"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,o(45346).Z)("58d1b0c9",i,!0,{})},57483:(e,t,o)=>{var i=o(42842);"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,o(45346).Z)("01747328",i,!0,{})},42323:(e,t,o)=>{var i=o(64409);"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);(0,o(45346).Z)("53e08a71",i,!0,{})}}]);