(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[8607],{5573:(e,o,t)=>{var n=t(23645)((function(e){return e[1]}));n.push([e.id,".pxhvhrfw{display:flex}.pxhvhrfw>button{flex:1;padding:15px 12px 12px;border-bottom:3px solid transparent}.pxhvhrfw>button:disabled{opacity:1!important;cursor:default}.pxhvhrfw>button.active{color:var(--accent);border-bottom-color:var(--accent)}.pxhvhrfw>button:not(.active):hover{color:var(--fgHighlighted)}.pxhvhrfw>button>.icon{margin-right:6px}.pxhvhrfw.max-width_500px{font-size:80%}.pxhvhrfw.max-width_500px>button{padding:11px 8px 8px}",""]),e.exports=n},6904:(e,o,t)=>{var n=t(23645)((function(e){return e[1]}));n.push([e.id,'.qljqmnzj[data-v-17cc236f]{display:flex;flex-direction:column;height:100%}.qljqmnzj>.content[data-v-17cc236f]{flex:1;overflow:auto}.qljqmnzj>.content>div[data-v-17cc236f]{display:table;width:100%;padding:16px;box-sizing:border-box}.qljqmnzj>.content>div>div[data-v-17cc236f]{display:table-row}.qljqmnzj>.content>div>div.header[data-v-17cc236f]{opacity:.7}.qljqmnzj>.content>div>div>div[data-v-17cc236f]{display:table-cell;white-space:nowrap}.qljqmnzj>.content>div>div>div[data-v-17cc236f]:not(:last-child){padding-right:8px}.qljqmnzj>.content>div.api>div[data-v-17cc236f]:not(.header){cursor:pointer}.qljqmnzj>.content>div.api>div[data-v-17cc236f]:not(.header):hover{color:var(--accent)}.qljqmnzj>.content>div.api>div>.state.pending[data-v-17cc236f]{color:var(--warn)}.qljqmnzj>.content>div.api>div>.state.success[data-v-17cc236f]{color:var(--success)}.qljqmnzj>.content>div.api>div>.state.failed[data-v-17cc236f]{color:var(--error)}.qljqmnzj>footer[data-v-17cc236f]{display:flex;width:100%;padding:8px 16px;box-sizing:border-box;border-top:1px solid var(--divider);font-size:.9em}.qljqmnzj>footer>div[data-v-17cc236f]{flex:1}.qljqmnzj>footer>div>.label[data-v-17cc236f]{opacity:.7;margin-right:.5em}.qljqmnzj>footer>div>.label[data-v-17cc236f]:after{content:":"}',""]),e.exports=n},54223:(e,o,t)=>{"use strict";t.d(o,{Z:()=>a});var n=t(51533);const a={mounted(e,o,t){if(!1===o.value)return;let a=!0;const l=(0,n.JX)(e);l.addEventListener("scroll",(()=>{const e=(0,n.wA)(l),o=l.clientHeight,t=l.scrollHeight;a=e+o>t-32}),{passive:!0}),l.scrollTop=l.scrollHeight;const i=new ResizeObserver(((e,o)=>{if(a){const e=l.scrollHeight;l.scrollTop=e}}));i.observe(e),e._ro_=i},unmounted(e,o,t){e._ro_&&e._ro_.unobserve(e)}}},52837:(e,o,t)=>{"use strict";t.d(o,{Z:()=>l});var n=t(55393);const a=(0,n.defineComponent)({props:{value:{required:!0}},render(){const e=this.$slots.default();return(0,n.withDirectives)((0,n.h)("div",{class:"pxhvhrfw"},e.map((e=>(0,n.h)("button",{class:["_button",{active:this.value===e.props.value}],key:e.props.value,disabled:this.value===e.props.value,onClick:()=>{this.$emit("update:value",e.props.value)}},e.children)))),[[(0,n.resolveDirective)("size"),{max:[500]}]])}});t(58477);const l=a},48607:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>T});var n=t(55393);const a=(0,n.withScopeId)("data-v-17cc236f");(0,n.pushScopeId)("data-v-17cc236f");const l=(0,n.createTextVNode)("Task Manager "),i={class:"qljqmnzj _monospace"},c=(0,n.createVNode)("option",{value:"windows"},"Windows",-1),r=(0,n.createVNode)("option",{value:"stream"},"Stream",-1),d=(0,n.createVNode)("option",{value:"streamPool"},"Stream (Pool)",-1),s=(0,n.createVNode)("option",{value:"api"},"API",-1),p={class:"content"},v={key:0,class:"windows"},u=(0,n.createVNode)("div",{class:"header"},[(0,n.createVNode)("div",null,"#ID"),(0,n.createVNode)("div",null,"Component"),(0,n.createVNode)("div",null,"Action")],-1),m={key:1,class:"stream"},h=(0,n.createVNode)("div",{class:"header"},[(0,n.createVNode)("div",null,"#ID"),(0,n.createVNode)("div",null,"Ch"),(0,n.createVNode)("div",null,"Handle"),(0,n.createVNode)("div",null,"In"),(0,n.createVNode)("div",null,"Out")],-1),f={key:0},V=(0,n.createTextVNode)("(shared)"),k={key:0},N={key:1},w={key:2,class:"streamPool"},g=(0,n.createVNode)("div",{class:"header"},[(0,n.createVNode)("div",null,"#ID"),(0,n.createVNode)("div",null,"Ch"),(0,n.createVNode)("div",null,"Users")],-1),b={key:3,class:"api"},x=(0,n.createVNode)("div",{class:"header"},[(0,n.createVNode)("div",null,"#ID"),(0,n.createVNode)("div",null,"Endpoint"),(0,n.createVNode)("div",null,"State")],-1),y=(0,n.createVNode)("span",{class:"label"},"Windows",-1),q=(0,n.createVNode)("span",{class:"label"},"Stream",-1),B=(0,n.createVNode)("span",{class:"label"},"Stream (Pool)",-1);(0,n.popScopeId)();const j=a(((e,o,t,j,C,D)=>{const S=(0,n.resolveComponent)("Fa"),z=(0,n.resolveComponent)("MkTab"),_=(0,n.resolveComponent)("XWindow"),I=(0,n.resolveDirective)("follow");return(0,n.openBlock)(),(0,n.createBlock)(_,{ref:"window","initial-width":650,"initial-height":420,"can-resize":!0,onClosed:o[2]||(o[2]=o=>e.$emit("closed"))},{header:a((()=>[(0,n.createVNode)(S,{icon:e.faTerminal,style:{"margin-right":"0.5em"}},null,8,["icon"]),l])),default:a((()=>[(0,n.createVNode)("div",i,[(0,n.createVNode)(z,{value:e.tab,"onUpdate:value":o[1]||(o[1]=o=>e.tab=o),style:{"border-bottom":"solid 1px var(--divider)"}},{default:a((()=>[c,r,d,s])),_:1},8,["value"]),(0,n.createVNode)("div",p,["windows"===e.tab?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)("div",v,[u,((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(e.popups,(o=>((0,n.openBlock)(),(0,n.createBlock)("div",null,[(0,n.createVNode)("div",null,"#"+(0,n.toDisplayString)(o.id),1),(0,n.createVNode)("div",null,(0,n.toDisplayString)(o.component.name?o.component.name:"<anonymous>"),1),(0,n.createVNode)("div",null,[(0,n.createVNode)("button",{class:"_textButton",onClick:t=>e.killPopup(o)},"Kill",8,["onClick"])])])))),256))],512)),[[I]]):(0,n.createCommentVNode)("",!0),"stream"===e.tab?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)("div",m,[h,((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(e.connections,(e=>((0,n.openBlock)(),(0,n.createBlock)("div",null,[(0,n.createVNode)("div",null,"#"+(0,n.toDisplayString)(e.id),1),(0,n.createVNode)("div",null,(0,n.toDisplayString)(e.channel),1),null!==e.users?((0,n.openBlock)(),(0,n.createBlock)("div",f,[V,e.name?((0,n.openBlock)(),(0,n.createBlock)("span",k,(0,n.toDisplayString)(" "+e.name),1)):(0,n.createCommentVNode)("",!0)])):((0,n.openBlock)(),(0,n.createBlock)("div",N,(0,n.toDisplayString)(e.name?e.name:"<anonymous>"),1)),(0,n.createVNode)("div",null,(0,n.toDisplayString)(e.in),1),(0,n.createVNode)("div",null,(0,n.toDisplayString)(e.out),1)])))),256))],512)),[[I]]):(0,n.createCommentVNode)("",!0),"streamPool"===e.tab?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)("div",w,[g,((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(e.pools,(e=>((0,n.openBlock)(),(0,n.createBlock)("div",null,[(0,n.createVNode)("div",null,"#"+(0,n.toDisplayString)(e.id),1),(0,n.createVNode)("div",null,(0,n.toDisplayString)(e.channel),1),(0,n.createVNode)("div",null,(0,n.toDisplayString)(e.users),1)])))),256))],512)),[[I]]):(0,n.createCommentVNode)("",!0),"api"===e.tab?(0,n.withDirectives)(((0,n.openBlock)(),(0,n.createBlock)("div",b,[x,((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(e.apiRequests,(o=>((0,n.openBlock)(),(0,n.createBlock)("div",{onClick:t=>e.showReq(o)},[(0,n.createVNode)("div",null,"#"+(0,n.toDisplayString)(o.id),1),(0,n.createVNode)("div",null,(0,n.toDisplayString)(o.endpoint),1),(0,n.createVNode)("div",{class:["state",o.state]},(0,n.toDisplayString)(o.state),3)],8,["onClick"])))),256))],512)),[[I]]):(0,n.createCommentVNode)("",!0)]),(0,n.createVNode)("footer",null,[(0,n.createVNode)("div",null,[y,(0,n.createTextVNode)((0,n.toDisplayString)(e.popups.length),1)]),(0,n.createVNode)("div",null,[q,(0,n.createTextVNode)((0,n.toDisplayString)(e.connections.length),1)]),(0,n.createVNode)("div",null,[B,(0,n.createTextVNode)((0,n.toDisplayString)(e.pools.length),1)])])])])),_:1},512)}));var C=t(51436),D=t(91650),S=t(52837),z=t(42453),_=t(54223),I=t(10192);const P=(0,n.defineComponent)({components:{XWindow:D.Z,MkTab:S.Z,MkButton:z.Z},directives:{follow:_.Z},props:{},emits:["closed"],setup(){const e=(0,n.shallowRef)([]),o=(0,n.shallowRef)([]),a=setInterval((()=>{console.log(I.Vw.sharedConnectionPools,I.Vw.sharedConnections,I.Vw.nonSharedConnections);const t=I.Vw.sharedConnections.map((e=>({id:e.id,name:e.name,channel:e.channel,users:e.pool.users,in:e.inCount,out:e.outCount}))).concat(I.Vw.nonSharedConnections.map((e=>({id:e.id,name:e.name,channel:e.channel,users:null,in:e.inCount,out:e.outCount}))));t.sort(((e,o)=>e.id>o.id?1:-1)),e.value=t,o.value=I.Vw.sharedConnectionPools}),1e3);(0,n.onBeforeUnmount)((()=>{clearInterval(a)}));return{tab:(0,n.ref)("stream"),popups:I.EH,apiRequests:I.P6,connections:e,pools:o,killPopup:e=>{I.EH.value=I.EH.value.filter((o=>o!==e))},showReq:e=>{I.gk(Promise.all([t.e(1142),t.e(3280)]).then(t.bind(t,83280)),{req:e},{},"closed")},faTerminal:C.Jw3}}});t(48370);P.render=j,P.__scopeId="data-v-17cc236f";const T=P},58477:(e,o,t)=>{var n=t(5573);"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,t(45346).Z)("114c2abe",n,!0,{})},48370:(e,o,t)=>{var n=t(6904);"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,t(45346).Z)("2b6f5159",n,!0,{})}}]);