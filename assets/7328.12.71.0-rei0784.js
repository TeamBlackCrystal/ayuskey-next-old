(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[7328],{27328:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(20713)),t.utils=r(82890),t.values=r(83250),t.parse=r(27168).parse},63831:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e,t){super(e),this.info=t,Error.captureStackTrace&&Error.captureStackTrace(this,r)}}t.AiScriptError=r},20713:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var a,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(s<3?a(o):s>3?a(t,r,o):a(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});const a=r(88572),s=r(91191),o=r(63831),u=r(84626),i=r(82890),l=r(83250);class c{constructor(e,t){this.stepCount=0,this.stop=!1,this.abortHandlers=[],this.opts=t||{};const r={print:l.FN_NATIVE((e=>{this.opts.out&&this.opts.out(e[0])})),readline:l.FN_NATIVE((async e=>{const t=e[0];if(i.assertString(t),null==this.opts.in)return l.NULL;const r=await this.opts.in(t.value);return l.STR(r)}))};this.vars=Object.assign(Object.assign(Object.assign({},e),u.std),r),this.scope=new s.Scope([new Map(Object.entries(this.vars))]),this.scope.opts.log=(e,t)=>{switch(e){case"add":this.log("var:add",t);break;case"read":this.log("var:read",t);break;case"write":this.log("var:write",t)}}}async exec(e){if(null==e||0===e.length)return;await this.collectNs(e);const t=await this._run(e,this.scope);this.log("end",{val:t})}async execFn(e,t){return this._fn(e,t)}static collectMetadata(e){if(null==e||0===e.length)return;function t(e){switch(e.type){case"arr":return e.value.map((e=>t(e)));case"bool":return e.value;case"null":return null;case"num":return e.value;case"obj":{const r={};for(const[n,a]of e.value.entries())r[n]=t(a);return r}case"str":return e.value}}const r=new Map;for(const n of e)switch(n.type){case"meta":r.set(n.name,t(n.value))}return r}log(e,t){this.opts.log&&this.opts.log(e,t)}async collectNs(e){for(const t of e)switch(t.type){case"ns":await this.collectNsMember(t)}}async collectNsMember(e){const t=this.scope.createChildScope();for(const r of e.members)switch(r.type){case"def":{const n=await this._eval(r.expr,t);t.add(r.name,n),this.scope.add(e.name+":"+r.name,n);break}case"ns":break;default:throw new Error("invalid ns member type: "+r.type)}}async _fn(e,t){if(e.native){return await Promise.resolve(e.native(t,{call:this._fn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler}))||l.NULL}{const r=new Map;for(let n=0;n<(e.args||[]).length;n++)r.set(e.args[n],t[n]);const n=e.scope.createChildScope(r);return l.unWrapRet(await this._run(e.statements,n))}}async _eval(e,t){if(this.stop)return l.NULL;if(this.log("node",{node:e}),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new o.AiScriptError("max step exceeded");switch(e.type){case"call":{const r=t.get(e.name);i.assertFunction(r);const n=await Promise.all(e.args.map((async e=>await this._eval(e,t))));return this._fn(r,n)}case"if":{const r=await this._eval(e.cond,t);if(i.assertBoolean(r),r.value)return this._eval(e.then,t);if(e.elseif&&e.elseif.length>0){for(const r of e.elseif){const e=await this._eval(r.cond,t);if(i.assertBoolean(e),e.value)return this._eval(r.then,t)}if(e.else)return this._eval(e.else,t)}else if(e.else)return this._eval(e.else,t);return l.NULL}case"match":{const r=await this._eval(e.about,t);for(const n of e.qs){const e=await this._eval(n.q,t);if(i.eq(r,e))return await this._eval(n.a,t)}return e.default?await this._eval(e.default,t):l.NULL}case"for":{let r=[];if(e.times){const n=await this._eval(e.times,t);i.assertNumber(n);for(let a=1;a<n.value+1;a++){const n=await this._eval(e.for,t);r.push(n)}}else{const n=await this._eval(e.from,t),a=await this._eval(e.to,t);i.assertNumber(n),i.assertNumber(a);for(let s=n.value+1;s<a.value+1;s++){const n=await this._eval(e.for,t.createChildScope(new Map([[e.var,l.NUM(s)]])));r.push(n)}}return l.ARR(r)}case"forOf":{let r=[];const n=await this._eval(e.items,t);i.assertArray(n);for(const a of n.value){const n=await this._eval(e.for,t.createChildScope(new Map([[e.var,a]])));r.push(n)}return l.ARR(r)}case"def":return t.add(e.name,await this._eval(e.expr,t)),l.NULL;case"var":return t.get(e.name);case"assign":return t.assign(e.name,await this._eval(e.expr,t)),l.NULL;case"propAssign":{let r=t.get(e.obj);const n=e.path[e.path.length-1];for(const t of e.path.slice(0,e.path.length-1)){if(i.assertObject(r),!r.value.has(t)){r=l.NULL;break}r=r.value.get(t)}return i.assertObject(r),r.value.set(n,await this._eval(e.expr,t)),l.NULL}case"indexAssign":{const r=t.get(e.arr);i.assertArray(r);const n=await this._eval(e.i,t);return i.assertNumber(n),r.value[n.value-1]=await this._eval(e.expr,t),l.NULL}case"inc":{const r=t.get(e.name);i.assertNumber(r);const n=await this._eval(e.expr,t);return i.assertNumber(n),r.value+=n.value,l.NULL}case"dec":{const r=t.get(e.name);i.assertNumber(r);const n=await this._eval(e.expr,t);return i.assertNumber(n),r.value-=n.value,l.NULL}case"null":return l.NULL;case"bool":return l.BOOL(e.value);case"num":return l.NUM(e.value);case"str":return l.STR(e.value);case"arr":return l.ARR(await Promise.all(e.value.map((async e=>await this._eval(e,t)))));case"obj":{const r=new Map;for(const n of e.value.keys())r.set(n,await this._eval(e.value.get(n),t));return l.OBJ(r)}case"prop":{let r=t.get(e.obj);for(const t of e.path){if(i.assertObject(r),!r.value.has(t)){r=l.NULL;break}r=r.value.get(t)}return r}case"propCall":{let r=t.get(e.obj);for(const t of e.path){if(i.assertObject(r),!r.value.has(t)){r=l.NULL;break}r=r.value.get(t)}i.assertFunction(r);const n=await Promise.all(e.args.map((async e=>await this._eval(e,t))));return this._fn(r,n)}case"index":{const r=t.get(e.arr);i.assertArray(r);const n=await this._eval(e.i,t);return i.assertNumber(n),r.value[n.value-1]}case"fn":return l.FN(e.args,e.children,t);case"block":return this._run(e.statements,t.createChildScope());case"tmpl":{let r="";for(const n of e.tmpl)if("string"==typeof n)r+=n;else{const e=await this._eval(n,t);let a="";"str"===e.type?a=e.value:"num"===e.type&&(a=e.value.toString()),r+=a}return l.STR(r)}case"return":{const r=await this._eval(e.expr,t);return this.log("block:return",{scope:t.name,val:r}),l.RETURN(r)}case"ns":case"meta":return l.NULL}}async _run(e,t){this.log("block:enter",{scope:t.name});let r=l.NULL;for(let n=0;n<e.length;n++){const a=e[n];if(r=await this._eval(a,t),"return"===r.type)return this.log("block:return",{scope:t.name,val:r.value}),r}return this.log("block:leave",{scope:t.name,val:r}),r}registerAbortHandler(e){this.abortHandlers.push(e)}unregisterAbortHandler(e){this.abortHandlers=this.abortHandlers.filter((t=>t!=e))}abort(){this.stop=!0;for(const e of this.abortHandlers)e();this.abortHandlers=[]}}n([a.default],c.prototype,"exec",null),n([a.default],c.prototype,"execFn",null),n([a.default],c.prototype,"log",null),n([a.default],c.prototype,"collectNs",null),n([a.default],c.prototype,"collectNsMember",null),n([a.default],c.prototype,"_fn",null),n([a.default],c.prototype,"_eval",null),n([a.default],c.prototype,"_run",null),n([a.default],c.prototype,"registerAbortHandler",null),n([a.default],c.prototype,"unregisterAbortHandler",null),n([a.default],c.prototype,"abort",null),n([a.default],c,"collectMetadata",null),t.AiScript=c},84626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6716),a=r(30641),s=r(36377),o=r(83250),u=r(82890),i=r(63831),l=r(216);t.std={help:o.STR("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":o.STR(l.version),"Core:ai":o.STR("kawaii"),"Core:not":o.FN_NATIVE((([e])=>(u.assertBoolean(e),e.value?o.FALSE:o.TRUE))),"Core:eq":o.FN_NATIVE((([e,t])=>u.eq(e,t)?o.TRUE:o.FALSE)),"Core:neq":o.FN_NATIVE((([e,t])=>u.eq(e,t)?o.FALSE:o.TRUE)),"Core:and":o.FN_NATIVE((([e,t])=>(u.assertBoolean(e),u.assertBoolean(t),e.value&&t.value?o.TRUE:o.FALSE))),"Core:or":o.FN_NATIVE((([e,t])=>(u.assertBoolean(e),u.assertBoolean(t),e.value||t.value?o.TRUE:o.FALSE))),"Core:add":o.FN_NATIVE((([e,t])=>(u.assertNumber(e),u.assertNumber(t),o.NUM(e.value+t.value)))),"Core:sub":o.FN_NATIVE((([e,t])=>(u.assertNumber(e),u.assertNumber(t),o.NUM(e.value-t.value)))),"Core:mul":o.FN_NATIVE((([e,t])=>(u.assertNumber(e),u.assertNumber(t),o.NUM(e.value*t.value)))),"Core:div":o.FN_NATIVE((([e,t])=>{u.assertNumber(e),u.assertNumber(t);const r=e.value/t.value;if(isNaN(r))throw new i.AiScriptError("Invalid operation.");return o.NUM(r)})),"Core:mod":o.FN_NATIVE((([e,t])=>(u.assertNumber(e),u.assertNumber(t),o.NUM(e.value%t.value)))),"Core:gt":o.FN_NATIVE((([e,t])=>(u.assertNumber(e),u.assertNumber(t),e.value>t.value?o.TRUE:o.FALSE))),"Core:lt":o.FN_NATIVE((([e,t])=>(u.assertNumber(e),u.assertNumber(t),e.value<t.value?o.TRUE:o.FALSE))),"Core:gteq":o.FN_NATIVE((([e,t])=>(u.assertNumber(e),u.assertNumber(t),e.value>=t.value?o.TRUE:o.FALSE))),"Core:lteq":o.FN_NATIVE((([e,t])=>(u.assertNumber(e),u.assertNumber(t),e.value<=t.value?o.TRUE:o.FALSE))),"Core:type":o.FN_NATIVE((([e])=>o.STR(e.type))),"Core:to_str":o.FN_NATIVE((([e])=>"str"===e.type?e:"num"===e.type?o.STR(e.value.toString()):o.STR("?"))),"Util:uuid":o.FN_NATIVE((()=>o.STR(n.v4()))),"Json:stringify":o.FN_NATIVE((([e])=>o.STR(JSON.stringify(u.valToJs(e))))),"Json:parse":o.FN_NATIVE((([e])=>(u.assertString(e),u.jsToVal(JSON.parse(e.value))))),"Date:now":o.FN_NATIVE((()=>o.NUM(Date.now()))),"Date:year":o.FN_NATIVE((()=>o.NUM((new Date).getFullYear()))),"Date:month":o.FN_NATIVE((()=>o.NUM((new Date).getMonth()+1))),"Date:day":o.FN_NATIVE((()=>o.NUM((new Date).getDate()))),"Date:hour":o.FN_NATIVE((()=>o.NUM((new Date).getHours()))),"Date:minute":o.FN_NATIVE((()=>o.NUM((new Date).getMinutes()))),"Date:second":o.FN_NATIVE((()=>o.NUM((new Date).getSeconds()))),"Date:parse":o.FN_NATIVE((([e])=>(u.assertString(e),o.NUM(new Date(e.value).getTime())))),"Math:PI":o.NUM(Math.PI),"Math:sin":o.FN_NATIVE((([e])=>(u.assertNumber(e),o.NUM(Math.sin(e.value))))),"Math:cos":o.FN_NATIVE((([e])=>(u.assertNumber(e),o.NUM(Math.cos(e.value))))),"Math:abs":o.FN_NATIVE((([e])=>(u.assertNumber(e),o.NUM(Math.abs(e.value))))),"Math:sqrt":o.FN_NATIVE((([e])=>{u.assertNumber(e);const t=Math.sqrt(e.value);if(isNaN(t))throw new i.AiScriptError("Invalid operation.");return o.NUM(t)})),"Math:round":o.FN_NATIVE((([e])=>(u.assertNumber(e),o.NUM(Math.round(e.value))))),"Math:floor":o.FN_NATIVE((([e])=>(u.assertNumber(e),o.NUM(Math.floor(e.value))))),"Math:min":o.FN_NATIVE((([e,t])=>(u.assertNumber(e),u.assertNumber(t),o.NUM(Math.min(e.value,t.value))))),"Math:max":o.FN_NATIVE((([e,t])=>(u.assertNumber(e),u.assertNumber(t),o.NUM(Math.max(e.value,t.value))))),"Math:rnd":o.FN_NATIVE((([e,t])=>e&&"num"===e.type&&t&&"num"===t.type?o.NUM(Math.floor(Math.random()*(t.value-e.value+1)+e.value)):o.NUM(Math.random()))),"Math:gen_rng":o.FN_NATIVE((([e])=>{if("num"!==e.type&&"str"!==e.type)return o.NULL;const t=s(e.value.toString());return o.FN_NATIVE((([e,r])=>e&&"num"===e.type&&r&&"num"===r.type?o.NUM(Math.floor(t()*(r.value-e.value+1)+e.value)):o.NUM(t())))})),"Num:to_hex":o.FN_NATIVE((([e])=>(u.assertNumber(e),o.STR(e.value.toString(16))))),"Num:from_hex":o.FN_NATIVE((([e])=>(u.assertString(e),o.NUM(parseInt(e.value,16))))),"Str:lf":o.STR("\n"),"Str:to_num":o.FN_NATIVE((([e])=>{if("num"===e.type)return e;if("str"===e.type){const t=parseInt(e.value,10);return isNaN(t)?o.NULL:o.NUM(t)}return o.NULL})),"Str:len":o.FN_NATIVE((([e])=>"str"!==e.type?o.NUM(0):o.NUM(a.length(e.value)))),"Str:pick":o.FN_NATIVE((([e,t])=>{u.assertString(e),u.assertNumber(t);const r=a.toArray(e.value)[t.value-1];return r?o.STR(r):o.NULL})),"Str:incl":o.FN_NATIVE((([e,t])=>(u.assertString(e),u.assertString(t),e.value.includes(t.value)?o.TRUE:o.FALSE))),"Str:slice":o.FN_NATIVE((([e,t,r])=>(u.assertString(e),u.assertNumber(t),u.assertNumber(r),o.STR(a.substring(e.value,t.value-1,r.value-1))))),"Str:split":o.FN_NATIVE((([e,t])=>(u.assertString(e),t&&u.assertString(t),t?o.ARR(e.value.split(t?t.value:"").map((e=>o.STR(e)))):o.ARR(a.toArray(e.value).map((e=>o.STR(e))))))),"Str:replace":o.FN_NATIVE((([e,t,r])=>(u.assertString(e),u.assertString(t),u.assertString(r),o.STR(e.value.split(t.value).join(r.value))))),"Str:index_of":o.FN_NATIVE((([e,t])=>(u.assertString(e),u.assertString(t),o.NUM(a.indexOf(e.value,t.value)+1)))),"Str:trim":o.FN_NATIVE((([e])=>(u.assertString(e),o.STR(e.value.trim())))),"Str:upper":o.FN_NATIVE((([e])=>(u.assertString(e),o.STR(e.value.toUpperCase())))),"Str:lower":o.FN_NATIVE((([e])=>(u.assertString(e),o.STR(e.value.toLowerCase())))),"Arr:len":o.FN_NATIVE((([e])=>"arr"!==e.type?o.NUM(0):o.NUM(e.value.length))),"Arr:push":o.FN_NATIVE((([e,t])=>(u.assertArray(e),e.value.push(t),o.NULL))),"Arr:unshift":o.FN_NATIVE((([e,t])=>(u.assertArray(e),e.value.unshift(t),o.NULL))),"Arr:pop":o.FN_NATIVE((([e])=>(u.assertArray(e),e.value.pop()))),"Arr:shift":o.FN_NATIVE((([e])=>(u.assertArray(e),e.value.shift()))),"Arr:concat":o.FN_NATIVE((([e,t])=>(u.assertArray(e),u.assertArray(t),o.ARR(e.value.concat(t.value))))),"Arr:join":o.FN_NATIVE((([e,t])=>(u.assertArray(e),t&&u.assertString(t),o.STR(e.value.map((e=>"str"===e.type?e.value:"")).join(t?t.value:""))))),"Arr:slice":o.FN_NATIVE((([e,t,r])=>(u.assertArray(e),u.assertNumber(t),u.assertNumber(r),o.ARR(e.value.slice(t.value-1,r.value-1))))),"Arr:incl":o.FN_NATIVE((([e,t])=>{if(u.assertArray(e),"str"!==t.type&&"num"!==t.type&&"bool"!==t.type&&"null"!==t.type)return o.FALSE;return(r=e,r.value.map((e=>"str"===e.type||"num"===e.type||"bool"===e.type?e.value:"null"===e.type?null:Symbol()))).includes("null"===t.type?null:t.value)?o.TRUE:o.FALSE;var r})),"Arr:map":o.FN_NATIVE((async([e,t],r)=>{u.assertArray(e),u.assertFunction(t);const n=e.value.map((async(e,n)=>await r.call(t,[e,o.NUM(n+1)])));return o.ARR(await Promise.all(n))})),"Arr:filter":o.FN_NATIVE((async([e,t],r)=>{u.assertArray(e),u.assertFunction(t);const n=[];for(let a=0;a<e.value.length;a++){const s=e.value[a],i=await r.call(t,[s,o.NUM(a+1)]);u.assertBoolean(i),i.value&&n.push(s)}return o.ARR(n)})),"Arr:reduce":o.FN_NATIVE((async([e,t,r],n)=>{u.assertArray(e),u.assertFunction(t);const a=null!=r;let s=a?r:e.value[0];for(let r=a?0:1;r<e.value.length;r++){const a=e.value[r];s=await n.call(t,[s,a,o.NUM(r+1)])}return s})),"Arr:find":o.FN_NATIVE((async([e,t],r)=>{u.assertArray(e),u.assertFunction(t);for(let n=0;n<e.value.length;n++){const a=e.value[n],s=await r.call(t,[a,o.NUM(n+1)]);if(u.assertBoolean(s),s.value)return a}return o.NULL})),"Arr:reverse":o.FN_NATIVE((([e])=>(u.assertArray(e),e.value.reverse(),o.NULL))),"Arr:copy":o.FN_NATIVE((async([e])=>(u.assertArray(e),o.ARR([...e.value])))),"Obj:keys":o.FN_NATIVE((([e])=>(u.assertObject(e),o.ARR(Array.from(e.value.keys()).map((e=>o.STR(e))))))),"Obj:kvs":o.FN_NATIVE((([e])=>(u.assertObject(e),o.ARR(Array.from(e.value.entries()).map((([e,t])=>o.ARR([o.STR(e),t]))))))),"Obj:get":o.FN_NATIVE((([e,t])=>(u.assertObject(e),u.assertString(t),e.value.get(t.value)||o.NULL))),"Obj:set":o.FN_NATIVE((([e,t,r])=>(u.assertObject(e),u.assertString(t),e.value.set(t.value,r),o.NULL))),"Obj:has":o.FN_NATIVE((([e,t])=>(u.assertObject(e),u.assertString(t),o.BOOL(e.value.has(t.value))))),"Obj:copy":o.FN_NATIVE((([e])=>(u.assertObject(e),o.OBJ(new Map(e.value))))),"Async:interval":o.FN_NATIVE((async([e,t,r],n)=>{u.assertNumber(e),u.assertFunction(t),r&&u.assertBoolean(r),r&&n.call(t,[]);const a=setInterval((()=>{n.call(t,[])}),e.value),s=()=>{clearInterval(a)};return n.registerAbortHandler(s),o.FN_NATIVE((([],e)=>{clearInterval(a),e.unregisterAbortHandler(s)}))})),"Async:timeout":o.FN_NATIVE((async([e,t],r)=>{u.assertNumber(e),u.assertFunction(t);const n=setTimeout((()=>{r.call(t,[])}),e.value),a=()=>{clearTimeout(n)};return r.registerAbortHandler(a),o.FN_NATIVE((([],e)=>{clearTimeout(n),e.unregisterAbortHandler(a)}))}))}},91191:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var a,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(o=(s<3?a(o):s>3?a(t,r,o):a(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(t,"__esModule",{value:!0});const a=r(88572),s=r(63831);class o{constructor(e=[],t,r){this.opts={},this.layerdStates=e,this.parent=t,this.name=r||(1===e.length?"<root>":"<anonymous>")}log(e,t){this.parent?this.parent.log(e,t):this.opts.log&&this.opts.log(e,t)}onUpdated(e,t){this.parent?this.parent.onUpdated(e,t):this.opts.onUpdated&&this.opts.onUpdated(e,t)}createChildScope(e=new Map,t){const r=[e,...this.layerdStates];return new o(r,this,t)}get(e){for(const t of this.layerdStates)if(t.has(e)){const r=t.get(e);return this.log("read",{var:e,val:r}),r}throw new s.AiScriptError(`No such variable '${e}' in scope '${this.name}'`,{scope:this.layerdStates})}add(e,t){if(this.log("add",{var:e,val:t}),this.layerdStates[0].has(e))throw new s.AiScriptError(`Variable '${e}' is alerady exists in scope '${this.name}'`,{scope:this.layerdStates});this.layerdStates[0].set(e,t),null==this.parent&&this.onUpdated(e,t)}assign(e,t){let r=1;for(const n of this.layerdStates){if(n.has(e))return n.set(e,t),this.log("assign",{var:e,val:t}),void(r===this.layerdStates.length&&this.onUpdated(e,t));r++}throw new s.AiScriptError(`No such variable '${e}' in scope '${this.name}'`,{scope:this.layerdStates})}}n([a.default],o.prototype,"log",null),n([a.default],o.prototype,"onUpdated",null),n([a.default],o.prototype,"createChildScope",null),n([a.default],o.prototype,"get",null),n([a.default],o.prototype,"add",null),n([a.default],o.prototype,"assign",null),t.Scope=o},82890:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(83250),a=r(63831);t.assertBoolean=function(e){if("bool"!==e.type)throw new a.AiScriptError(`Expect boolean, but got ${e.type}.`)},t.assertFunction=function(e){if("fn"!==e.type)throw new a.AiScriptError(`Expect function, but got ${e.type}.`)},t.assertString=function(e){if("str"!==e.type)throw new a.AiScriptError(`Expect string, but got ${e.type}.`)},t.assertNumber=function(e){if("num"!==e.type)throw new a.AiScriptError(`Expect number, but got ${e.type}.`)},t.assertObject=function(e){if("obj"!==e.type)throw new a.AiScriptError(`Expect object, but got ${e.type}.`)},t.assertArray=function(e){if("arr"!==e.type)throw new a.AiScriptError(`Expect array, but got ${e.type}.`)},t.eq=function(e,t){return"fn"!==e.type&&"fn"!==t.type&&("null"===e.type&&"null"===t.type||"null"!==e.type&&"null"!==t.type&&e.value===t.value)},t.valToString=function e(t,r=!1){if(r){if("num"===t.type)return t.value;if("bool"===t.type)return t.value?"yes":"no";if("str"===t.type)return`"${t.value}"`;if("arr"===t.type)return`[${t.value.map((t=>e(t,!0))).join(", ")}]`;if("null"===t.type)return"(null)"}const n="num"===t.type||"bool"===t.type?t.value:"str"===t.type?`"${t.value}"`:"fn"===t.type||"obj"===t.type?"...":"null"===t.type?"":null;return`${t.type}<${n}>`},t.nodeToString=function(e){const t="num"===e.type||"bool"===e.type||"str"===e.type?e.value:"fn"===e.type||"null"===e.type?null:"def"===e.type||"var"===e.type||"call"===e.type?e.name:null;return t?`${e.type.toUpperCase()} (${t})`:e.type.toUpperCase()},t.valToJs=function e(t){switch(t.type){case"arr":return t.value.map((t=>e(t)));case"bool":return t.value;case"null":return null;case"num":return t.value;case"obj":{const r={};for(const[n,a]of t.value.entries())r[n]=e(a);return r}case"str":return t.value;default:return}},t.jsToVal=function e(t){if(null===t)return n.NULL;if("boolean"==typeof t)return n.BOOL(t);if("string"==typeof t)return n.STR(t);if("number"==typeof t)return n.NUM(t);if(Array.isArray(t))return n.ARR(t.map((t=>e(t))));if("object"==typeof t){const r=new Map;for(const[n,a]of Object.entries(t))r.set(n,e(a));return n.OBJ(r)}return n.NULL}},83250:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NULL={type:"null"},t.TRUE={type:"bool",value:!0},t.FALSE={type:"bool",value:!1},t.NUM=e=>({type:"num",value:e}),t.STR=e=>({type:"str",value:e}),t.BOOL=e=>({type:"bool",value:e}),t.OBJ=e=>({type:"obj",value:e}),t.ARR=e=>({type:"arr",value:e}),t.FN=(e,t,r)=>({type:"fn",args:e,statements:t,scope:r}),t.FN_NATIVE=e=>({type:"fn",native:e}),t.RETURN=e=>({type:"return",value:e}),t.unWrapRet=e=>"return"===e.type?e.value:e},27168:(e,t,r)=>{"use strict";function n(e,t,r,a){this.message=e,this.expected=t,this.found=r,this.location=a,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,n)}!function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(n,Error),n.buildMessage=function(e,t){var r={literal:function(e){return'"'+a(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?s(e.parts[t][0])+"-"+s(e.parts[t][1]):s(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function s(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}return"Expected "+function(e){var t,n,a,s=new Array(e.length);for(t=0;t<e.length;t++)s[t]=(a=e[t],r[a.type](a));if(s.sort(),s.length>0){for(t=1,n=1;t<s.length;t++)s[t-1]!==s[t]&&(s[n]=s[t],n++);s.length=n}switch(s.length){case 1:return s[0];case 2:return s[0]+" or "+s[1];default:return s.slice(0,-1).join(", ")+", or "+s[s.length-1]}}(e)+" but "+function(e){return e?'"'+a(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:n,parse:function e(t,a){a=void 0!==a?a:{};var s,o={},u={Entry:0,Core:3},i=0,l=[function(t){return function(t,r){return e(t,r?{startRule:r}:{})}(t.join(""),"Core")},function(){return y()},function(){return""},{type:"any"},"//",N("//",!1),function(e){return e},function(e,t){return t},function(e,t){return[e,...t]},"::",N("::",!1),"{",N("{",!1),"}",N("}",!1),function(e,t){return _("ns",{name:e,members:t})},"#",N("#",!1),"=",N("=",!1),function(e,t){return _("def",{name:e,expr:t,mut:!1})},"$",N("$",!1),"<-",N("<-",!1),function(e,t){return _("def",{name:e,expr:t,mut:!0})},function(e,t){return _("assign",{name:e,expr:t})},".",N(".",!1),function(e,t){return t},function(e,t,r){return _("propAssign",{obj:e,path:t,expr:r})},"[",N("[",!1),"]",N("]",!1),function(e,t,r){return _("indexAssign",{arr:e,i:t,expr:r})},"+<-",N("+<-",!1),function(e,t){return _("inc",{name:e,expr:t})},"-<-",N("-<-",!1),function(e,t){return _("dec",{name:e,expr:t})},"<<<",N("<<<",!1),function(e){return _("debug",{expr:e})},function(e){return _("var",{name:e})},function(e,t){return _("prop",{obj:e,path:t})},"(",N("(",!1),")",N(")",!1),function(e,t,r){return _("propCall",{obj:e,path:t,args:r||[]})},function(e,t){return _("index",{arr:e,i:t})},/^[+\-]/,g(["+","-"],!1,!1),/^[1-9]/,g([["1","9"]],!1,!1),/^[0-9]/,g([["0","9"]],!1,!1),function(){return _("num",{value:parseInt(y(),10)})},"`",N("`",!1),function(e){return e},function(e){return _("tmpl",{tmpl:E(e)})},function(e){return e},"\\{",N("\\{",!1),function(){return y()[1]},"\\}",N("\\}",!1),"\\`",N("\\`",!1),function(){return"`"},'"',N('"',!1),function(e){return e},function(e){return _("str",{value:e.join("")})},'\\"',N('\\"',!1),function(){return'"'},"yes",N("yes",!1),"+",N("+",!1),/^[A-Z0-9_]/i,g([["A","Z"],["0","9"],"_"],!1,!0),function(){return _("bool",{value:!0})},"no",N("no",!1),"-",N("-",!1),function(){return _("bool",{value:!1})},",",N(",",!1),function(e){return e},function(e){return _("arr",{value:e})},":",N(":",!1),";",N(";",!1),function(e,t){return{k:e,v:t}},function(e){const t=new Map;for(const r of e)t.set(r.k,r.v);return _("obj",{value:t})},"_",N("_",!1),function(){return _("null",{})},function(e){return _("block",{statements:e})},"<<",N("<<",!1),function(e){return _("return",{expr:e})},"<:",N("<:",!1),function(e){return _("call",{name:"print",args:[e]})},"@",N("@",!1),function(e,t,r){return _("def",{name:e,expr:_("fn",{args:t},r)})},"@(",N("@(",!1),function(e,t){return _("fn",{args:e},t)},function(e,t){return _("call",{name:e,args:t||[]})},function(e,t){return t},function(){return"Core:eq"},"!=",N("!=",!1),function(){return"Core:neq"},"&",N("&",!1),function(){return"Core:and"},"|",N("|",!1),function(){return"Core:or"},function(){return"Core:add"},function(){return"Core:sub"},"*",N("*",!1),function(){return"Core:mul"},"/",N("/",!1),function(){return"Core:div"},"%",N("%",!1),function(){return"Core:mod"},">=",N(">=",!1),function(){return"Core:gteq"},"<=",N("<=",!1),function(){return"Core:lteq"},">",N(">",!1),function(){return"Core:gt"},"<",N("<",!1),function(){return"Core:lt"},function(e,t,r){return _("call",{name:t,args:[e,r]})},"?",N("?",!1),function(e,t,r){return r},function(e,t,r,n){return n},function(e,t,r,n){return _("if",{cond:e,then:t,elseif:r||[],else:n})},function(e,t){return t},function(e,t){return{cond:e,then:t}},function(e){return e},"=>",N("=>",!1),function(e,t,r){return{q:t,a:r}},function(e,t,r){return r},function(e,t,r){return _("match",{about:e,qs:t||[],default:r})},"~",N("~",!1),function(e,t){return t},function(e,t,r,n){return _("for",{var:e,from:t||_("num",{value:0}),to:r,for:n})},function(e,t){return _("for",{times:e,for:t})},"~~",N("~~",!1),function(e,t,r){return _("forOf",{var:e,items:t,for:r})},"###",N("###",!1),function(e,t){return _("meta",{name:e,value:t})},function(e){return _("meta",{name:null,value:e})},/^[A-Z_]/i,g([["A","Z"],"_"],!1,!0),"\r\n",N("\r\n",!1),/^[\r\n]/,g(["\r","\n"],!1,!1),/^[ \t\r\n]/,g([" ","\t","\r","\n"],!1,!1),/^[ \t]/,g([" ","\t"],!1,!1)],c=[x("%$;!0#*;!&/' 8!: !! )"),x('%;6/& 8!:!! ).J &%;9/& 8!:!! ).9 &%;"/& 8!:"! ).( &1""5!7#'),x('%2$""6$7%/{#$%%<;W=.##&&!&\'#/1#1""5!7#/#$+")("\'#&\'#0G*%%<;W=.##&&!&\'#/1#1""5!7#/#$+")("\'#&\'#&/#$+")("\'#&\'#'),x("%;X/?#;$.\" &\"/1$;X/($8#:&#!!)(#'#(\"'#&'#"),x('%;%/k#$%;Z/2#;%/)$8":\'""$ )("\'#&\'#0<*%;Z/2#;%/)$8":\'""$ )("\'#&\'#&/)$8":(""! )("\'#&\'#'),x(";*.Y &;..S &;/.M &;+.G &;,.A &;-.; &;C.5 &;'./ &;S.) &;0.# &;&"),x(";3. &;2. &;4. &;@. &;A.} &;I.w &;M.q &;N.k &;O.e &;D._ &;5.Y &;6.S &;9.M &;E.G &;H.A &;;.; &;<.5 &;=./ &;>.) &;1.# &;?"),x('%2)""6)7*/#;Z/y$;U/p$;Z/g$2+""6+7,/X$;X/O$;(." &"/A$;X/8$2-""6-7./)$8):/)"&")()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#'),x('%;)/k#$%;Z/2#;)/)$8":\'""$ )("\'#&\'#0<*%;Z/2#;)/)$8":\'""$ )("\'#&\'#&/)$8":(""! )("\'#&\'#'),x(";*.) &;C.# &;'"),x("%20\"\"6071/\\#;U/S$;X/J$22\"\"6273/;$;X/2$;&/)$8&:4&\"$ )(&'#(%'#($'#(#'#(\"'#&'#.l &%25\"\"6576/\\#;U/S$;X/J$27\"\"6778/;$;X/2$;&/)$8&:9&\"$ )(&'#(%'#($'#(#'#(\"'#&'#"),x("%;U/S#;X/J$27\"\"6778/;$;X/2$;&/)$8%::%\"$ )(%'#($'#(#'#(\"'#&'#"),x('%;V/¨#$%2;""6;7</2#;U/)$8":=""$ )("\'#&\'#/E#0B*%2;""6;7</2#;U/)$8":=""$ )("\'#&\'#&&&#/T$;X/K$27""6778/<$;X/3$;&/*$8&:>&#%$ )(&\'#(%\'#($\'#(#\'#("\'#&\'#'),x("%;V/#2?\"\"6?7@/~$;X/u$;&/l$;X/c$2A\"\"6A7B/T$;X/K$27\"\"6778/<$;X/3$;&/*$8*:C*#)& )(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#"),x("%;U/S#;X/J$2D\"\"6D7E/;$;X/2$;&/)$8%:F%\"$ )(%'#($'#(#'#(\"'#&'#"),x("%;U/S#;X/J$2G\"\"6G7H/;$;X/2$;&/)$8%:I%\"$ )(%'#($'#(#'#(\"'#&'#"),x("%2J\"\"6J7K/:#;X/1$;&/($8#:L#! )(#'#(\"'#&'#"),x("%;V/' 8!:M!! )"),x('%;V/}#$%2;""6;7</2#;U/)$8":=""$ )("\'#&\'#/E#0B*%2;""6;7</2#;U/)$8":=""$ )("\'#&\'#&&&#/)$8":N""! )("\'#&\'#'),x('%;V/¼#$%2;""6;7</2#;U/)$8":=""$ )("\'#&\'#/E#0B*%2;""6;7</2#;U/)$8":=""$ )("\'#&\'#&&&#/h$2O""6O7P/Y$;X/P$;F." &"/B$;X/9$2Q""6Q7R/*$8\':S\'#&%")(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#'),x('%;V/b#2?""6?7@/S$;X/J$;&/A$;X/8$2A""6A7B/)$8&:T&"%")(&\'#(%\'#($\'#(#\'#("\'#&\'#'),x('%4U""5!7V." &"/X#4W""5!7X/I$$4Y""5!7Z/,#0)*4Y""5!7Z&&&#/\'$8#:[# )(#\'#("\'#&\'#.K &%4U""5!7V." &"/6#4Y""5!7Z/\'$8":[" )("\'#&\'#'),x('%2\\""6\\7]/#$%%<2\\""6\\7]=.##&&!&\'#/1#;7/($8":^"! )("\'#&\'#0M*%%<2\\""6\\7]=.##&&!&\'#/1#;7/($8":^"! )("\'#&\'#&/7$2\\""6\\7]/($8#:_#!!)(#\'#("\'#&\'#'),x(';8.m &%2+""6+7,/R#;Y/I$;&/@$;Y/7$2-""6-7./($8%:`%!")(%\'#($\'#(#\'#("\'#&\'#.( &1""5!7#'),x('%2a""6a7b/& 8!:c! ).K &%2d""6d7e/& 8!:c! ).4 &%2f""6f7g/& 8!:h! )'),x('%2i""6i7j/±#$%%<2i""6i7j=.##&&!&\'#/<#;:.( &1""5!7#/($8":k"! )("\'#&\'#0X*%%<2i""6i7j=.##&&!&\'#/<#;:.( &1""5!7#/($8":k"! )("\'#&\'#&/7$2i""6i7j/($8#:l#!!)(#\'#("\'#&\'#'),x('%2m""6m7n/& 8!:o! )'),x('%2p""6p7q.) &2r""6r7s/B#%<4t""5!7u=.##&&!&\'#/\'$8":v" )("\'#&\'#.^ &%2w""6w7x.) &2y""6y7z/B#%<4t""5!7u=.##&&!&\'#/\'$8":{" )("\'#&\'#'),x('%2?""6?7@/Ã#;X/º$$%;&/N#;X/E$2|""6|7}." &"/1$;X/($8$:~$!#)($\'#(#\'#("\'#&\'#0X*%;&/N#;X/E$2|""6|7}." &"/1$;X/($8$:~$!#)($\'#(#\'#("\'#&\'#&/@$;X/7$2A""6A7B/($8%:%!")(%\'#($\'#(#\'#("\'#&\'#'),x('%2+""6+7,/Ĩ#;X/ğ$$%;U/#;X/|$2""67/m$;Z/d$;&/[$;X/R$2|""6|7}.) &2""67." &"/2$;X/)$8(:("\'#)((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#0*%;U/#;X/|$2""67/m$;Z/d$;&/[$;X/R$2|""6|7}.) &2""67." &"/2$;X/)$8(:("\'#)((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#&/7$2-""6-7./($8$:$!!)($\'#(#\'#("\'#&\'#'),x('%2""67/B#%<4t""5!7u=.##&&!&\'#/\'$8":" )("\'#&\'#'),x('%2+""6+7,/R#;X/I$;$/@$;X/7$2-""6-7./($8%:%!")(%\'#($\'#(#\'#("\'#&\'#'),x("%2\"\"67/:#;X/1$;&/($8#:#! )(#'#(\"'#&'#"),x("%2\"\"67/:#;X/1$;&/($8#:#! )(#'#(\"'#&'#"),x('%;V/#$%2|""6|7}." &"/;#;Z/2$;V/)$8#:=#"% )(#\'#("\'#&\'#0P*%2|""6|7}." &"/;#;Z/2$;V/)$8#:=#"% )(#\'#("\'#&\'#&/)$8":(""! )("\'#&\'#'),x('%2""67/¸#;U/¯$2O""6O7P/ $;X/$;B." &"/$;X/$2Q""6Q7R/q$;X/h$2+""6+7,/Y$;X/P$;$." &"/B$;X/9$2-""6-7./*$8-:-#+(")(-\'#(,\'#(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#'),x('%2""67/#;X/$;B." &"/$;X/$2Q""6Q7R/p$;X/g$2+""6+7,/X$;X/O$;$." &"/A$;X/8$2-""6-7./)$8+:+"(")(+\'#(*\'#()\'#((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#'),x('%;V/g#2O""6O7P/X$;X/O$;F." &"/A$;X/8$2Q""6Q7R/)$8&:&"%")(&\'#(%\'#($\'#(#\'#("\'#&\'#'),x('%;&/#$%2|""6|7}." &"/;#;Z/2$;&/)$8#:#"% )(#\'#("\'#&\'#0P*%2|""6|7}." &"/;#;Z/2$;&/)$8#:#"% )(#\'#("\'#&\'#&/)$8":(""! )("\'#&\'#'),x('%22""6273/& 8!:! ).ı &%2""67/& 8!:! ).Ě &%2""67/& 8!:! ).ă &%2""67 /& 8!:¡! ).ì &%2r""6r7s/& 8!:¢! ).Õ &%2y""6y7z/& 8!:£! ).¾ &%2¤""6¤7¥/& 8!:¦! ).§ &%2§""6§7¨/& 8!:©! ). &%2ª""6ª7«/& 8!:¬! ).y &%2­""6­7®/& 8!:¯! ).b &%2°""6°7±/& 8!:²! ).K &%2³""6³7´/& 8!:µ! ).4 &%2¶""6¶7·/& 8!:¸! )'),x("%2O\"\"6O7P/x#;X/o$;&/f$;X/]$;G/T$;X/K$;&/B$;X/9$2Q\"\"6Q7R/*$8):¹)#&$\")()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#"),x("%2º\"\"6º7»/ #;Z/$;&/$;Z/$;&/|$%;Z/3#;J/*$8\":¼\"#%# )(\"'#&'#.\" &\"/T$%;Z/4#;L/+$8\":½\"$&$# )(\"'#&'#.\" &\"/+$8':¾'$$\"! )(''#(&'#(%'#($'#(#'#(\"'#&'#"),x('%;K/k#$%;X/2#;K/)$8":¿""$ )("\'#&\'#0<*%;X/2#;K/)$8":¿""$ )("\'#&\'#&/)$8":(""! )("\'#&\'#'),x('%$2;""6;7</,#0)*2;""6;7<&&&#/\\#2º""6º7»/M$;X/D$;&/;$;X/2$;&/)$8&:À&"" )(&\'#(%\'#($\'#(#\'#("\'#&\'#'),x('%$2;""6;7</,#0)*2;""6;7<&&&#/:#;X/1$;&/($8#:Á#! )(#\'#("\'#&\'#'),x("%2º\"\"6º7»/ū#;X/Ţ$;&/ř$;X/Ő$2+\"\"6+7,/Ł$;X/ĸ$$%;&/]#;X/T$2Â\"\"6Â7Ã/E$;X/<$;&/3$;X/*$8&:Ä&#+%!)(&'#(%'#($'#(#'#(\"'#&'#/j#0g*%;&/]#;X/T$2Â\"\"6Â7Ã/E$;X/<$;&/3$;X/*$8&:Ä&#+%!)(&'#(%'#($'#(#'#(\"'#&'#&&&#/$%2¤\"\"6¤7¥/]#;X/T$2Â\"\"6Â7Ã/E$;X/<$;&/3$;X/*$8&:Å&#+'!)(&'#(%'#($'#(#'#(\"'#&'#.\" &\"/B$;X/9$2-\"\"6-7./*$8*:Æ*#'#\")(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#"),x("%2Ç\"\"6Ç7È/á#;X/Ø$2O\"\"6O7P/É$20\"\"6071/º$;U/±$;X/¨$%22\"\"6273/;#;X/2$;&/)$8#:É#\"% )(#'#(\"'#&'#.\" &\"/r$2|\"\"6|7}.\" &\"/^$;X/U$;&/L$2Q\"\"6Q7R/=$;Z/4$;&/+$8-:Ê-$(&# )(-'#(,'#(+'#(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#.ű &%2Ç\"\"6Ç7È/Ã#;Z/º$20\"\"6071/«$;U/¢$;X/$%22\"\"6273/;#;X/2$;&/)$8#:É#\"% )(#'#(\"'#&'#.\" &\"/c$2|\"\"6|7}.\" &\"/O$;X/F$;&/=$;Z/4$;&/+$8+:Ê+$'%\" )(+'#(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#.» &%2Ç\"\"6Ç7È/k#;X/b$2O\"\"6O7P/S$;&/J$2Q\"\"6Q7R/;$;Z/2$;&/)$8':Ë'\"# )(''#(&'#(%'#($'#(#'#(\"'#&'#.] &%2Ç\"\"6Ç7È/M#;Z/D$;&/;$;Z/2$;&/)$8%:Ë%\"\" )(%'#($'#(#'#(\"'#&'#"),x("%2Ì\"\"6Ì7Í/ª#;X/¡$2O\"\"6O7P/$20\"\"6071/$;U/z$;X/q$2|\"\"6|7}.\" &\"/]$;X/T$;&/K$2Q\"\"6Q7R/<$;Z/3$;&/*$8,:Î,#'# )(,'#(+'#(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#. &%2Ì\"\"6Ì7Í/#;Z/$20\"\"6071/t$;U/k$;X/b$2|\"\"6|7}.\" &\"/N$;X/E$;&/<$;Z/3$;&/*$8*:Î*#&\" )(*'#()'#(('#(''#(&'#(%'#($'#(#'#(\"'#&'#"),x(";5.; &;9.5 &;;./ &;Q.) &;R.# &;>"),x('%2?""6?7@/Ã#;X/º$$%;P/N#;X/E$2|""6|7}." &"/1$;X/($8$:~$!#)($\'#(#\'#("\'#&\'#0X*%;P/N#;X/E$2|""6|7}." &"/1$;X/($8$:~$!#)($\'#(#\'#("\'#&\'#&/@$;X/7$2A""6A7B/($8%:%!")(%\'#($\'#(#\'#("\'#&\'#'),x('%2+""6+7,/Ĩ#;X/ğ$$%;U/#;X/|$2""67/m$;Z/d$;P/[$;X/R$2|""6|7}.) &2""67." &"/2$;X/)$8(:("\'#)((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#0*%;U/#;X/|$2""67/m$;Z/d$;P/[$;X/R$2|""6|7}.) &2""67." &"/2$;X/)$8(:("\'#)((\'#(\'\'#(&\'#(%\'#($\'#(#\'#("\'#&\'#&/7$2-""6-7./($8$:$!!)($\'#(#\'#("\'#&\'#'),x("%2Ï\"\"6Ï7Ð/M#;Y/D$;U/;$;X/2$;P/)$8%:Ñ%\"\" )(%'#($'#(#'#(\"'#&'#.J &%2Ï\"\"6Ï7Ð/:#;Y/1$;P/($8#:Ò#! )(#'#(\"'#&'#"),x('2""67.5 &2p""6p7q.) &2w""6w7x'),x('%%<%;T/>#%<4t""5!7u=.##&&!&\'#/#$+")("\'#&\'#=.##&&!&\'#/R#4Ó""5!7Ô/C$$4t""5!7u0)*4t""5!7u&/\'$8#:!# )(#\'#("\'#&\'#'),x('%;U/i#$%2""67/,#;U/#$+")("\'#&\'#0<*%2""67/,#;U/#$+")("\'#&\'#&/\'$8":!" )("\'#&\'#'),x('%<1""5!7#=.##&&!&\'#.5 &2Õ""6Õ7Ö.) &4×""5!7Ø'),x('$4Ù""5!7Ú0)*4Ù""5!7Ú&'),x('$4Û""5!7Ü0)*4Û""5!7Ü&'),x('$4Ù""5!7Ú/,#0)*4Ù""5!7Ú&&&#')],p=0,f=0,$=[{line:1,column:1}],h=0,v=[],d=0;if("startRule"in a){if(!(a.startRule in u))throw new Error("Can't start parsing from rule \""+a.startRule+'".');i=u[a.startRule]}function y(){return t.substring(f,p)}function N(e,t){return{type:"literal",text:e,ignoreCase:t}}function g(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function m(e){var r,n=$[e];if(n)return n;for(r=e-1;!$[r];)r--;for(n={line:(n=$[r]).line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return $[e]=n,n}function b(e,t){var r=m(e),n=m(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function A(e){p<h||(p>h&&(h=p,v=[]),v.push(e))}function w(e,t,r){return new n(n.buildMessage(e,t),e,t,r)}function x(e){var t,r=new Array(e.length);for(t=0;t<e.length;t++)r[t]=e.charCodeAt(t)-32;return r}const{createNode:_,concatTemplate:E}=r(66061);if((s=function e(r){for(var n,a,s=c[r],u=0,i=[],$=s.length,h=[],v=[];;){for(;u<$;)switch(s[u]){case 0:v.push(l[s[u+1]]),u+=2;break;case 1:v.push(void 0),u++;break;case 2:v.push(null),u++;break;case 3:v.push(o),u++;break;case 4:v.push([]),u++;break;case 5:v.push(p),u++;break;case 6:v.pop(),u++;break;case 7:p=v.pop(),u++;break;case 8:v.length-=s[u+1],u+=2;break;case 9:v.splice(-2,1),u++;break;case 10:v[v.length-2].push(v.pop()),u++;break;case 11:v.push(v.splice(v.length-s[u+1],s[u+1])),u+=2;break;case 12:v.push(t.substring(v.pop(),p)),u++;break;case 13:h.push($),i.push(u+3+s[u+1]+s[u+2]),v[v.length-1]?($=u+3+s[u+1],u+=3):($=u+3+s[u+1]+s[u+2],u+=3+s[u+1]);break;case 14:h.push($),i.push(u+3+s[u+1]+s[u+2]),v[v.length-1]===o?($=u+3+s[u+1],u+=3):($=u+3+s[u+1]+s[u+2],u+=3+s[u+1]);break;case 15:h.push($),i.push(u+3+s[u+1]+s[u+2]),v[v.length-1]!==o?($=u+3+s[u+1],u+=3):($=u+3+s[u+1]+s[u+2],u+=3+s[u+1]);break;case 16:v[v.length-1]!==o?(h.push($),i.push(u),$=u+2+s[u+1],u+=2):u+=2+s[u+1];break;case 17:h.push($),i.push(u+3+s[u+1]+s[u+2]),t.length>p?($=u+3+s[u+1],u+=3):($=u+3+s[u+1]+s[u+2],u+=3+s[u+1]);break;case 18:h.push($),i.push(u+4+s[u+2]+s[u+3]),t.substr(p,l[s[u+1]].length)===l[s[u+1]]?($=u+4+s[u+2],u+=4):($=u+4+s[u+2]+s[u+3],u+=4+s[u+2]);break;case 19:h.push($),i.push(u+4+s[u+2]+s[u+3]),t.substr(p,l[s[u+1]].length).toLowerCase()===l[s[u+1]]?($=u+4+s[u+2],u+=4):($=u+4+s[u+2]+s[u+3],u+=4+s[u+2]);break;case 20:h.push($),i.push(u+4+s[u+2]+s[u+3]),l[s[u+1]].test(t.charAt(p))?($=u+4+s[u+2],u+=4):($=u+4+s[u+2]+s[u+3],u+=4+s[u+2]);break;case 21:v.push(t.substr(p,s[u+1])),p+=s[u+1],u+=2;break;case 22:v.push(l[s[u+1]]),p+=l[s[u+1]].length,u+=2;break;case 23:v.push(o),0===d&&A(l[s[u+1]]),u+=2;break;case 24:f=v[v.length-1-s[u+1]],u+=2;break;case 25:f=p,u++;break;case 26:for(n=s.slice(u+4,u+4+s[u+3]),a=0;a<s[u+3];a++)n[a]=v[v.length-1-n[a]];v.splice(v.length-s[u+2],s[u+2],l[s[u+1]].apply(null,n)),u+=4+s[u+3];break;case 27:v.push(e(s[u+1])),u+=2;break;case 28:d++,u++;break;case 29:d--,u++;break;default:throw new Error("Invalid opcode: "+s[u]+".")}if(!(h.length>0))break;$=h.pop(),u=i.pop()}return v[0]}(i))!==o&&p===t.length)return s;throw s!==o&&p<t.length&&A({type:"end"}),w(v,h<t.length?t.charAt(h):null,h<t.length?b(h,h+1):b(h,h))}}},66061:(e,t)=>{"use strict";function r(e,t){const r=[];for(let n=0;n<e.length;n++)0!=n&&t(e[n-1],e[n])?r[r.length-1].push(e[n]):r.push([e[n]]);return r}function n(e){return e.reduce(((e,t)=>e.concat(t)),[])}Object.defineProperty(t,"__esModule",{value:!0}),t.createNode=function(e,t,r){const n={type:e};t.children=r;for(const e of Object.keys(t))void 0!==t[e]&&(n[e]=t[e]);return n},t.group=r,t.ungroup=n,t.concatTemplate=function(e){let t=r(e,((e,t)=>typeof t==typeof e));return t=t.map((e=>"string"==typeof e[0]?[e.join("")]:e)),n(t)}},6716:(e,t,r)=>{"use strict";r.r(t),r.d(t,{v1:()=>$,v3:()=>b,v4:()=>A,v5:()=>_});var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),a=new Uint8Array(16);function s(){if(!n)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(a)}for(var o=[],u=0;u<256;++u)o[u]=(u+256).toString(16).substr(1);const i=function(e,t){var r=t||0,n=o;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")};var l,c,p=0,f=0;const $=function(e,t,r){var n=t&&r||0,a=t||[],o=(e=e||{}).node||l,u=void 0!==e.clockseq?e.clockseq:c;if(null==o||null==u){var $=e.random||(e.rng||s)();null==o&&(o=l=[1|$[0],$[1],$[2],$[3],$[4],$[5]]),null==u&&(u=c=16383&($[6]<<8|$[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:f+1,d=h-p+(v-f)/1e4;if(d<0&&void 0===e.clockseq&&(u=u+1&16383),(d<0||h>p)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=h,f=v,c=u;var y=(1e4*(268435455&(h+=122192928e5))+v)%4294967296;a[n++]=y>>>24&255,a[n++]=y>>>16&255,a[n++]=y>>>8&255,a[n++]=255&y;var N=h/4294967296*1e4&268435455;a[n++]=N>>>8&255,a[n++]=255&N,a[n++]=N>>>24&15|16,a[n++]=N>>>16&255,a[n++]=u>>>8|128,a[n++]=255&u;for(var g=0;g<6;++g)a[n+g]=o[g];return t||i(a)};function h(e,t,r){var n=function(e,n,a,s){var o=a&&s||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(e)),"string"==typeof n&&(n=function(e){var t=[];return e.replace(/[a-fA-F0-9]{2}/g,(function(e){t.push(parseInt(e,16))})),t}(n)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(n)||16!==n.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var u=r(n.concat(e));if(u[6]=15&u[6]|t,u[8]=63&u[8]|128,a)for(var l=0;l<16;++l)a[o+l]=u[l];return a||i(u)};try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function v(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function d(e,t,r,n,a,s){return v((o=v(v(t,e),v(n,s)))<<(u=a)|o>>>32-u,r);var o,u}function y(e,t,r,n,a,s,o){return d(t&r|~t&n,e,t,a,s,o)}function N(e,t,r,n,a,s,o){return d(t&n|r&~n,e,t,a,s,o)}function g(e,t,r,n,a,s,o){return d(t^r^n,e,t,a,s,o)}function m(e,t,r,n,a,s,o){return d(r^(t|~n),e,t,a,s,o)}const b=h("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Array(t.length);for(var r=0;r<t.length;r++)e[r]=t.charCodeAt(r)}return function(e){var t,r,n,a=[],s=32*e.length,o="0123456789abcdef";for(t=0;t<s;t+=8)r=e[t>>5]>>>t%32&255,n=parseInt(o.charAt(r>>>4&15)+o.charAt(15&r),16),a.push(n);return a}(function(e,t){var r,n,a,s,o;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var u=1732584193,i=-271733879,l=-1732584194,c=271733878;for(r=0;r<e.length;r+=16)n=u,a=i,s=l,o=c,u=y(u,i,l,c,e[r],7,-680876936),c=y(c,u,i,l,e[r+1],12,-389564586),l=y(l,c,u,i,e[r+2],17,606105819),i=y(i,l,c,u,e[r+3],22,-1044525330),u=y(u,i,l,c,e[r+4],7,-176418897),c=y(c,u,i,l,e[r+5],12,1200080426),l=y(l,c,u,i,e[r+6],17,-1473231341),i=y(i,l,c,u,e[r+7],22,-45705983),u=y(u,i,l,c,e[r+8],7,1770035416),c=y(c,u,i,l,e[r+9],12,-1958414417),l=y(l,c,u,i,e[r+10],17,-42063),i=y(i,l,c,u,e[r+11],22,-1990404162),u=y(u,i,l,c,e[r+12],7,1804603682),c=y(c,u,i,l,e[r+13],12,-40341101),l=y(l,c,u,i,e[r+14],17,-1502002290),u=N(u,i=y(i,l,c,u,e[r+15],22,1236535329),l,c,e[r+1],5,-165796510),c=N(c,u,i,l,e[r+6],9,-1069501632),l=N(l,c,u,i,e[r+11],14,643717713),i=N(i,l,c,u,e[r],20,-373897302),u=N(u,i,l,c,e[r+5],5,-701558691),c=N(c,u,i,l,e[r+10],9,38016083),l=N(l,c,u,i,e[r+15],14,-660478335),i=N(i,l,c,u,e[r+4],20,-405537848),u=N(u,i,l,c,e[r+9],5,568446438),c=N(c,u,i,l,e[r+14],9,-1019803690),l=N(l,c,u,i,e[r+3],14,-187363961),i=N(i,l,c,u,e[r+8],20,1163531501),u=N(u,i,l,c,e[r+13],5,-1444681467),c=N(c,u,i,l,e[r+2],9,-51403784),l=N(l,c,u,i,e[r+7],14,1735328473),u=g(u,i=N(i,l,c,u,e[r+12],20,-1926607734),l,c,e[r+5],4,-378558),c=g(c,u,i,l,e[r+8],11,-2022574463),l=g(l,c,u,i,e[r+11],16,1839030562),i=g(i,l,c,u,e[r+14],23,-35309556),u=g(u,i,l,c,e[r+1],4,-1530992060),c=g(c,u,i,l,e[r+4],11,1272893353),l=g(l,c,u,i,e[r+7],16,-155497632),i=g(i,l,c,u,e[r+10],23,-1094730640),u=g(u,i,l,c,e[r+13],4,681279174),c=g(c,u,i,l,e[r],11,-358537222),l=g(l,c,u,i,e[r+3],16,-722521979),i=g(i,l,c,u,e[r+6],23,76029189),u=g(u,i,l,c,e[r+9],4,-640364487),c=g(c,u,i,l,e[r+12],11,-421815835),l=g(l,c,u,i,e[r+15],16,530742520),u=m(u,i=g(i,l,c,u,e[r+2],23,-995338651),l,c,e[r],6,-198630844),c=m(c,u,i,l,e[r+7],10,1126891415),l=m(l,c,u,i,e[r+14],15,-1416354905),i=m(i,l,c,u,e[r+5],21,-57434055),u=m(u,i,l,c,e[r+12],6,1700485571),c=m(c,u,i,l,e[r+3],10,-1894986606),l=m(l,c,u,i,e[r+10],15,-1051523),i=m(i,l,c,u,e[r+1],21,-2054922799),u=m(u,i,l,c,e[r+8],6,1873313359),c=m(c,u,i,l,e[r+15],10,-30611744),l=m(l,c,u,i,e[r+6],15,-1560198380),i=m(i,l,c,u,e[r+13],21,1309151649),u=m(u,i,l,c,e[r+4],6,-145523070),c=m(c,u,i,l,e[r+11],10,-1120210379),l=m(l,c,u,i,e[r+2],15,718787259),i=m(i,l,c,u,e[r+9],21,-343485551),u=v(u,n),i=v(i,a),l=v(l,s),c=v(c,o);return[u,i,l,c]}(function(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e[t/8])<<t%32;return r}(e),8*e.length))}));const A=function(e,t,r){var n=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||s)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var o=0;o<16;++o)t[n+o]=a[o];return t||i(a)};function w(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function x(e,t){return e<<t|e>>>32-t}const _=h("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=new Array(n.length);for(var a=0;a<n.length;a++)e[a]=n.charCodeAt(a)}e.push(128);var s=e.length/4+2,o=Math.ceil(s/16),u=new Array(o);for(a=0;a<o;a++){u[a]=new Array(16);for(var i=0;i<16;i++)u[a][i]=e[64*a+4*i]<<24|e[64*a+4*i+1]<<16|e[64*a+4*i+2]<<8|e[64*a+4*i+3]}for(u[o-1][14]=8*(e.length-1)/Math.pow(2,32),u[o-1][14]=Math.floor(u[o-1][14]),u[o-1][15]=8*(e.length-1)&4294967295,a=0;a<o;a++){for(var l=new Array(80),c=0;c<16;c++)l[c]=u[a][c];for(c=16;c<80;c++)l[c]=x(l[c-3]^l[c-8]^l[c-14]^l[c-16],1);var p=r[0],f=r[1],$=r[2],h=r[3],v=r[4];for(c=0;c<80;c++){var d=Math.floor(c/20),y=x(p,5)+w(d,f,$,h)+v+t[d]+l[c]>>>0;v=h,h=$,$=x(f,30)>>>0,f=p,p=y}r[0]=r[0]+p>>>0,r[1]=r[1]+f>>>0,r[2]=r[2]+$>>>0,r[3]=r[3]+h>>>0,r[4]=r[4]+v>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]}))},216:e=>{"use strict";e.exports=JSON.parse('{"name":"@syuilo/aiscript","version":"0.11.1","description":"AiScript implementation","author":"syuilo <syuilotan@yahoo.co.jp>","license":"MIT","repository":"https://github.com/syuilo/aiscript.git","bugs":"https://github.com/syuilo/aiscript/issues","main":"./built/index.js","types":"./built/index.d.ts","scripts":{"start":"node ./run","parse":"node ./parse","peg":"mkdirp built/parser & pegjs -o built/parser/parser.js --allowed-start-rules Entry,Core --optimize size src/parser/parser.pegjs","build":"tsc & npm run peg","mocha":"mocha test/index.ts --require ts-node/register","tsd":"tsd","test":"npm run mocha"},"devDependencies":{"@types/mocha":"7.0.2","@types/node":"13.11.0","@types/seedrandom":"2.4.28","mkdirp":"1.0.4","mocha":"7.1.1","pegjs":"0.10.0","ts-node":"8.8.2","tsd":"0.11.0","typescript":"3.8.3"},"dependencies":{"autobind-decorator":"2.4.0","chalk":"4.0.0","seedrandom":"3.0.5","stringz":"2.1.0","uuid":"7.0.3"}}')},36377:(e,t,r)=>{var n=r(84832),a=r(68652),s=r(90801),o=r(92030),u=r(3618),i=r(89049),l=r(51971);l.alea=n,l.xor128=a,l.xorwow=s,l.xorshift7=o,l.xor4096=u,l.tychei=i,e.exports=l},84832:function(e,t,r){var n;!function(e,a,s){function o(e){var t,r=this,n=(t=4022871197,function(e){e=String(e);for(var r=0;r<e.length;r++){var n=.02519603282416938*(t+=e.charCodeAt(r));n-=t=n>>>0,t=(n*=t)>>>0,t+=4294967296*(n-=t)}return 2.3283064365386963e-10*(t>>>0)});r.next=function(){var e=2091639*r.s0+2.3283064365386963e-10*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=e-(r.c=0|e)},r.c=1,r.s0=n(" "),r.s1=n(" "),r.s2=n(" "),r.s0-=n(e),r.s0<0&&(r.s0+=1),r.s1-=n(e),r.s1<0&&(r.s1+=1),r.s2-=n(e),r.s2<0&&(r.s2+=1),n=null}function u(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function i(e,t){var r=new o(e),n=t&&t.state,a=r.next;return a.int32=function(){return 4294967296*r.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,n&&("object"==typeof n&&u(n,r),a.state=function(){return u(r,{})}),a}a&&a.exports?a.exports=i:r.amdD&&r.amdO?void 0===(n=function(){return i}.call(t,r,t,a))||(a.exports=n):this.alea=i}(0,e=r.nmd(e),r.amdD)},89049:function(e,t,r){var n;!function(e,a,s){function o(e){var t=this,r="";t.next=function(){var e=t.b,r=t.c,n=t.d,a=t.a;return e=e<<25^e>>>7^r,r=r-n|0,n=n<<24^n>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^r,t.c=r=r-n|0,t.d=n<<16^r>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):r+=e;for(var n=0;n<r.length+20;n++)t.b^=0|r.charCodeAt(n),t.next()}function u(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function i(e,t){var r=new o(e),n=t&&t.state,a=function(){return(r.next()>>>0)/4294967296};return a.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=r.next,a.quick=a,n&&("object"==typeof n&&u(n,r),a.state=function(){return u(r,{})}),a}a&&a.exports?a.exports=i:r.amdD&&r.amdO?void 0===(n=function(){return i}.call(t,r,t,a))||(a.exports=n):this.tychei=i}(0,e=r.nmd(e),r.amdD)},68652:function(e,t,r){var n;!function(e,a,s){function o(e){var t=this,r="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function i(e,t){var r=new o(e),n=t&&t.state,a=function(){return(r.next()>>>0)/4294967296};return a.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=r.next,a.quick=a,n&&("object"==typeof n&&u(n,r),a.state=function(){return u(r,{})}),a}a&&a.exports?a.exports=i:r.amdD&&r.amdO?void 0===(n=function(){return i}.call(t,r,t,a))||(a.exports=n):this.xor128=i}(0,e=r.nmd(e),r.amdD)},3618:function(e,t,r){var n;!function(e,a,s){function o(e){var t=this;t.next=function(){var e,r,n=t.w,a=t.X,s=t.i;return t.w=n=n+1640531527|0,r=a[s+34&127],e=a[s=s+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,r=a[s]=r^e,t.i=s,r+(n^n>>>16)|0},function(e,t){var r,n,a,s,o,u=[],i=128;for(t===(0|t)?(n=t,t=null):(t+="\0",n=0,i=Math.max(i,t.length)),a=0,s=-32;s<i;++s)t&&(n^=t.charCodeAt((s+32)%t.length)),0===s&&(o=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,s>=0&&(o=o+1640531527|0,a=0==(r=u[127&s]^=n+o)?a+1:0);for(a>=128&&(u[127&(t&&t.length||0)]=-1),a=127,s=512;s>0;--s)n=u[a+34&127],r=u[a=a+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,u[a]=n^r;e.w=o,e.X=u,e.i=a}(t,e)}function u(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function i(e,t){null==e&&(e=+new Date);var r=new o(e),n=t&&t.state,a=function(){return(r.next()>>>0)/4294967296};return a.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=r.next,a.quick=a,n&&(n.X&&u(n,r),a.state=function(){return u(r,{})}),a}a&&a.exports?a.exports=i:r.amdD&&r.amdO?void 0===(n=function(){return i}.call(t,r,t,a))||(a.exports=n):this.xor4096=i}(0,e=r.nmd(e),r.amdD)},92030:function(e,t,r){var n;!function(e,a,s){function o(e){var t=this;t.next=function(){var e,r,n=t.x,a=t.i;return e=n[a],r=(e^=e>>>7)^e<<24,r^=(e=n[a+1&7])^e>>>10,r^=(e=n[a+3&7])^e>>>3,r^=(e=n[a+4&7])^e<<7,e=n[a+7&7],r^=(e^=e<<13)^e<<9,n[a]=r,t.i=a+1&7,r},function(e,t){var r,n=[];if(t===(0|t))n[0]=t;else for(t=""+t,r=0;r<t.length;++r)n[7&r]=n[7&r]<<15^t.charCodeAt(r)+n[r+1&7]<<13;for(;n.length<8;)n.push(0);for(r=0;r<8&&0===n[r];++r);for(8==r?n[7]=-1:n[r],e.x=n,e.i=0,r=256;r>0;--r)e.next()}(t,e)}function u(e,t){return t.x=e.x.slice(),t.i=e.i,t}function i(e,t){null==e&&(e=+new Date);var r=new o(e),n=t&&t.state,a=function(){return(r.next()>>>0)/4294967296};return a.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=r.next,a.quick=a,n&&(n.x&&u(n,r),a.state=function(){return u(r,{})}),a}a&&a.exports?a.exports=i:r.amdD&&r.amdO?void 0===(n=function(){return i}.call(t,r,t,a))||(a.exports=n):this.xorshift7=i}(0,e=r.nmd(e),r.amdD)},90801:function(e,t,r){var n;!function(e,a,s){function o(e){var t=this,r="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),n==r.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function u(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function i(e,t){var r=new o(e),n=t&&t.state,a=function(){return(r.next()>>>0)/4294967296};return a.double=function(){do{var e=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=r.next,a.quick=a,n&&("object"==typeof n&&u(n,r),a.state=function(){return u(r,{})}),a}a&&a.exports?a.exports=i:r.amdD&&r.amdO?void 0===(n=function(){return i}.call(t,r,t,a))||(a.exports=n):this.xorwow=i}(0,e=r.nmd(e),r.amdD)},51971:function(e,t,r){var n;!function(a,s,o){var u,i=256,l=o.pow(i,6),c=o.pow(2,52),p=2*c,f=255;function $(e,t,r){var n=[],f=y(d((t=1==t?{entropy:!0}:t||{}).entropy?[e,N(s)]:null==e?function(){try{var e;return u&&(e=u.randomBytes)?e=e(i):(e=new Uint8Array(i),(a.crypto||a.msCrypto).getRandomValues(e)),N(e)}catch(e){var t=a.navigator,r=t&&t.plugins;return[+new Date,a,r,a.screen,N(s)]}}():e,3),n),$=new h(n),g=function(){for(var e=$.g(6),t=l,r=0;e<c;)e=(e+r)*i,t*=i,r=$.g(1);for(;e>=p;)e/=2,t/=2,r>>>=1;return(e+r)/t};return g.int32=function(){return 0|$.g(4)},g.quick=function(){return $.g(4)/4294967296},g.double=g,y(N($.S),s),(t.pass||r||function(e,t,r,n){return n&&(n.S&&v(n,$),e.state=function(){return v($,{})}),r?(o.random=e,t):e})(g,f,"global"in t?t.global:this==o,t.state)}function h(e){var t,r=e.length,n=this,a=0,s=n.i=n.j=0,o=n.S=[];for(r||(e=[r++]);a<i;)o[a]=a++;for(a=0;a<i;a++)o[a]=o[s=f&s+e[a%r]+(t=o[a])],o[s]=t;(n.g=function(e){for(var t,r=0,a=n.i,s=n.j,o=n.S;e--;)t=o[a=f&a+1],r=r*i+o[f&(o[a]=o[s=f&s+t])+(o[s]=t)];return n.i=a,n.j=s,r})(i)}function v(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function d(e,t){var r,n=[],a=typeof e;if(t&&"object"==a)for(r in e)try{n.push(d(e[r],t-1))}catch(e){}return n.length?n:"string"==a?e:e+"\0"}function y(e,t){for(var r,n=e+"",a=0;a<n.length;)t[f&a]=f&(r^=19*t[f&a])+n.charCodeAt(a++);return N(t)}function N(e){return String.fromCharCode.apply(0,e)}if(y(o.random(),s),e.exports){e.exports=$;try{u=r(63906)}catch(e){}}else void 0===(n=function(){return $}.call(t,r,t,e))||(e.exports=n)}("undefined"!=typeof self?self:this,[],Math)}}]);