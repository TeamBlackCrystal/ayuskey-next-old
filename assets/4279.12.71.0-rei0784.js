(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[4279,5091],{84602:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".ebkgoccj[data-v-4b49273d]{overflow:hidden;display:flex;flex-direction:column;contain:content;--section-padding:24px}@media(max-width:500px){.ebkgoccj[data-v-4b49273d]{--section-padding:16px}}.ebkgoccj>.header[data-v-4b49273d]{display:flex;flex-shrink:0;box-shadow:0 1px var(--divider)}.ebkgoccj>.header>button[data-v-4b49273d]{height:58px;width:58px}@media(max-width:500px){.ebkgoccj>.header>button[data-v-4b49273d]{height:42px;width:42px}}.ebkgoccj>.header>.title[data-v-4b49273d]{flex:1;line-height:58px;padding-left:32px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;pointer-events:none}@media(max-width:500px){.ebkgoccj>.header>.title[data-v-4b49273d]{line-height:42px;padding-left:16px}}.ebkgoccj>.header>button+.title[data-v-4b49273d]{padding-left:0}.ebkgoccj>.body[data-v-4b49273d]{overflow:auto}",""]),e.exports=a},42842:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".ziffeoms[data-v-07df8238]{position:relative;display:flex;margin:32px 0;cursor:pointer;transition:all .3s}.ziffeoms[data-v-07df8238]:first-child{margin-top:0}.ziffeoms[data-v-07df8238]:last-child{margin-bottom:0}.ziffeoms>*[data-v-07df8238]{user-select:none}.ziffeoms.disabled[data-v-07df8238]{opacity:.6;cursor:not-allowed}.ziffeoms.checked>.button[data-v-07df8238]{background-color:var(--X10);border-color:var(--X10)}.ziffeoms.checked>.button>*[data-v-07df8238]{background-color:var(--accent);transform:translateX(14px)}.ziffeoms>input[data-v-07df8238]{position:absolute;width:0;height:0;opacity:0;margin:0}.ziffeoms>.button[data-v-07df8238]{position:relative;display:inline-block;flex-shrink:0;margin:3px 0 0;width:34px;height:14px;background:var(--X6);outline:none;border-radius:14px;transition:inherit}.ziffeoms>.button>*[data-v-07df8238]{position:absolute;top:-3px;left:0;border-radius:100%;transition:background-color .3s,transform .3s;width:20px;height:20px;background-color:#fff;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.ziffeoms>.label[data-v-07df8238]{margin-left:8px;display:block;cursor:pointer;transition:inherit;color:var(--fg)}.ziffeoms>.label>span[data-v-07df8238]{display:block;line-height:20px;transition:inherit}.ziffeoms>.label>p[data-v-07df8238]{margin:0;opacity:.7;font-size:90%}",""]),e.exports=a},70986:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".vrcsvlkm>._section>.banner[data-v-5b89182e]{position:relative;height:100px;background-color:#4c5e6d;background-size:cover;background-position:50%;border-radius:8px}.vrcsvlkm>._section>.banner>.avatar[data-v-5b89182e]{position:absolute;top:60px;width:64px;height:64px;left:0;right:0;margin:0 auto;border:4px solid var(--panel)}.vrcsvlkm>._section>.title[data-v-5b89182e]{text-align:center}.vrcsvlkm>._section>.status[data-v-5b89182e]{text-align:center;margin-top:8px}.vrcsvlkm>._section>.rawdata[data-v-5b89182e]{overflow:auto}",""]),e.exports=a},26786:(e,t,o)=>{"use strict";o.d(t,{Z:()=>f});var a=o(55393);const s=(0,a.withScopeId)("data-v-4b49273d");(0,a.pushScopeId)("data-v-4b49273d");const i={class:"header"},n={class:"title"},d={key:0,class:"body"},r={class:"_section"},l={key:1,class:"body"};(0,a.popScopeId)();const c=s(((e,t,o,c,u,p)=>{const h=(0,a.resolveComponent)("Fa"),f=(0,a.resolveComponent)("MkModal");return(0,a.openBlock)(),(0,a.createBlock)(f,{ref:"modal",onClick:t[5]||(t[5]=t=>e.$emit("click")),onClosed:t[6]||(t[6]=t=>e.$emit("closed"))},{default:s((()=>[(0,a.createVNode)("div",{class:"ebkgoccj _popup _narrow_",onKeydown:t[4]||(t[4]=(...t)=>e.onKeydown&&e.onKeydown(...t)),style:{width:e.width+"px",height:e.height?e.height+"px":null}},[(0,a.createVNode)("div",i,[e.withOkButton?((0,a.openBlock)(),(0,a.createBlock)("button",{key:0,class:"_button",onClick:t[1]||(t[1]=t=>e.$emit("close"))},[(0,a.createVNode)(h,{icon:e.faTimes},null,8,["icon"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)("span",n,[(0,a.renderSlot)(e.$slots,"header")]),e.withOkButton?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)("button",{key:1,class:"_button",onClick:t[2]||(t[2]=t=>e.$emit("close"))},[(0,a.createVNode)(h,{icon:e.faTimes},null,8,["icon"])])),e.withOkButton?((0,a.openBlock)(),(0,a.createBlock)("button",{key:2,class:"_button",onClick:t[3]||(t[3]=t=>e.$emit("ok")),disabled:e.okButtonDisabled},[(0,a.createVNode)(h,{icon:e.faCheck},null,8,["icon"])],8,["disabled"])):(0,a.createCommentVNode)("",!0)]),e.padding?((0,a.openBlock)(),(0,a.createBlock)("div",d,[(0,a.createVNode)("div",r,[(0,a.renderSlot)(e.$slots,"default")])])):((0,a.openBlock)(),(0,a.createBlock)("div",l,[(0,a.renderSlot)(e.$slots,"default")]))],36)])),_:3},512)}));var u=o(51436),p=o(89939);const h=(0,a.defineComponent)({components:{MkModal:p.Z},props:{withOkButton:{type:Boolean,required:!1,default:!1},okButtonDisabled:{type:Boolean,required:!1,default:!1},padding:{type:Boolean,required:!1,default:!1},width:{type:Number,required:!1,default:400},height:{type:Number,required:!1,default:null},canClose:{type:Boolean,required:!1,default:!0}},emits:["click","close","closed","ok"],data:()=>({faTimes:u.NBC,faCheck:u.LEp}),methods:{close(){this.$refs.modal.close()},onKeydown(e){27===e.which&&(e.preventDefault(),e.stopPropagation(),this.close())}}});o(70675);h.render=c,h.__scopeId="data-v-4b49273d";const f=h},83359:(e,t,o)=>{"use strict";o.d(t,{Z:()=>l});var a=o(55393);const s=(0,a.withScopeId)("data-v-07df8238");(0,a.pushScopeId)("data-v-07df8238");const i=(0,a.createVNode)("span",{class:"button"},[(0,a.createVNode)("span")],-1),n={class:"label"};(0,a.popScopeId)();const d=s(((e,t,o,s,d,r)=>((0,a.openBlock)(),(0,a.createBlock)("div",{class:["ziffeoms",{disabled:e.disabled,checked:e.checked}],role:"switch","aria-checked":e.checked,"aria-disabled":e.disabled,onClick:t[2]||(t[2]=(0,a.withModifiers)(((...t)=>e.toggle&&e.toggle(...t)),["prevent"]))},[(0,a.createVNode)("input",{type:"checkbox",ref:"input",disabled:e.disabled,onKeydown:t[1]||(t[1]=(0,a.withKeys)(((...t)=>e.toggle&&e.toggle(...t)),["enter"]))},null,40,["disabled"]),i,(0,a.createVNode)("span",n,[(0,a.createVNode)("span",null,[(0,a.renderSlot)(e.$slots,"default")]),(0,a.createVNode)("p",null,[(0,a.renderSlot)(e.$slots,"desc")])])],10,["aria-checked","aria-disabled"])))),r=(0,a.defineComponent)({props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{checked(){return this.value}},methods:{toggle(){this.disabled||this.$emit("update:value",!this.checked)}}});o(57483);r.render=d,r.__scopeId="data-v-07df8238";const l=r},64279:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>M});var a=o(55393);const s=(0,a.withScopeId)("data-v-5b89182e");(0,a.pushScopeId)("data-v-5b89182e");const i={key:0,class:"vrcsvlkm"},n={class:"_section"},d={class:"_section"},r={class:"title"},l={class:"acct"},c={class:"status"},u={key:0,class:"staff"},p={key:1,class:"staff"},h={key:2,class:"punished"},f={key:3,class:"punished"},m={class:"_section"},k={class:"_content"},v={class:"_section"},b={class:"_content"},g={class:"_section"},w={class:"_content rawdata"};(0,a.popScopeId)();const x=s(((e,t,o,x,y,N)=>{const V=(0,a.resolveComponent)("MkUserName"),B=(0,a.resolveComponent)("MkAvatar"),C=(0,a.resolveComponent)("Fa"),S=(0,a.resolveComponent)("MkSwitch"),_=(0,a.resolveComponent)("MkButton"),$=(0,a.resolveComponent)("XModalWindow");return(0,a.openBlock)(),(0,a.createBlock)($,{ref:"dialog",width:370,onClose:t[4]||(t[4]=t=>e.$refs.dialog.close()),onClosed:t[5]||(t[5]=t=>e.$emit("closed"))},(0,a.createSlots)({default:s((()=>[e.user&&e.info?((0,a.openBlock)(),(0,a.createBlock)("div",i,[(0,a.createVNode)("div",n,[(0,a.createVNode)("div",{class:"banner",style:e.bannerStyle},[(0,a.createVNode)(B,{class:"avatar",user:e.user},null,8,["user"])],4)]),(0,a.createVNode)("div",d,[(0,a.createVNode)("div",r,[(0,a.createVNode)("span",l,"@"+(0,a.toDisplayString)(e.acct(e.user)),1)]),(0,a.createVNode)("div",c,[e.user.isAdmin?((0,a.openBlock)(),(0,a.createBlock)("span",u,[(0,a.createVNode)(C,{icon:e.faBookmark},null,8,["icon"])])):(0,a.createCommentVNode)("",!0),e.user.isModerator?((0,a.openBlock)(),(0,a.createBlock)("span",p,[(0,a.createVNode)(C,{icon:e.farBookmark},null,8,["icon"])])):(0,a.createCommentVNode)("",!0),e.user.isSilenced?((0,a.openBlock)(),(0,a.createBlock)("span",h,[(0,a.createVNode)(C,{icon:e.faMicrophoneSlash},null,8,["icon"])])):(0,a.createCommentVNode)("",!0),e.user.isSuspended?((0,a.openBlock)(),(0,a.createBlock)("span",f,[(0,a.createVNode)(C,{icon:e.faSnowflake},null,8,["icon"])])):(0,a.createCommentVNode)("",!0)])]),(0,a.createVNode)("div",m,[(0,a.createVNode)("div",k,[null!=e.user.host||!e.$i.isAdmin||!e.moderator&&e.user.isAdmin?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(S,{key:0,"onUpdate:value":[e.toggleModerator,t[1]||(t[1]=t=>e.moderator=t)],value:e.moderator},{default:s((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts.moderator),1)])),_:1},8,["onUpdate:value","value"])),(0,a.createVNode)(S,{"onUpdate:value":[e.toggleSilence,t[2]||(t[2]=t=>e.silenced=t)],value:e.silenced},{default:s((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts.silence),1)])),_:1},8,["onUpdate:value","value"]),(0,a.createVNode)(S,{"onUpdate:value":[e.toggleSuspend,t[3]||(t[3]=t=>e.suspended=t)],value:e.suspended},{default:s((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts.suspend),1)])),_:1},8,["onUpdate:value","value"])])]),(0,a.createVNode)("div",v,[(0,a.createVNode)("div",b,[(0,a.createVNode)(_,{full:"",onClick:e.openProfile},{default:s((()=>[(0,a.createVNode)(C,{icon:e.faExternalLinkSquareAlt},null,8,["icon"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$ts.profile),1)])),_:1},8,["onClick"]),null!=e.user.host?((0,a.openBlock)(),(0,a.createBlock)(_,{key:0,full:"",onClick:e.updateRemoteUser},{default:s((()=>[(0,a.createVNode)(C,{icon:e.faSync},null,8,["icon"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$ts.updateRemoteUser),1)])),_:1},8,["onClick"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(_,{full:"",onClick:e.resetPassword},{default:s((()=>[(0,a.createVNode)(C,{icon:e.faKey},null,8,["icon"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$ts.resetPassword),1)])),_:1},8,["onClick"]),(0,a.createVNode)(_,{full:"",onClick:e.deleteAllFiles,danger:""},{default:s((()=>[(0,a.createVNode)(C,{icon:e.faTrashAlt},null,8,["icon"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$ts.deleteAllFiles),1)])),_:1},8,["onClick"])])]),(0,a.createVNode)("div",g,[(0,a.createVNode)("details",w,[(0,a.createVNode)("pre",null,[(0,a.createVNode)("code",null,(0,a.toDisplayString)(JSON.stringify(e.info,null,2)),1)])])])])):(0,a.createCommentVNode)("",!0)])),_:2},[e.user?{name:"header",fn:s((()=>[(0,a.createVNode)(V,{class:"name",user:e.user},null,8,["user"])]))}:void 0]),1536)}));var y=o(51436),N=o(56024),V=o(42453),B=o(83359),C=o(26786),S=o(13885),_=o(55006),$=o(10192);const I=(0,a.defineComponent)({components:{MkButton:V.Z,MkSwitch:B.Z,XModalWindow:C.Z},props:{userId:{required:!0}},emits:["closed"],data:()=>({user:null,info:null,moderator:!1,silenced:!1,suspended:!1,faTimes:y.NBC,faBookmark:y.xVw,farBookmark:N.xV,faKey:y.DD4,faSync:y.UO1,faMicrophoneSlash:y.EkX,faSnowflake:N.jO,faTrashAlt:N.I7,faExternalLinkSquareAlt:y.cyx}),computed:{bannerStyle(){return null==this.user.bannerUrl?{}:{backgroundImage:`url(${this.user.bannerUrl})`}}},created(){this.fetch()},methods:{async fetch(){S.Z.start(),this.user=await $.hi("users/show",{userId:this.userId}),this.info=await $.hi("admin/show-user",{userId:this.userId}),this.moderator=this.info.isModerator,this.silenced=this.info.isSilenced,this.suspended=this.info.isSuspended,S.Z.done()},async refreshUser(){this.user=await $.hi("users/show",{userId:this.user.id}),this.info=await $.hi("admin/show-user",{userId:this.user.id})},openProfile(){window.open((0,_.tL)(this.user,null,!0),"_blank")},async updateRemoteUser(){await $.hi("admin/update-remote-user",{userId:this.user.id}).then((e=>{$.Vp()})),await this.refreshUser()},async resetPassword(){$.Zv("admin/reset-password",{userId:this.user.id},void 0,(({password:e})=>{$.WZ({type:"success",text:this.$t("newPasswordIs",{password:e})})}))},async toggleSilence(e){(await $.WZ({type:"warning",showCancelButton:!0,text:e?this.$ts.silenceConfirm:this.$ts.unsilenceConfirm})).canceled?this.silenced=!e:(await $.hi(e?"admin/silence-user":"admin/unsilence-user",{userId:this.user.id}),await this.refreshUser())},async toggleSuspend(e){(await $.WZ({type:"warning",showCancelButton:!0,text:e?this.$ts.suspendConfirm:this.$ts.unsuspendConfirm})).canceled?this.suspended=!e:(await $.hi(e?"admin/suspend-user":"admin/unsuspend-user",{userId:this.user.id}),await this.refreshUser())},async toggleModerator(e){await $.hi(e?"admin/moderators/add":"admin/moderators/remove",{userId:this.user.id}),await this.refreshUser()},async deleteAllFiles(){if((await $.WZ({type:"warning",showCancelButton:!0,text:this.$ts.deleteAllFilesConfirm})).canceled)return;await(async()=>{await $.hi("admin/delete-all-files-of-a-user",{userId:this.user.id}),$.Vp()})().catch((e=>{$.WZ({type:"error",text:e.toString()})})),await this.refreshUser()},acct:_.R}});o(30849);I.render=x,I.__scopeId="data-v-5b89182e";const M=I},70675:(e,t,o)=>{var a=o(84602);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("58d1b0c9",a,!0,{})},57483:(e,t,o)=>{var a=o(42842);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("01747328",a,!0,{})},30849:(e,t,o)=>{var a=o(70986);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("ac3acf16",a,!0,{})}}]);