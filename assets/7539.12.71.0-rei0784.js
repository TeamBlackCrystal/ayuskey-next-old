(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[7539],{5573:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".pxhvhrfw{display:flex}.pxhvhrfw>button{flex:1;padding:15px 12px 12px;border-bottom:3px solid transparent}.pxhvhrfw>button:disabled{opacity:1!important;cursor:default}.pxhvhrfw>button.active{color:var(--accent);border-bottom-color:var(--accent)}.pxhvhrfw>button:not(.active):hover{color:var(--fgHighlighted)}.pxhvhrfw>button>.icon{margin-right:6px}.pxhvhrfw.max-width_500px{font-size:80%}.pxhvhrfw.max-width_500px>button{padding:11px 8px 8px}",""]),e.exports=a},62960:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".container-toggle-enter-active[data-v-1dbdaf33],.container-toggle-leave-active[data-v-1dbdaf33]{overflow-y:hidden;transition:opacity .5s,height .5s!important}.container-toggle-enter-from[data-v-1dbdaf33],.container-toggle-leave-to[data-v-1dbdaf33]{opacity:0}.ukygtjoj[data-v-1dbdaf33]{position:relative;overflow:hidden}.ukygtjoj.naked[data-v-1dbdaf33]{background:transparent!important;box-shadow:none!important}.ukygtjoj.scrollable[data-v-1dbdaf33]{display:flex;flex-direction:column}.ukygtjoj.scrollable>div[data-v-1dbdaf33]{overflow:auto}.ukygtjoj>header[data-v-1dbdaf33]{position:relative;color:var(--panelHeaderFg);background:var(--panelHeaderBg);box-shadow:0 1px 0 0 var(--panelHeaderDivider);z-index:2;line-height:1.4em}.ukygtjoj>header>.title[data-v-1dbdaf33]{margin:0;padding:12px 16px}.ukygtjoj>header>.title[data-v-1dbdaf33]> [data-icon]{margin-right:6px}.ukygtjoj>header>.title[data-v-1dbdaf33]:empty{display:none}.ukygtjoj>header>.sub[data-v-1dbdaf33]{position:absolute;z-index:2;top:0;right:0;height:100%}.ukygtjoj>header>.sub[data-v-1dbdaf33]> button{width:42px;height:100%}.ukygtjoj>div[data-v-1dbdaf33]> ._content{padding:24px}.ukygtjoj>div[data-v-1dbdaf33]> ._content+._content{border-top:1px solid var(--divider)}.ukygtjoj.max-width_380px>header>.title[data-v-1dbdaf33]{padding:8px 10px;font-size:.9em}.ukygtjoj.max-width_380px>div[data-v-1dbdaf33]> ._content{padding:16px}._forceContainerFull_.ukygtjoj>header>.title[data-v-1dbdaf33],._forceContainerFull_ .ukygtjoj>header>.title[data-v-1dbdaf33]{padding:12px 16px!important}",""]),e.exports=a},50047:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".cxiknjgy>.more>.button[data-v-2a5f1774]{margin-left:auto;margin-right:auto;height:48px;min-width:150px}",""]),e.exports=a},52837:(e,t,o)=>{"use strict";o.d(t,{Z:()=>i});var a=o(55393);const n=(0,a.defineComponent)({props:{value:{required:!0}},render(){const e=this.$slots.default();return(0,a.withDirectives)((0,a.h)("div",{class:"pxhvhrfw"},e.map((e=>(0,a.h)("button",{class:["_button",{active:this.value===e.props.value}],key:e.props.value,disabled:this.value===e.props.value,onClick:()=>{this.$emit("update:value",e.props.value)}},e.children)))),[[(0,a.resolveDirective)("size"),{max:[500]}]])}});o(58477);const i=n},69146:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var a=o(55393);const n=(0,a.withScopeId)("data-v-1dbdaf33");(0,a.pushScopeId)("data-v-1dbdaf33");const i={key:0,ref:"header"},r={class:"title"},d={class:"sub"};(0,a.popScopeId)();const s=n(((e,t,o,s,l,c)=>{const p=(0,a.resolveComponent)("Fa"),u=(0,a.resolveDirective)("size");return(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createBlock)("div",{class:["ukygtjoj _panel",{naked:e.naked,hideHeader:!e.showHeader,scrollable:e.scrollable,closed:!e.showBody}]},[e.showHeader?((0,a.openBlock)(),(0,a.createBlock)("header",i,[(0,a.createVNode)("div",r,[(0,a.renderSlot)(e.$slots,"header")]),(0,a.createVNode)("div",d,[(0,a.renderSlot)(e.$slots,"func"),e.bodyTogglable?((0,a.openBlock)(),(0,a.createBlock)("button",{key:0,class:"_button",onClick:t[1]||(t[1]=()=>e.showBody=!e.showBody)},[e.showBody?((0,a.openBlock)(),(0,a.createBlock)(p,{key:0,icon:e.faAngleUp},null,8,["icon"])):((0,a.openBlock)(),(0,a.createBlock)(p,{key:1,icon:e.faAngleDown},null,8,["icon"]))])):(0,a.createCommentVNode)("",!0)])],512)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(a.Transition,{name:"container-toggle",onEnter:e.enter,onAfterEnter:e.afterEnter,onLeave:e.leave,onAfterLeave:e.afterLeave},{default:n((()=>[(0,a.withDirectives)((0,a.createVNode)("div",null,[(0,a.renderSlot)(e.$slots,"default")],512),[[a.vShow,e.showBody]])])),_:3},8,["onEnter","onAfterEnter","onLeave","onAfterLeave"])],2)),[[u,{max:[380]}]])}));var l=o(51436);const c=(0,a.defineComponent)({props:{showHeader:{type:Boolean,required:!1,default:!0},naked:{type:Boolean,required:!1,default:!1},bodyTogglable:{type:Boolean,required:!1,default:!1},expanded:{type:Boolean,required:!1,default:!0},scrollable:{type:Boolean,required:!1,default:!1}},data(){return{showBody:this.expanded,faAngleUp:l.onQ,faAngleDown:l.gc2}},mounted(){this.$watch("showBody",(e=>{const t=this.showHeader?this.$refs.header.offsetHeight:0;this.$el.style.minHeight=t+"px",this.$el.style.flexBasis=e?"auto":t+"px"}),{immediate:!0})},methods:{toggleContent(e){this.bodyTogglable&&(this.showBody=e)},enter(e){const t=e.getBoundingClientRect().height;e.style.height=0,e.offsetHeight,e.style.height=t+"px"},afterEnter(e){e.style.height=null},leave(e){const t=e.getBoundingClientRect().height;e.style.height=t+"px",e.offsetHeight,e.style.height=0},afterLeave(e){e.style.height=null}}});o(64935);c.render=s,c.__scopeId="data-v-1dbdaf33";const p=c},78732:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var a=o(55393);const n=(0,a.withScopeId)("data-v-2a5f1774");(0,a.pushScopeId)("data-v-2a5f1774");const i={class:"cxiknjgy"},r={class:"empty",key:"_empty_"},d={class:"more",key:"_more_"};(0,a.popScopeId)();const s=n(((e,t,o,s,l,c)=>{const p=(0,a.resolveComponent)("MkLoading"),u=(0,a.resolveComponent)("MkButton"),v=(0,a.resolveDirective)("appear");return(0,a.openBlock)(),(0,a.createBlock)("div",i,[(0,a.renderSlot)(e.$slots,"default",{items:e.items}),e.empty?((0,a.openBlock)(),(0,a.createBlock)("div",r,[(0,a.renderSlot)(e.$slots,"empty")])):(0,a.createCommentVNode)("",!0),(0,a.withDirectives)((0,a.createVNode)("div",d,[(0,a.withDirectives)((0,a.createVNode)(u,{class:"button",onClick:e.fetchMore,disabled:e.moreFetching,style:{cursor:e.moreFetching?"wait":"pointer"},primary:""},{default:n((()=>[e.moreFetching?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)(a.Fragment,{key:0},[(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts.loadMore),1)],64)),e.moreFetching?((0,a.openBlock)(),(0,a.createBlock)(p,{key:1,inline:""})):(0,a.createCommentVNode)("",!0)])),_:1},8,["onClick","disabled","style"]),[[v,e.$store.state.enableInfiniteScroll?e.fetchMore:null]])],512),[[a.vShow,e.more]])])}));var l=o(42453),c=o(90381);const p=(0,a.defineComponent)({components:{MkButton:l.Z},mixins:[(0,c.Z)({})],props:{pagination:{required:!0}}});o(4708);p.render=s,p.__scopeId="data-v-2a5f1774";const u=p},87539:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>$});var a=o(55393);const n=(0,a.withScopeId)("data-v-380254a2");(0,a.pushScopeId)("data-v-380254a2");const i={class:""},r={class:"_section",style:{padding:"0"}},d={value:"owned"},s={value:"joined"},l={value:"invites"},c={class:"_section"},p={key:0,class:"_content"},u={class:"_title"},v={class:"_content"},h={key:1,class:"_content"},g={class:"_title"},f={class:"_content"},k={key:2,class:"_content"},m={class:"_title"},y={class:"_content"},b={class:"_footer"};(0,a.popScopeId)();const x=n(((e,t,o,x,B,w)=>{const _=(0,a.resolveComponent)("Fa"),V=(0,a.resolveComponent)("MkTab"),j=(0,a.resolveComponent)("MkButton"),N=(0,a.resolveComponent)("MkA"),C=(0,a.resolveComponent)("MkAvatars"),S=(0,a.resolveComponent)("MkPagination");return(0,a.openBlock)(),(0,a.createBlock)("div",i,[(0,a.createVNode)("div",r,[(0,a.createVNode)(V,{value:e.tab,"onUpdate:value":t[1]||(t[1]=t=>e.tab=t)},{default:n((()=>[(0,a.createVNode)("option",d,(0,a.toDisplayString)(e.$ts.ownedGroups),1),(0,a.createVNode)("option",s,(0,a.toDisplayString)(e.$ts.joinedGroups),1),(0,a.createVNode)("option",l,[(0,a.createVNode)(_,{icon:e.faEnvelopeOpenText},null,8,["icon"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$ts.invites),1)])])),_:1},8,["value"])]),(0,a.createVNode)("div",c,["owned"===e.tab?((0,a.openBlock)(),(0,a.createBlock)("div",p,[(0,a.createVNode)(j,{onClick:e.create,primary:"",style:{margin:"0 auto var(--margin) auto"}},{default:n((()=>[(0,a.createVNode)(_,{icon:e.faPlus},null,8,["icon"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$ts.createGroup),1)])),_:1},8,["onClick"]),(0,a.createVNode)(S,{pagination:e.ownedPagination,ref:"owned"},{default:n((({items:e})=>[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(e,(e=>((0,a.openBlock)(),(0,a.createBlock)("div",{class:"_card",key:e.id},[(0,a.createVNode)("div",u,[(0,a.createVNode)(N,{to:"/my/groups/"+e.id,class:"_link"},{default:n((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.name),1)])),_:2},1032,["to"])]),(0,a.createVNode)("div",v,[(0,a.createVNode)(C,{"user-ids":e.userIds},null,8,["user-ids"])])])))),128))])),_:1},8,["pagination"])])):"joined"===e.tab?((0,a.openBlock)(),(0,a.createBlock)("div",h,[(0,a.createVNode)(S,{pagination:e.joinedPagination,ref:"joined"},{default:n((({items:e})=>[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(e,(e=>((0,a.openBlock)(),(0,a.createBlock)("div",{class:"_card",key:e.id},[(0,a.createVNode)("div",g,(0,a.toDisplayString)(e.name),1),(0,a.createVNode)("div",f,[(0,a.createVNode)(C,{"user-ids":e.userIds},null,8,["user-ids"])])])))),128))])),_:1},8,["pagination"])])):"invites"===e.tab?((0,a.openBlock)(),(0,a.createBlock)("div",k,[(0,a.createVNode)(S,{pagination:e.invitationPagination,ref:"invitations"},{default:n((({items:t})=>[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(t,(t=>((0,a.openBlock)(),(0,a.createBlock)("div",{class:"_card",key:t.id},[(0,a.createVNode)("div",m,(0,a.toDisplayString)(t.group.name),1),(0,a.createVNode)("div",y,[(0,a.createVNode)(C,{"user-ids":t.group.userIds},null,8,["user-ids"])]),(0,a.createVNode)("div",b,[(0,a.createVNode)(j,{onClick:o=>e.acceptInvite(t),primary:"",inline:""},{default:n((()=>[(0,a.createVNode)(_,{icon:e.faCheck},null,8,["icon"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$ts.accept),1)])),_:2},1032,["onClick"]),(0,a.createVNode)(j,{onClick:o=>e.rejectInvite(t),primary:"",inline:""},{default:n((()=>[(0,a.createVNode)(_,{icon:e.faBan},null,8,["icon"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$ts.reject),1)])),_:2},1032,["onClick"])])])))),128))])),_:1},8,["pagination"])])):(0,a.createCommentVNode)("",!0)])])}));var B=o(51436),w=o(78732),_=o(42453),V=o(69146);var j=o(10192);const N=(0,a.defineComponent)({props:{userIds:{required:!0}},data:()=>({us:[]}),async created(){this.us=await j.hi("users/show",{userIds:this.userIds})}});N.render=function(e,t,o,n,i,r){const d=(0,a.resolveComponent)("MkAvatar");return(0,a.openBlock)(),(0,a.createBlock)("div",null,[((0,a.openBlock)(!0),(0,a.createBlock)(a.Fragment,null,(0,a.renderList)(e.us,(e=>((0,a.openBlock)(),(0,a.createBlock)("div",{key:e.id,style:{display:"inline-block",width:"32px",height:"32px","margin-right":"8px"}},[(0,a.createVNode)(d,{user:e,style:{width:"32px",height:"32px"}},null,8,["user"])])))),128))])};const C=N;var S=o(52837);const I=(0,a.defineComponent)({components:{MkPagination:w.Z,MkButton:_.Z,MkContainer:V.Z,MkTab:S.Z,MkAvatars:C},data(){return{INFO:{title:this.$ts.groups,icon:B.FVb},tab:"owned",ownedPagination:{endpoint:"users/groups/owned",limit:10},joinedPagination:{endpoint:"users/groups/joined",limit:10},invitationPagination:{endpoint:"i/user-group-invites",limit:10},faUsers:B.FVb,faPlus:B.r8p,faEnvelopeOpenText:B.mSY}},methods:{async create(){const{canceled:e,result:t}=await j.WZ({title:this.$ts.groupName,input:!0});e||(await j.hi("users/groups/create",{name:t}),this.$refs.owned.reload(),j.Vp())},acceptInvite(e){j.hi("users/groups/invitations/accept",{invitationId:e.id}).then((()=>{j.Vp(),this.$refs.invitations.reload(),this.$refs.joined.reload()}))},rejectInvite(e){j.hi("users/groups/invitations/reject",{invitationId:e.id}).then((()=>{this.$refs.invitations.reload()}))}}});I.render=x,I.__scopeId="data-v-380254a2";const $=I},58477:(e,t,o)=>{var a=o(5573);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("114c2abe",a,!0,{})},64935:(e,t,o)=>{var a=o(62960);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("ab0d80cc",a,!0,{})},4708:(e,t,o)=>{var a=o(50047);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("5bb49243",a,!0,{})}}]);