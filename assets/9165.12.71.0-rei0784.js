(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[9165,7390],{26368:(e,o,t)=>{var n=t(23645)((function(e){return e[1]}));n.push([e.id,'.kpoogebi[data-v-74d2d7c0]{position:relative;display:inline-block;font-weight:700;color:var(--accent);background:transparent;border:1px solid var(--accent);padding:0;height:31px;font-size:16px;border-radius:32px;background:#fff}.kpoogebi.full[data-v-74d2d7c0]{padding:0 8px 0 12px;font-size:14px}.kpoogebi.large[data-v-74d2d7c0]{font-size:16px;height:38px;padding:0 12px 0 16px}.kpoogebi[data-v-74d2d7c0]:not(.full){width:31px}.kpoogebi[data-v-74d2d7c0]:focus:after{content:"";pointer-events:none;position:absolute;top:-5px;right:-5px;bottom:-5px;left:-5px;border:2px solid var(--focus);border-radius:32px}.kpoogebi.active[data-v-74d2d7c0]{color:#fff;background:var(--accent)}.kpoogebi.active[data-v-74d2d7c0]:hover{background:var(--accentLighten);border-color:var(--accentLighten)}.kpoogebi.active[data-v-74d2d7c0]:active{background:var(--accentDarken);border-color:var(--accentDarken)}.kpoogebi.wait[data-v-74d2d7c0]{cursor:wait!important;opacity:.7}.kpoogebi>span[data-v-74d2d7c0]{margin-right:6px}',""]),e.exports=n},50047:(e,o,t)=>{var n=t(23645)((function(e){return e[1]}));n.push([e.id,".cxiknjgy>.more>.button[data-v-2a5f1774]{margin-left:auto;margin-right:auto;height:48px;min-width:150px}",""]),e.exports=n},18083:(e,o,t)=>{var n=t(23645)((function(e){return e[1]}));n.push([e.id,".vjnjpkug[data-v-6bb21d0e]{position:relative}.vjnjpkug>.banner[data-v-6bb21d0e]{height:84px;background-color:rgba(0,0,0,.1);background-size:cover;background-position:50%}.vjnjpkug>.avatar[data-v-6bb21d0e]{display:block;position:absolute;top:62px;left:13px;z-index:2;width:58px;height:58px;border:4px solid var(--panel)}.vjnjpkug>.title[data-v-6bb21d0e]{display:block;padding:10px 0 10px 88px}.vjnjpkug>.title>.name[data-v-6bb21d0e]{display:inline-block;margin:0;font-weight:700;line-height:16px;word-break:break-all}.vjnjpkug>.title>.username[data-v-6bb21d0e]{display:block;margin:0;line-height:16px;font-size:.8em;color:var(--fg);opacity:.7}.vjnjpkug>.description[data-v-6bb21d0e]{padding:16px;font-size:.8em;border-top:1px solid var(--divider)}.vjnjpkug>.description>.mfm[data-v-6bb21d0e]{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.vjnjpkug>.status[data-v-6bb21d0e]{padding:10px 16px;border-top:1px solid var(--divider)}.vjnjpkug>.status>div[data-v-6bb21d0e]{display:inline-block;width:33%}.vjnjpkug>.status>div>p[data-v-6bb21d0e]{margin:0;font-size:.7em;color:var(--fg)}.vjnjpkug>.status>div>span[data-v-6bb21d0e]{font-size:1em;color:var(--accent)}.vjnjpkug>.koudoku-button[data-v-6bb21d0e]{position:absolute;top:8px;right:8px}",""]),e.exports=n},10376:(e,o,t)=>{var n=t(23645)((function(e){return e[1]}));n.push([e.id,".mk-following-or-followers>.users[data-v-235a4dd4]{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));grid-gap:var(--margin)}",""]),e.exports=n},49683:(e,o,t)=>{"use strict";t.d(o,{Z:()=>v});var n=t(55393);const a=(0,n.withScopeId)("data-v-74d2d7c0");(0,n.pushScopeId)("data-v-74d2d7c0");const r={key:0},s={key:0},i={key:0},l={key:0},c={key:0},d={key:0};(0,n.popScopeId)();const p=a(((e,o,t,a,p,u)=>{const g=(0,n.resolveComponent)("Fa");return(0,n.openBlock)(),(0,n.createBlock)("button",{class:["kpoogebi _button",{wait:e.wait,active:e.isFollowing||e.hasPendingFollowRequestFromYou,full:e.full,large:e.large}],onClick:o[1]||(o[1]=(...o)=>e.onClick&&e.onClick(...o)),disabled:e.wait},[e.wait?((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:1},[e.full?((0,n.openBlock)(),(0,n.createBlock)("span",d,(0,n.toDisplayString)(e.$ts.processing),1)):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(g,{icon:e.faSpinner,pulse:"","fixed-width":""},null,8,["icon"])],64)):((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:0},[e.hasPendingFollowRequestFromYou&&e.user.isLocked?((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:0},[e.full?((0,n.openBlock)(),(0,n.createBlock)("span",r,(0,n.toDisplayString)(e.$ts.followRequestPending),1)):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(g,{icon:e.faHourglassHalf},null,8,["icon"])],64)):e.hasPendingFollowRequestFromYou&&!e.user.isLocked?((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:1},[e.full?((0,n.openBlock)(),(0,n.createBlock)("span",s,(0,n.toDisplayString)(e.$ts.processing),1)):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(g,{icon:e.faSpinner,pulse:""},null,8,["icon"])],64)):e.isFollowing?((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:2},[e.full?((0,n.openBlock)(),(0,n.createBlock)("span",i,(0,n.toDisplayString)(e.$ts.unfollow),1)):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(g,{icon:e.faMinus},null,8,["icon"])],64)):!e.isFollowing&&e.user.isLocked?((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:3},[e.full?((0,n.openBlock)(),(0,n.createBlock)("span",l,(0,n.toDisplayString)(e.$ts.followRequest),1)):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(g,{icon:e.faPlus},null,8,["icon"])],64)):e.isFollowing||e.user.isLocked?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:4},[e.full?((0,n.openBlock)(),(0,n.createBlock)("span",c,(0,n.toDisplayString)(e.$ts.follow),1)):(0,n.createCommentVNode)("",!0),(0,n.createVNode)(g,{icon:e.faPlus},null,8,["icon"])],64))],64))],10,["disabled"])}));var u=t(51436),g=t(10192);const k=(0,n.defineComponent)({props:{user:{type:Object,required:!0},full:{type:Boolean,required:!1,default:!1},large:{type:Boolean,required:!1,default:!1}},data(){return{isFollowing:this.user.isFollowing,hasPendingFollowRequestFromYou:this.user.hasPendingFollowRequestFromYou,wait:!1,connection:null,faSpinner:u.LM3,faPlus:u.r8p,faMinus:u.Kl4,faHourglassHalf:u.B2l}},created(){null==this.user.isFollowing&&g.hi("users/show",{userId:this.user.id}).then((e=>{this.isFollowing=e.isFollowing,this.hasPendingFollowRequestFromYou=e.hasPendingFollowRequestFromYou}))},mounted(){this.connection=g.Vw.useSharedConnection("main"),this.connection.on("follow",this.onFollowChange),this.connection.on("unfollow",this.onFollowChange)},beforeUnmount(){this.connection.dispose()},methods:{onFollowChange(e){e.id==this.user.id&&(this.isFollowing=e.isFollowing,this.hasPendingFollowRequestFromYou=e.hasPendingFollowRequestFromYou)},async onClick(){this.wait=!0;try{if(this.isFollowing){const{canceled:e}=await g.WZ({type:"warning",text:this.$t("unfollowConfirm",{name:this.user.name||this.user.username}),showCancelButton:!0});if(e)return;await g.hi("following/delete",{userId:this.user.id})}else this.hasPendingFollowRequestFromYou?await g.hi("following/requests/cancel",{userId:this.user.id}):(this.user.isLocked,await g.hi("following/create",{userId:this.user.id}),this.hasPendingFollowRequestFromYou=!0)}catch(e){console.error(e)}finally{this.wait=!1}}}});t(48623);k.render=p,k.__scopeId="data-v-74d2d7c0";const v=k},78732:(e,o,t)=>{"use strict";t.d(o,{Z:()=>u});var n=t(55393);const a=(0,n.withScopeId)("data-v-2a5f1774");(0,n.pushScopeId)("data-v-2a5f1774");const r={class:"cxiknjgy"},s={class:"empty",key:"_empty_"},i={class:"more",key:"_more_"};(0,n.popScopeId)();const l=a(((e,o,t,l,c,d)=>{const p=(0,n.resolveComponent)("MkLoading"),u=(0,n.resolveComponent)("MkButton"),g=(0,n.resolveDirective)("appear");return(0,n.openBlock)(),(0,n.createBlock)("div",r,[(0,n.renderSlot)(e.$slots,"default",{items:e.items}),e.empty?((0,n.openBlock)(),(0,n.createBlock)("div",s,[(0,n.renderSlot)(e.$slots,"empty")])):(0,n.createCommentVNode)("",!0),(0,n.withDirectives)((0,n.createVNode)("div",i,[(0,n.withDirectives)((0,n.createVNode)(u,{class:"button",onClick:e.fetchMore,disabled:e.moreFetching,style:{cursor:e.moreFetching?"wait":"pointer"},primary:""},{default:a((()=>[e.moreFetching?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:0},[(0,n.createTextVNode)((0,n.toDisplayString)(e.$ts.loadMore),1)],64)),e.moreFetching?((0,n.openBlock)(),(0,n.createBlock)(p,{key:1,inline:""})):(0,n.createCommentVNode)("",!0)])),_:1},8,["onClick","disabled","style"]),[[g,e.$store.state.enableInfiniteScroll?e.fetchMore:null]])],512),[[n.vShow,e.more]])])}));var c=t(42453),d=t(90381);const p=(0,n.defineComponent)({components:{MkButton:c.Z},mixins:[(0,d.Z)({})],props:{pagination:{required:!0}}});t(4708);p.render=l,p.__scopeId="data-v-2a5f1774";const u=p},42739:(e,o,t)=>{"use strict";t.d(o,{Z:()=>f});var n=t(55393);const a=(0,n.withScopeId)("data-v-6bb21d0e");(0,n.pushScopeId)("data-v-6bb21d0e");const r={class:"_panel vjnjpkug"},s={class:"title"},i={class:"username"},l={class:"description"},c={key:0,class:"mfm"},d={key:1,style:{opacity:"0.7"}},p={class:"status"};(0,n.popScopeId)();const u=a(((e,o,t,u,g,k)=>{const v=(0,n.resolveComponent)("MkAvatar"),m=(0,n.resolveComponent)("MkUserName"),f=(0,n.resolveComponent)("MkA"),h=(0,n.resolveComponent)("MkAcct"),b=(0,n.resolveComponent)("Mfm"),w=(0,n.resolveComponent)("MkFollowButton");return(0,n.openBlock)(),(0,n.createBlock)("div",r,[(0,n.createVNode)("div",{class:"banner",style:e.user.bannerUrl?`background-image: url(${e.user.bannerUrl})`:""},null,4),(0,n.createVNode)(v,{class:"avatar",user:e.user,"disable-preview":!0},null,8,["user"]),(0,n.createVNode)("div",s,[(0,n.createVNode)(f,{class:"name",to:e.userPage(e.user)},{default:a((()=>[(0,n.createVNode)(m,{user:e.user,nowrap:!1},null,8,["user"])])),_:1},8,["to"]),(0,n.createVNode)("p",i,[(0,n.createVNode)(h,{user:e.user},null,8,["user"])])]),(0,n.createVNode)("div",l,[e.user.description?((0,n.openBlock)(),(0,n.createBlock)("div",c,[(0,n.createVNode)(b,{text:e.user.description,author:e.user,i:e.$i,"custom-emojis":e.user.emojis},null,8,["text","author","i","custom-emojis"])])):((0,n.openBlock)(),(0,n.createBlock)("span",d,(0,n.toDisplayString)(e.$ts.noAccountDescription),1))]),(0,n.createVNode)("div",p,[(0,n.createVNode)("div",null,[(0,n.createVNode)("p",null,(0,n.toDisplayString)(e.$ts.notes),1),(0,n.createVNode)("span",null,(0,n.toDisplayString)(e.user.notesCount),1)]),(0,n.createVNode)("div",null,[(0,n.createVNode)("p",null,(0,n.toDisplayString)(e.$ts.following),1),(0,n.createVNode)("span",null,(0,n.toDisplayString)(e.user.followingCount),1)]),(0,n.createVNode)("div",null,[(0,n.createVNode)("p",null,(0,n.toDisplayString)(e.$ts.followers),1),(0,n.createVNode)("span",null,(0,n.toDisplayString)(e.user.followersCount),1)])]),e.$i&&e.user.id!=e.$i.id?((0,n.openBlock)(),(0,n.createBlock)(w,{key:0,class:"koudoku-button",user:e.user,mini:""},null,8,["user"])):(0,n.createCommentVNode)("",!0)])}));var g=t(77127),k=t(49683),v=t(55006);const m=(0,n.defineComponent)({components:{MkFollowButton:k.Z},props:{user:{type:Object,required:!0}},data:()=>({}),methods:{userPage:v.tL,parseAcct:g.Z}});t(42598);m.render=u,m.__scopeId="data-v-6bb21d0e";const f=m},19165:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>p});var n=t(55393);const a=(0,n.withScopeId)("data-v-235a4dd4");(0,n.pushScopeId)("data-v-235a4dd4");const r={class:"users"};(0,n.popScopeId)();const s=a(((e,o,t,s,i,l)=>{const c=(0,n.resolveComponent)("MkUserInfo"),d=(0,n.resolveComponent)("MkPagination");return(0,n.openBlock)(),(0,n.createBlock)("div",null,[(0,n.createVNode)(d,{pagination:e.pagination,class:"mk-following-or-followers _content",ref:"list"},{default:a((({items:o})=>[(0,n.createVNode)("div",r,[((0,n.openBlock)(!0),(0,n.createBlock)(n.Fragment,null,(0,n.renderList)(o.map((o=>"following"===e.type?o.followee:o.follower)),(e=>((0,n.openBlock)(),(0,n.createBlock)(c,{class:"user",user:e,key:e.id},null,8,["user"])))),128))])])),_:1},8,["pagination"])])}));var i=t(42739),l=t(78732),c=t(55006);const d=(0,n.defineComponent)({components:{MkPagination:l.Z,MkUserInfo:i.Z},props:{user:{type:Object,required:!0},type:{type:String,required:!0}},data(){return{pagination:{endpoint:()=>"following"===this.type?"users/following":"users/followers",limit:20,params:{userId:this.user.id}}}},watch:{type(){this.$refs.list.reload()},user(){this.$refs.list.reload()}},methods:{userPage:c.tL,acct:c.R}});t(68157);d.render=s,d.__scopeId="data-v-235a4dd4";const p=d},48623:(e,o,t)=>{var n=t(26368);"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,t(45346).Z)("cd997be6",n,!0,{})},4708:(e,o,t)=>{var n=t(50047);"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,t(45346).Z)("5bb49243",n,!0,{})},42598:(e,o,t)=>{var n=t(18083);"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,t(45346).Z)("19f85634",n,!0,{})},68157:(e,o,t)=>{var n=t(10376);"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,t(45346).Z)("159c35d0",n,!0,{})}}]);