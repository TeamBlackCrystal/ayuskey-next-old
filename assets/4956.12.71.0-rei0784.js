(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[4956,9055],{18786:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".kudkigyw[data-v-2affe2e6]{display:inline-block;min-width:200px;max-width:450px;margin:8px 0}",""]),e.exports=o},90785:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".ysrxegms[data-v-114464ee]{display:inline-block;vertical-align:bottom;overflow:auto;max-width:100%}.ysrxegms>canvas[data-v-114464ee]{display:block}",""]),e.exports=o},56904:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".llumlmnx[data-v-04a64018]{display:inline-block;min-width:300px;max-width:450px;margin:8px 0}",""]),e.exports=o},1334:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".lzyxtsnt>img[data-v-15f4f650]{max-width:100%}",""]),e.exports=o},57327:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".voxdxuby[data-v-359ddfc2]{margin:1em 0}",""]),e.exports=o},16984:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".kudkigyw[data-v-034c029f]{display:inline-block;min-width:300px;max-width:450px;margin:8px 0}",""]),e.exports=o},58469:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".ngbfujlo[data-v-3ab3ce28]{position:relative;padding:32px;border-radius:6px;box-shadow:0 2px 8px var(--shadow);z-index:1}.ngbfujlo>.button[data-v-3ab3ce28]{margin-top:32px}@media(max-width:600px){.ngbfujlo[data-v-3ab3ce28]{padding:16px}.ngbfujlo>.button[data-v-3ab3ce28]{margin-top:16px}}",""]),e.exports=o},90401:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".sdgxphyu[data-v-487c30c4]{margin:1.5em 0}.sdgxphyu>h2[data-v-487c30c4]{font-size:1.35em;margin:0 0 .5em}.sdgxphyu>h3[data-v-487c30c4]{font-size:1em;margin:0 0 .5em}.sdgxphyu>h4[data-v-487c30c4]{font-size:1em;margin:0 0 .5em}",""]),e.exports=o},71390:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".hkcxmtwj[data-v-fd0480e8]{display:inline-block;margin:16px auto}.hkcxmtwj+.hkcxmtwj[data-v-fd0480e8]{margin-left:16px}",""]),e.exports=o},92480:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".kudkigyw[data-v-2ff8f217]{display:inline-block;min-width:300px;max-width:450px;margin:8px 0}",""]),e.exports=o},99943:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".mrdgzndn[data-v-157a6ede]:not(:first-child){margin-top:.5em}.mrdgzndn[data-v-157a6ede]:not(:last-child){margin-bottom:.5em}.mrdgzndn>.url[data-v-157a6ede]{margin:.5em 0}",""]),e.exports=o},58753:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".iroscrza.serif>div[data-v-0c3c6624]{font-family:serif}.iroscrza.center[data-v-0c3c6624]{text-align:center}",""]),e.exports=o},27582:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,'.juejbjww[data-v-32b1e952]{position:relative;margin:32px 0}.juejbjww[data-v-32b1e952]:not(.inline):first-child{margin-top:8px}.juejbjww[data-v-32b1e952]:not(.inline):last-child{margin-bottom:8px}.juejbjww>.icon[data-v-32b1e952]{position:absolute;top:0;left:0;width:24px;text-align:center;line-height:32px}.juejbjww>.icon:not(:empty)+.input[data-v-32b1e952]{margin-left:28px}.juejbjww>.input[data-v-32b1e952]{position:relative}.juejbjww>.input[data-v-32b1e952]:before{content:"";display:block;position:absolute;bottom:0;left:0;right:0;height:1px;background:var(--inputBorder)}.juejbjww>.input[data-v-32b1e952]:after{content:"";display:block;position:absolute;bottom:0;left:0;right:0;height:2px;background:var(--accent);opacity:0;transform:scaleX(.12);transition:border .3s cubic-bezier(.4,0,.2,1),opacity .3s cubic-bezier(.4,0,.2,1),transform .3s cubic-bezier(.4,0,.2,1);will-change:border opacity transform}.juejbjww>.input>.label[data-v-32b1e952]{position:absolute;z-index:1;top:0;left:0;transition:.4s cubic-bezier(.25,.8,.25,1);transition-duration:.3s;font-size:1em;line-height:32px;color:var(--inputLabel);pointer-events:none;transform-origin:top left;transform:scale(1)}.juejbjww>.input>.title[data-v-32b1e952]{position:absolute;z-index:1;top:-17px;left:0!important;font-size:1em;line-height:32px;color:var(--inputLabel);pointer-events:none;transform-origin:top left;transform:scale(.75);white-space:nowrap;width:133%;overflow:hidden;text-overflow:ellipsis}.juejbjww>.input>.title>.warning[data-v-32b1e952]{margin-left:.5em;color:var(--infoWarnFg)}.juejbjww>.input>.title>.warning>svg[data-v-32b1e952]{margin-right:.1em}.juejbjww>.input>input[data-v-32b1e952]{display:block;height:32px;width:100%;margin:0;padding:0;font:inherit;font-weight:400;font-size:1em;line-height:32px;color:var(--inputText);background:transparent;border:none;border-radius:0;outline:none;box-shadow:none;box-sizing:border-box}.juejbjww>.input>input[type=file][data-v-32b1e952]{display:none}.juejbjww>.input>.prefix[data-v-32b1e952],.juejbjww>.input>.suffix[data-v-32b1e952]{display:block;position:absolute;z-index:1;top:0;font-size:1em;line-height:32px;color:var(--inputLabel);pointer-events:none}.juejbjww>.input>.prefix[data-v-32b1e952]:empty,.juejbjww>.input>.suffix[data-v-32b1e952]:empty{display:none}.juejbjww>.input>.prefix>*[data-v-32b1e952],.juejbjww>.input>.suffix>*[data-v-32b1e952]{display:inline-block;min-width:16px;max-width:150px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.juejbjww>.input>.prefix[data-v-32b1e952]{left:0;padding-right:4px}.juejbjww>.input>.suffix[data-v-32b1e952]{right:0;padding-left:4px}.juejbjww>.save[data-v-32b1e952]{margin:6px 0 0;font-size:.8em}.juejbjww>.desc[data-v-32b1e952]{margin:6px 0 0}.juejbjww>.desc[data-v-32b1e952]:empty{display:none}.juejbjww>.desc *[data-v-32b1e952]{margin:0}.juejbjww.focused>.input[data-v-32b1e952]:after{opacity:1;transform:scaleX(1)}.juejbjww.focused>.input>.label[data-v-32b1e952]{color:var(--accent)}.juejbjww.filled>.input>.label[data-v-32b1e952],.juejbjww.focused>.input>.label[data-v-32b1e952]{top:-17px;left:0!important;transform:scale(.75)}.juejbjww.inline[data-v-32b1e952]{display:inline-block;margin:0}.juejbjww.disabled[data-v-32b1e952]{opacity:.7}.juejbjww.disabled[data-v-32b1e952],.juejbjww.disabled *[data-v-32b1e952]{cursor:not-allowed!important}',""]),e.exports=o},1799:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,'.novjtctn[data-v-5faafda1]{position:relative;display:inline-block;margin:8px 20px 0 0;text-align:left;cursor:pointer;transition:all .3s}.novjtctn>*[data-v-5faafda1]{user-select:none}.novjtctn.disabled[data-v-5faafda1]{opacity:.6}.novjtctn.disabled[data-v-5faafda1],.novjtctn.disabled *[data-v-5faafda1]{cursor:not-allowed!important}.novjtctn.checked>.button[data-v-5faafda1]{border-color:var(--accent)}.novjtctn.checked>.button[data-v-5faafda1]:after{background-color:var(--accent);transform:scale(1);opacity:1}.novjtctn>input[data-v-5faafda1]{position:absolute;width:0;height:0;opacity:0;margin:0}.novjtctn>.button[data-v-5faafda1]{position:absolute;width:20px;height:20px;background:none;border:2px solid var(--inputBorder);border-radius:100%;transition:inherit}.novjtctn>.button[data-v-5faafda1]:after{content:"";display:block;position:absolute;top:3px;right:3px;bottom:3px;left:3px;border-radius:100%;opacity:0;transform:scale(0);transition:.4s cubic-bezier(.25,.8,.25,1)}.novjtctn>.label[data-v-5faafda1]{margin-left:28px;display:block;font-size:16px;line-height:20px;cursor:pointer}',""]),e.exports=o},42842:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".ziffeoms[data-v-07df8238]{position:relative;display:flex;margin:32px 0;cursor:pointer;transition:all .3s}.ziffeoms[data-v-07df8238]:first-child{margin-top:0}.ziffeoms[data-v-07df8238]:last-child{margin-bottom:0}.ziffeoms>*[data-v-07df8238]{user-select:none}.ziffeoms.disabled[data-v-07df8238]{opacity:.6;cursor:not-allowed}.ziffeoms.checked>.button[data-v-07df8238]{background-color:var(--X10);border-color:var(--X10)}.ziffeoms.checked>.button>*[data-v-07df8238]{background-color:var(--accent);transform:translateX(14px)}.ziffeoms>input[data-v-07df8238]{position:absolute;width:0;height:0;opacity:0;margin:0}.ziffeoms>.button[data-v-07df8238]{position:relative;display:inline-block;flex-shrink:0;margin:3px 0 0;width:34px;height:14px;background:var(--X6);outline:none;border-radius:14px;transition:inherit}.ziffeoms>.button>*[data-v-07df8238]{position:absolute;top:-3px;left:0;border-radius:100%;transition:background-color .3s,transform .3s;width:20px;height:20px;background-color:#fff;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.ziffeoms>.label[data-v-07df8238]{margin-left:8px;display:block;cursor:pointer;transition:inherit;color:var(--fg)}.ziffeoms>.label>span[data-v-07df8238]{display:block;line-height:20px;transition:inherit}.ziffeoms>.label>p[data-v-07df8238]{margin:0;opacity:.7;font-size:90%}",""]),e.exports=o},92008:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,'.adhpbeos[data-v-e827983a]{margin:42px 0 32px;position:relative}.adhpbeos[data-v-e827983a]:first-child{margin-top:16px}.adhpbeos[data-v-e827983a]:last-child{margin-bottom:0}.adhpbeos>.input[data-v-e827983a]{position:relative}.adhpbeos>.input[data-v-e827983a]:before{content:"";display:block;position:absolute;top:0;bottom:0;left:0;right:0;background:none;border:1px solid var(--inputBorder);border-radius:3px;pointer-events:none}.adhpbeos>.input[data-v-e827983a]:after{content:"";display:block;position:absolute;top:0;bottom:0;left:0;right:0;background:none;border:2px solid var(--accent);border-radius:3px;opacity:0;transition:opacity .3s cubic-bezier(.4,0,.2,1);pointer-events:none}.adhpbeos>.input>.label[data-v-e827983a]{position:absolute;top:6px;left:12px;transition:.4s cubic-bezier(.25,.8,.25,1);transition-duration:.3s;font-size:1em;line-height:32px;pointer-events:none;transform-origin:top left;transform:scale(1)}.adhpbeos>.input>textarea[data-v-e827983a]{display:block;width:100%;min-width:100%;max-width:100%;min-height:130px;padding:12px;box-sizing:border-box;font:inherit;font-weight:400;font-size:1em;background:transparent;border:none;border-radius:0;outline:none;box-shadow:none;color:var(--fg)}.adhpbeos>.input>textarea.code[data-v-e827983a]{tab-size:2}.adhpbeos>.save[data-v-e827983a]{margin:6px 0 0;font-size:.8em}.adhpbeos>.desc[data-v-e827983a]{margin:6px 0 0}.adhpbeos>.desc[data-v-e827983a]:empty{display:none}.adhpbeos>.desc *[data-v-e827983a]{margin:0}.adhpbeos.focused>.input[data-v-e827983a]:after{opacity:1}.adhpbeos.focused>.input>.label[data-v-e827983a]{color:var(--accent)}.adhpbeos.filled>.input>.label[data-v-e827983a],.adhpbeos.focused>.input>.label[data-v-e827983a]{top:-24px;left:0!important;transform:scale(.75)}.adhpbeos.tall>.input>textarea[data-v-e827983a]{min-height:200px}.adhpbeos.pre>.input>textarea[data-v-e827983a]{white-space:pre}',""]),e.exports=o},4990:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".xcukqgmh>.main>._content>.banner>img[data-v-a89b123c]{display:block;width:100%;height:120px;object-fit:cover}.xcukqgmh>.links>._content>.link[data-v-a89b123c]{margin-right:.75em}",""]),e.exports=o},46700:(e,t,a)=>{var o={"./af":42786,"./af.js":42786,"./ar":30867,"./ar-dz":14130,"./ar-dz.js":14130,"./ar-kw":96135,"./ar-kw.js":96135,"./ar-ly":56440,"./ar-ly.js":56440,"./ar-ma":47702,"./ar-ma.js":47702,"./ar-sa":16040,"./ar-sa.js":16040,"./ar-tn":37100,"./ar-tn.js":37100,"./ar.js":30867,"./az":31083,"./az.js":31083,"./be":9808,"./be.js":9808,"./bg":68338,"./bg.js":68338,"./bm":67438,"./bm.js":67438,"./bn":8905,"./bn.js":8905,"./bo":11560,"./bo.js":11560,"./br":1278,"./br.js":1278,"./bs":80622,"./bs.js":80622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":50877,"./cv.js":50877,"./cy":47373,"./cy.js":47373,"./da":24780,"./da.js":24780,"./de":59740,"./de-at":60217,"./de-at.js":60217,"./de-ch":60894,"./de-ch.js":60894,"./de.js":59740,"./dv":5300,"./dv.js":5300,"./el":50837,"./el.js":50837,"./en-SG":85383,"./en-SG.js":85383,"./en-au":78348,"./en-au.js":78348,"./en-ca":77925,"./en-ca.js":77925,"./en-gb":22243,"./en-gb.js":22243,"./en-ie":46436,"./en-ie.js":46436,"./en-il":47207,"./en-il.js":47207,"./en-nz":76319,"./en-nz.js":76319,"./eo":92915,"./eo.js":92915,"./es":55655,"./es-do":2088,"./es-do.js":2088,"./es-us":71146,"./es-us.js":71146,"./es.js":55655,"./et":5603,"./et.js":5603,"./eu":77763,"./eu.js":77763,"./fa":76959,"./fa.js":76959,"./fi":11897,"./fi.js":11897,"./fo":94694,"./fo.js":94694,"./fr":94470,"./fr-ca":63049,"./fr-ca.js":63049,"./fr-ch":52330,"./fr-ch.js":52330,"./fr.js":94470,"./fy":5044,"./fy.js":5044,"./ga":29295,"./ga.js":29295,"./gd":2101,"./gd.js":2101,"./gl":38794,"./gl.js":38794,"./gom-latn":23168,"./gom-latn.js":23168,"./gu":95349,"./gu.js":95349,"./he":24206,"./he.js":24206,"./hi":30094,"./hi.js":30094,"./hr":30316,"./hr.js":30316,"./hu":22138,"./hu.js":22138,"./hy-am":11423,"./hy-am.js":11423,"./id":29218,"./id.js":29218,"./is":90135,"./is.js":90135,"./it":90626,"./it-ch":10150,"./it-ch.js":10150,"./it.js":90626,"./ja":39183,"./ja.js":39183,"./jv":24286,"./jv.js":24286,"./ka":12105,"./ka.js":12105,"./kk":47772,"./kk.js":47772,"./km":18758,"./km.js":18758,"./kn":79282,"./kn.js":79282,"./ko":33730,"./ko.js":33730,"./ku":1408,"./ku.js":1408,"./ky":33291,"./ky.js":33291,"./lb":36841,"./lb.js":36841,"./lo":55466,"./lo.js":55466,"./lt":57010,"./lt.js":57010,"./lv":37595,"./lv.js":37595,"./me":39861,"./me.js":39861,"./mi":35493,"./mi.js":35493,"./mk":95966,"./mk.js":95966,"./ml":87341,"./ml.js":87341,"./mn":5115,"./mn.js":5115,"./mr":10370,"./mr.js":10370,"./ms":9847,"./ms-my":41237,"./ms-my.js":41237,"./ms.js":9847,"./mt":72126,"./mt.js":72126,"./my":56165,"./my.js":56165,"./nb":64924,"./nb.js":64924,"./ne":16744,"./ne.js":16744,"./nl":93901,"./nl-be":59814,"./nl-be.js":59814,"./nl.js":93901,"./nn":83877,"./nn.js":83877,"./pa-in":15858,"./pa-in.js":15858,"./pl":64495,"./pl.js":64495,"./pt":89520,"./pt-br":57971,"./pt-br.js":57971,"./pt.js":89520,"./ro":96459,"./ro.js":96459,"./ru":21793,"./ru.js":21793,"./sd":40950,"./sd.js":40950,"./se":10490,"./se.js":10490,"./si":90124,"./si.js":90124,"./sk":64249,"./sk.js":64249,"./sl":14985,"./sl.js":14985,"./sq":51104,"./sq.js":51104,"./sr":49131,"./sr-cyrl":79915,"./sr-cyrl.js":79915,"./sr.js":49131,"./ss":85893,"./ss.js":85893,"./sv":98760,"./sv.js":98760,"./sw":91172,"./sw.js":91172,"./ta":27333,"./ta.js":27333,"./te":23110,"./te.js":23110,"./tet":52095,"./tet.js":52095,"./tg":27321,"./tg.js":27321,"./th":9041,"./th.js":9041,"./tl-ph":75768,"./tl-ph.js":75768,"./tlh":89444,"./tlh.js":89444,"./tr":72397,"./tr.js":72397,"./tzl":28254,"./tzl.js":28254,"./tzm":51106,"./tzm-latn":30699,"./tzm-latn.js":30699,"./tzm.js":51106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":67691,"./uk.js":67691,"./ur":13795,"./ur.js":13795,"./uz":6791,"./uz-latn":60588,"./uz-latn.js":60588,"./uz.js":6791,"./vi":65666,"./vi.js":65666,"./x-pseudo":14378,"./x-pseudo.js":14378,"./yo":75805,"./yo.js":75805,"./zh-cn":83839,"./zh-cn.js":83839,"./zh-hk":55726,"./zh-hk.js":55726,"./zh-tw":74152,"./zh-tw.js":74152};function n(e){var t=l(e);return a(t)}function l(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=l,e.exports=n,n.id=46700},31064:(e,t,a)=>{"use strict";a.d(t,{a:()=>r});var o=a(27328),n=a(10192),l=a(37200);function r(e){let t=0;return{USER_ID:l.$i?o.values.STR(l.$i.id):o.values.NULL,USER_NAME:l.$i?o.values.STR(l.$i.name):o.values.NULL,USER_USERNAME:l.$i?o.values.STR(l.$i.username):o.values.NULL,"Mk:dialog":o.values.FN_NATIVE((async([e,t,a])=>{await n.WZ({type:a?a.value:"info",title:e.value,text:t.value})})),"Mk:confirm":o.values.FN_NATIVE((async([e,t,a])=>(await n.WZ({type:a?a.value:"question",showCancelButton:!0,title:e.value,text:t.value})).canceled?o.values.FALSE:o.values.TRUE)),"Mk:api":o.values.FN_NATIVE((async([a,l,r])=>{if(r&&o.utils.assertString(r),t++,t>16)return o.values.NULL;const i=await n.hi(a.value,o.utils.valToJs(l),r?r.value:e.token||null);return o.utils.jsToVal(i)})),"Mk:save":o.values.FN_NATIVE((([t,a])=>(o.utils.assertString(t),localStorage.setItem("aiscript:"+e.storageKey+":"+t.value,JSON.stringify(o.utils.valToJs(a))),o.values.NULL))),"Mk:load":o.values.FN_NATIVE((([t])=>(o.utils.assertString(t),o.utils.jsToVal(JSON.parse(localStorage.getItem("aiscript:"+e.storageKey+":"+t.value))))))}}},34581:(e,t,a)=>{"use strict";function o(e){const t=[],a=e=>{for(const o of e)"textInput"===o.type||"textareaInput"===o.type?t.push({name:o.name,type:"string",value:o.default||""}):"numberInput"===o.type?t.push({name:o.name,type:"number",value:o.default||0}):"switch"===o.type?t.push({name:o.name,type:"boolean",value:o.default||!1}):"counter"===o.type?t.push({name:o.name,type:"number",value:0}):"radioButton"===o.type?t.push({name:o.name,type:"string",value:o.default||""}):o.children&&a(o.children)};return a(e),t}a.d(t,{k:()=>o})},36633:(e,t,a)=>{"use strict";a.d(t,{$:()=>n});var o=a(32443);function n(e){return null==e.type||!!o.fl[e.type]}},32443:(e,t,a)=>{"use strict";a.d(t,{fl:()=>i,uA:()=>s,Mo:()=>c,qG:()=>d,wM:()=>p});var o=a(88572),n=a(51436),l=a(60662),r=function(e,t,a,o){var n,l=arguments.length,r=l<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,o);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(r=(l<3?n(r):l>3?n(t,a,r):n(t,a))||r);return l>3&&r&&Object.defineProperty(t,a,r),r};const i={text:{out:"string",category:"value",icon:n.Elr},multiLineText:{out:"string",category:"value",icon:n.elf},textList:{out:"stringArray",category:"value",icon:n.Zrf},number:{out:"number",category:"value",icon:n.g2k},ref:{out:null,category:"value",icon:n.een},aiScriptVar:{out:null,category:"value",icon:n.een},fn:{out:"function",category:"value",icon:n.by$}},s=[...Object.entries(i).map((([e,t])=>({type:e,out:t.out,category:t.category,icon:t.icon}))),...Object.entries(l.iN).map((([e,t])=>({type:e,out:t.out,category:t.category,icon:t.icon})))],c={AI:"string",URL:"string",VERSION:"string",LOGIN:"boolean",NAME:"string",USERNAME:"string",USERID:"string",NOTES_COUNT:"number",FOLLOWERS_COUNT:"number",FOLLOWING_COUNT:"number",IS_CAT:"boolean",IS_LADY:"boolean",SEED:null,YMD:"string",AISCRIPT_DISABLED:"boolean",NULL:null};class d{constructor(e,t){this.layerdStates=e,this.name=t||"anonymous"}createChildScope(e,t){const a=[e,...this.layerdStates];return new d(a,t)}getState(e){for(const t of this.layerdStates){const a=t[e];if(void 0!==a)return a}throw new p(`No such variable '${e}' in scope '${this.name}'`,{scope:this.layerdStates})}}r([o.default],d.prototype,"createChildScope",null),r([o.default],d.prototype,"getState",null);class p extends Error{constructor(e,t){super(e),this.info=t,Error.captureStackTrace&&Error.captureStackTrace(this,p)}}},60662:(e,t,a)=>{"use strict";a.d(t,{FG:()=>d,iN:()=>p,kI:()=>u});var o=a(17621),n=a(17757),l=a.n(n),r=a(27328),i=a(36377),s=a(51436),c=a(56024);function d(e){return{"MkPages:updated":r.values.FN_NATIVE((([t])=>{e.pageVarUpdatedCallback=t})),"MkPages:get_canvas":r.values.FN_NATIVE((([t])=>{r.utils.assertString(t);const a=e.canvases[t.value].getContext("2d");return r.values.OBJ(new Map([["clear_rect",r.values.FN_NATIVE((([e,t,o,n])=>{a.clearRect(e.value,t.value,o.value,n.value)}))],["fill_rect",r.values.FN_NATIVE((([e,t,o,n])=>{a.fillRect(e.value,t.value,o.value,n.value)}))],["stroke_rect",r.values.FN_NATIVE((([e,t,o,n])=>{a.strokeRect(e.value,t.value,o.value,n.value)}))],["fill_text",r.values.FN_NATIVE((([e,t,o,n])=>{a.fillText(e.value,t.value,o.value,n?n.value:void 0)}))],["stroke_text",r.values.FN_NATIVE((([e,t,o,n])=>{a.strokeText(e.value,t.value,o.value,n?n.value:void 0)}))],["set_line_width",r.values.FN_NATIVE((([e])=>{a.lineWidth=e.value}))],["set_font",r.values.FN_NATIVE((([e])=>{a.font=e.value}))],["set_fill_style",r.values.FN_NATIVE((([e])=>{a.fillStyle=e.value}))],["set_stroke_style",r.values.FN_NATIVE((([e])=>{a.strokeStyle=e.value}))],["begin_path",r.values.FN_NATIVE((()=>{a.beginPath()}))],["close_path",r.values.FN_NATIVE((()=>{a.closePath()}))],["move_to",r.values.FN_NATIVE((([e,t])=>{a.moveTo(e.value,t.value)}))],["line_to",r.values.FN_NATIVE((([e,t])=>{a.lineTo(e.value,t.value)}))],["arc",r.values.FN_NATIVE((([e,t,o,n,l])=>{a.arc(e.value,t.value,o.value,n.value,l.value)}))],["rect",r.values.FN_NATIVE((([e,t,o,n])=>{a.rect(e.value,t.value,o.value,n.value)}))],["fill",r.values.FN_NATIVE((()=>{a.fill()}))],["stroke",r.values.FN_NATIVE((()=>{a.stroke()}))]]))})),"MkPages:chart":r.values.FN_NATIVE((([t,a])=>{r.utils.assertString(t),r.utils.assertObject(a);const n=e.canvases[t.value],i=getComputedStyle(document.documentElement).getPropertyValue("--accent");l().defaults.global.defaultFontColor="#555";new(l())(n,{type:a.value.get("type").value,data:{labels:a.value.get("labels").value.map((e=>e.value)),datasets:a.value.get("datasets").value.map((e=>({label:e.value.has("label")?e.value.get("label").value:"",data:e.value.get("data").value.map((e=>e.value)),pointRadius:0,lineTension:0,borderWidth:2,borderColor:e.value.has("color")?e.value.get("color"):i,backgroundColor:o(e.value.has("color")?e.value.get("color"):i).setAlpha(.1).toRgbString()})))},options:Object.assign({responsive:!1,devicePixelRatio:1.5,title:{display:a.value.has("title"),text:a.value.has("title")?a.value.get("title").value:"",fontSize:14},layout:{padding:{left:32,right:32,top:a.value.has("title")?16:32,bottom:16}},legend:{display:0!==a.value.get("datasets").value.filter((e=>e.value.has("label")&&e.value.get("label").value)).length,position:"bottom",labels:{boxWidth:16}},tooltips:{enabled:!1},chartArea:{backgroundColor:"#fff"}},"radar"===a.value.get("type").value?{scale:{ticks:{display:!!a.value.has("show_tick_label")&&a.value.get("show_tick_label").value,min:a.value.has("min")?a.value.get("min").value:void 0,max:a.value.has("max")?a.value.get("max").value:void 0,maxTicksLimit:8},pointLabels:{fontSize:12}}}:{scales:{yAxes:[{ticks:{display:!a.value.has("show_tick_label")||a.value.get("show_tick_label").value,min:a.value.has("min")?a.value.get("min").value:void 0,max:a.value.has("max")?a.value.get("max").value:void 0}}]}})})}))}}l().pluginService.register({beforeDraw:(e,t)=>{if(e.config.options.chartArea&&e.config.options.chartArea.backgroundColor){const t=e.chart.ctx;t.save(),t.fillStyle=e.config.options.chartArea.backgroundColor,t.fillRect(0,0,e.chart.width,e.chart.height),t.restore()}}});const p={if:{in:["boolean",0,0],out:0,category:"flow",icon:s.EfQ},for:{in:["number","function"],out:null,category:"flow",icon:s.TZC},not:{in:["boolean"],out:"boolean",category:"logical",icon:c.Rr},or:{in:["boolean","boolean"],out:"boolean",category:"logical",icon:c.Rr},and:{in:["boolean","boolean"],out:"boolean",category:"logical",icon:c.Rr},add:{in:["number","number"],out:"number",category:"operation",icon:s.r8p},subtract:{in:["number","number"],out:"number",category:"operation",icon:s.Kl4},multiply:{in:["number","number"],out:"number",category:"operation",icon:s.NBC},divide:{in:["number","number"],out:"number",category:"operation",icon:s.pGc},mod:{in:["number","number"],out:"number",category:"operation",icon:s.pGc},round:{in:["number"],out:"number",category:"operation",icon:s.lTt},eq:{in:[0,0],out:"boolean",category:"comparison",icon:s.Lvu},notEq:{in:[0,0],out:"boolean",category:"comparison",icon:s.u34},gt:{in:["number","number"],out:"boolean",category:"comparison",icon:s.WqQ},lt:{in:["number","number"],out:"boolean",category:"comparison",icon:s.GQf},gtEq:{in:["number","number"],out:"boolean",category:"comparison",icon:s.GJP},ltEq:{in:["number","number"],out:"boolean",category:"comparison",icon:s.ERW},strLen:{in:["string"],out:"number",category:"text",icon:s.Elr},strPick:{in:["string","number"],out:"string",category:"text",icon:s.Elr},strReplace:{in:["string","string","string"],out:"string",category:"text",icon:s.Elr},strReverse:{in:["string"],out:"string",category:"text",icon:s.Elr},join:{in:["stringArray","string"],out:"string",category:"text",icon:s.Elr},stringToNumber:{in:["string"],out:"number",category:"convert",icon:s.Ssp},numberToString:{in:["number"],out:"string",category:"convert",icon:s.Ssp},splitStrByLine:{in:["string"],out:"stringArray",category:"convert",icon:s.Ssp},pick:{in:[null,"number"],out:null,category:"list",icon:s.s$_},listLen:{in:[null],out:"number",category:"list",icon:s.s$_},rannum:{in:["number","number"],out:"number",category:"random",icon:s.RJo},dailyRannum:{in:["number","number"],out:"number",category:"random",icon:s.RJo},seedRannum:{in:[null,"number","number"],out:"number",category:"random",icon:s.RJo},random:{in:["number"],out:"boolean",category:"random",icon:s.RJo},dailyRandom:{in:["number"],out:"boolean",category:"random",icon:s.RJo},seedRandom:{in:[null,"number"],out:"boolean",category:"random",icon:s.RJo},randomPick:{in:[0],out:0,category:"random",icon:s.RJo},dailyRandomPick:{in:[0],out:0,category:"random",icon:s.RJo},seedRandomPick:{in:[null,0],out:0,category:"random",icon:s.RJo},DRPWPM:{in:["stringArray"],out:"string",category:"random",icon:s.RJo}};function u(e,t,a,o){const n=new Date,l=`${o?o.id:""} ${n.getFullYear()}/${n.getMonth()+1}/${n.getDate()}`;return{not:e=>!e,or:(e,t)=>e||t,and:(e,t)=>e&&t,eq:(e,t)=>e===t,notEq:(e,t)=>e!==t,gt:(e,t)=>e>t,lt:(e,t)=>e<t,gtEq:(e,t)=>e>=t,ltEq:(e,t)=>e<=t,if:(e,t,a)=>e?t:a,for:(e,t)=>{const a=[];for(let o=0;o<e;o++)a.push(t.exec({[t.slots[0]]:o+1}));return a},add:(e,t)=>e+t,subtract:(e,t)=>e-t,multiply:(e,t)=>e*t,divide:(e,t)=>e/t,mod:(e,t)=>e%t,round:e=>Math.round(e),strLen:e=>e.length,strPick:(e,t)=>e[t-1],strReplace:(e,t,a)=>e.split(t).join(a),strReverse:e=>e.split("").reverse().join(""),join:(e,t)=>e.join(t||""),stringToNumber:e=>parseInt(e),numberToString:e=>e.toString(),splitStrByLine:e=>e.split("\n"),pick:(e,t)=>e[t-1],listLen:e=>e.length,random:t=>Math.floor(100*i(`${a}:${e.id}`)())<t,rannum:(t,o)=>t+Math.floor(i(`${a}:${e.id}`)()*(o-t+1)),randomPick:t=>t[Math.floor(i(`${a}:${e.id}`)()*t.length)],dailyRandom:t=>Math.floor(100*i(`${l}:${e.id}`)())<t,dailyRannum:(t,a)=>t+Math.floor(i(`${l}:${e.id}`)()*(a-t+1)),dailyRandomPick:t=>t[Math.floor(i(`${l}:${e.id}`)()*t.length)],seedRandom:(e,t)=>Math.floor(100*i(e)())<t,seedRannum:(e,t,a)=>t+Math.floor(i(e)()*(a-t+1)),seedRandomPick:(e,t)=>t[Math.floor(i(e)()*t.length)],DRPWPM:t=>{const a=[];let o=0;for(const e of t){const t=e.split(" "),n=parseInt(t.pop(),10),l=t.join(" ");o+=n,a.push({factor:n,text:l})}const n=i(`${l}:${e.id}`)()*o;let r=0;for(const e of a){if(n>=r&&n<=r+e.factor)return e.text;r+=e.factor}return a[0].text}}}},34319:e=>{e.exports=function(e,t){var a=null;return function(){clearTimeout(a);var o=arguments,n=this;a=setTimeout((function(){e.apply(n,o)}),t)}}},45030:(e,t,a)=>{const o=a(34319);function n(e,t){t.value!==t.oldValue&&(e.oninput=n.debounce((function(t){e.dispatchEvent(function(e){if("function"==typeof Event)var t=new Event(e);else{(t=document.createEvent("Event")).initEvent(e,!0,!0)}return t}("change"))}),parseInt(t.value)||800))}n.debounce=o,e.exports=n},24659:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>we});var o=a(55393);const n=(0,o.withScopeId)("data-v-157a6ede");(0,o.pushScopeId)("data-v-157a6ede");const l={class:"mrdgzndn"};(0,o.popScopeId)();const r=n(((e,t,a,n,r,i)=>{const s=(0,o.resolveComponent)("Mfm"),c=(0,o.resolveComponent)("MkUrlPreview");return(0,o.openBlock)(),(0,o.createBlock)("div",l,[(0,o.createVNode)(s,{text:e.text,"is-note":!1,i:e.$i,key:e.text},null,8,["text","i"]),((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.urls,(e=>((0,o.openBlock)(),(0,o.createBlock)(c,{url:e,key:e,class:"url"},null,8,["url"])))),128))])}));var i=a(42984),s=a(25300);const c=(0,o.defineComponent)({components:{MkUrlPreview:(0,o.defineAsyncComponent)((()=>Promise.all([a.e(1417),a.e(1010)]).then(a.bind(a,71010))))},props:{block:{type:Object,required:!0},hpml:{type:Object,required:!0}},data(){return{text:this.hpml.interpolate(this.block.text)}},computed:{urls(){if(this.text){const e=(0,i.Q)(this.text);return(0,s.Tw)(e.filter((e=>("url"==e.node.type||"link"==e.node.type)&&e.node.props.url&&!e.node.props.silent)).map((e=>e.node.props.url)))}return[]}},watch:{"hpml.vars":{handler(){this.text=this.hpml.interpolate(this.block.text)},deep:!0}}});a(3009);c.render=r,c.__scopeId="data-v-157a6ede";const d=c,p=(0,o.withScopeId)("data-v-487c30c4");(0,o.pushScopeId)("data-v-487c30c4");const u={class:"sdgxphyu"},v={class:"children"};(0,o.popScopeId)();const m=p(((e,t,a,n,l,r)=>{const i=(0,o.resolveComponent)("XBlock");return(0,o.openBlock)(),(0,o.createBlock)("section",u,[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)("h"+e.h),null,{default:p((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.block.title),1)])),_:1})),(0,o.createVNode)("div",v,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.block.children,(t=>((0,o.openBlock)(),(0,o.createBlock)(i,{block:t,hpml:e.hpml,key:t.id,h:e.h+1},null,8,["block","hpml","h"])))),128))])])})),h=(0,o.defineComponent)({components:{XBlock:(0,o.defineAsyncComponent)((()=>Promise.resolve().then(a.bind(a,24659))))},props:{block:{type:Object,required:!0},hpml:{type:Object,required:!0},h:{required:!0}}});a(4027);h.render=m,h.__scopeId="data-v-487c30c4";const b=h,f=(0,o.withScopeId)("data-v-15f4f650");(0,o.pushScopeId)("data-v-15f4f650");const g={class:"lzyxtsnt"};(0,o.popScopeId)();const k=f(((e,t,a,n,l,r)=>((0,o.openBlock)(),(0,o.createBlock)("div",g,[e.image?((0,o.openBlock)(),(0,o.createBlock)("img",{key:0,src:e.image.url},null,8,["src"])):(0,o.createCommentVNode)("",!0)])))),y=(0,o.defineComponent)({props:{block:{type:Object,required:!0},hpml:{type:Object,required:!0}},setup:(e,t)=>({image:e.hpml.page.attachedFiles.find((t=>t.id===e.block.fileId))})});a(56400);y.render=k,y.__scopeId="data-v-15f4f650";const j=y,x=(0,o.withScopeId)("data-v-2affe2e6"),w=x(((e,t,a,n,l,r)=>{const i=(0,o.resolveComponent)("MkButton");return(0,o.openBlock)(),(0,o.createBlock)("div",null,[(0,o.createVNode)(i,{class:"kudkigyw",onClick:t[1]||(t[1]=t=>e.click()),primary:e.block.primary},{default:x((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.hpml.interpolate(e.block.text)),1)])),_:1},8,["primary"])])}));var S=a(42453),N=a(10192);const I=(0,o.defineComponent)({components:{MkButton:S.Z},props:{block:{type:Object,required:!0},hpml:{type:Object,required:!0}},methods:{click(){"dialog"===this.block.action?(this.hpml.eval(),N.WZ({text:this.hpml.interpolate(this.block.content)})):"resetRandom"===this.block.action?(this.hpml.updateRandomSeed(Math.random()),this.hpml.eval()):"pushEvent"===this.block.action?(N.hi("page-push",Object.assign({pageId:this.hpml.page.id,event:this.block.event},this.block.var?{var:(0,o.unref)(this.hpml.vars)[this.block.var]}:{})),N.WZ({type:"success",text:this.hpml.interpolate(this.block.message)})):"callAiScript"===this.block.action&&this.hpml.callAiScript(this.block.fn)}}});a(63411);I.render=w,I.__scopeId="data-v-2affe2e6";const B=I,V=(0,o.withScopeId)("data-v-034c029f"),_=V(((e,t,a,n,l,r)=>{const i=(0,o.resolveComponent)("MkInput");return(0,o.openBlock)(),(0,o.createBlock)("div",null,[(0,o.createVNode)(i,{class:"kudkigyw",value:e.value,"onUpdate:value":t[1]||(t[1]=t=>e.updateValue(t)),type:"number"},{default:V((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.hpml.interpolate(e.block.text)),1)])),_:1},8,["value"])])}));var C=a(77121);const E=(0,o.defineComponent)({components:{MkInput:C.Z},props:{block:{type:Object,required:!0},hpml:{type:Object,required:!0}},setup:(e,t)=>({value:(0,o.computed)((()=>e.hpml.vars.value[e.block.name])),updateValue:function(t){e.hpml.updatePageVar(e.block.name,t),e.hpml.eval()}})});a(39747);E.render=_,E.__scopeId="data-v-034c029f";const T=E,q=(0,o.withScopeId)("data-v-2ff8f217"),R=q(((e,t,a,n,l,r)=>{const i=(0,o.resolveComponent)("MkInput");return(0,o.openBlock)(),(0,o.createBlock)("div",null,[(0,o.createVNode)(i,{class:"kudkigyw",value:e.value,"onUpdate:value":t[1]||(t[1]=t=>e.updateValue(t)),type:"text"},{default:q((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.hpml.interpolate(e.block.text)),1)])),_:1},8,["value"])])})),z=(0,o.defineComponent)({components:{MkInput:C.Z},props:{block:{type:Object,required:!0},hpml:{type:Object,required:!0}},setup:(e,t)=>({value:(0,o.computed)((()=>e.hpml.vars.value[e.block.name])),updateValue:function(t){e.hpml.updatePageVar(e.block.name,t),e.hpml.eval()}})});a(56521);z.render=R,z.__scopeId="data-v-2ff8f217";const O=z;var $=a(19055);const M=(0,o.defineComponent)({components:{MkTextarea:$.Z},props:{block:{type:Object,required:!0},hpml:{type:Object,required:!0}},setup:(e,t)=>({value:(0,o.computed)((()=>e.hpml.vars.value[e.block.name])),updateValue:function(t){e.hpml.updatePageVar(e.block.name,t),e.hpml.eval()}})});M.render=function(e,t,a,n,l,r){const i=(0,o.resolveComponent)("MkTextarea");return(0,o.openBlock)(),(0,o.createBlock)("div",null,[(0,o.createVNode)(i,{value:e.value,"onUpdate:value":t[1]||(t[1]=t=>e.updateValue(t))},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.hpml.interpolate(e.block.text)),1)])),_:1},8,["value"])])};const A=M,L=(0,o.withScopeId)("data-v-fd0480e8");(0,o.pushScopeId)("data-v-fd0480e8");const F={class:"hkcxmtwj"};(0,o.popScopeId)();const D=L(((e,t,a,n,l,r)=>{const i=(0,o.resolveComponent)("MkSwitch");return(0,o.openBlock)(),(0,o.createBlock)("div",F,[(0,o.createVNode)(i,{value:e.value,"onUpdate:value":t[1]||(t[1]=t=>e.updateValue(t))},{default:L((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.hpml.interpolate(e.block.text)),1)])),_:1},8,["value"])])}));var P=a(83359);const U=(0,o.defineComponent)({components:{MkSwitch:P.Z},props:{block:{type:Object,required:!0},hpml:{type:Object,required:!0}},setup:(e,t)=>({value:(0,o.computed)((()=>e.hpml.vars.value[e.block.name])),updateValue:function(t){e.hpml.updatePageVar(e.block.name,t),e.hpml.eval()}})});a(938);U.render=D,U.__scopeId="data-v-fd0480e8";const Z=U;const X=(0,o.defineComponent)({components:{XBlock:(0,o.defineAsyncComponent)((()=>Promise.resolve().then(a.bind(a,24659))))},props:{block:{type:Object,required:!0},hpml:{type:Object,required:!0},h:{type:Number,required:!0}}});X.render=function(e,t,a,n,l,r){const i=(0,o.resolveComponent)("XBlock");return(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)("div",null,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.block.children,(t=>((0,o.openBlock)(),(0,o.createBlock)(i,{block:t,hpml:e.hpml,key:t.id,h:e.h},null,8,["block","hpml","h"])))),128))],512)),[[o.vShow,e.hpml.vars.value[e.block.var]]])};const W=X;const J=(0,o.defineComponent)({components:{MkTextarea:$.Z},props:{block:{type:Object,required:!0},hpml:{type:Object,required:!0}},data(){return{text:this.hpml.interpolate(this.block.text)}},watch:{"hpml.vars":{handler(){this.text=this.hpml.interpolate(this.block.text)},deep:!0}}});J.render=function(e,t,a,n,l,r){const i=(0,o.resolveComponent)("MkTextarea");return(0,o.openBlock)(),(0,o.createBlock)(i,{value:e.text,readonly:""},null,8,["value"])};const G=J,K=(0,o.withScopeId)("data-v-3ab3ce28");(0,o.pushScopeId)("data-v-3ab3ce28");const Y={class:"ngbfujlo"};(0,o.popScopeId)();const H=K(((e,t,a,n,l,r)=>{const i=(0,o.resolveComponent)("MkTextarea"),s=(0,o.resolveComponent)("Fa"),c=(0,o.resolveComponent)("MkButton");return(0,o.openBlock)(),(0,o.createBlock)("div",Y,[(0,o.createVNode)(i,{value:e.text,readonly:"",style:{margin:"0"}},null,8,["value"]),(0,o.createVNode)(c,{class:"button",primary:"",onClick:t[1]||(t[1]=t=>e.post()),disabled:e.posting||e.posted},{default:K((()=>[e.posted?((0,o.openBlock)(),(0,o.createBlock)(s,{key:0,icon:e.faCheck},null,8,["icon"])):((0,o.openBlock)(),(0,o.createBlock)(s,{key:1,icon:e.faPaperPlane},null,8,["icon"]))])),_:1},8,["disabled"])])}));var Q=a(51436),ee=a(34862);const te=(0,o.defineComponent)({components:{MkTextarea:$.Z,MkButton:S.Z},props:{block:{type:Object,required:!0},hpml:{type:Object,required:!0}},data(){return{text:this.hpml.interpolate(this.block.text),posted:!1,posting:!1,faCheck:Q.LEp,faPaperPlane:Q.XCy}},watch:{"hpml.vars":{handler(){this.text=this.hpml.interpolate(this.block.text)},deep:!0}},methods:{upload(){const e=new Promise((e=>{this.hpml.canvases[this.block.canvasId].toBlob((t=>{const a=new FormData;a.append("file",t),a.append("i",this.$i.token),this.$store.state.uploadFolder&&a.append("folderId",this.$store.state.uploadFolder),fetch(ee.JW+"/drive/files/create",{method:"POST",body:a}).then((e=>e.json())).then((t=>{e(t)}))}))}));return N.Xp(e),e},async post(){this.posting=!0;const e=this.block.attachCanvasImage?await this.upload():null;N.Zv("notes/create",{text:""===this.text?null:this.text,fileIds:e?[e.id]:void 0}).then((()=>{this.posted=!0}))}}});a(89814);te.render=H,te.__scopeId="data-v-3ab3ce28";const ae=te,oe=(0,o.withScopeId)("data-v-04a64018"),ne=oe(((e,t,a,n,l,r)=>{const i=(0,o.resolveComponent)("MkButton");return(0,o.openBlock)(),(0,o.createBlock)("div",null,[(0,o.createVNode)(i,{class:"llumlmnx",onClick:t[1]||(t[1]=t=>e.click())},{default:oe((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.hpml.interpolate(e.block.text)),1)])),_:1})])})),le=(0,o.defineComponent)({components:{MkButton:S.Z},props:{block:{type:Object,required:!0},hpml:{type:Object,required:!0}},setup(e,t){const a=(0,o.computed)((()=>e.hpml.vars.value[e.block.name]));return{click:function(){e.hpml.updatePageVar(e.block.name,a.value+(e.block.inc||1)),e.hpml.eval()}}}});a(87887);le.render=ne,le.__scopeId="data-v-04a64018";const re=le;var ie=a(76187);const se=(0,o.defineComponent)({components:{MkRadio:ie.Z},props:{block:{type:Object,required:!0},hpml:{type:Object,required:!0}},setup:(e,t)=>({value:(0,o.computed)((()=>e.hpml.vars.value[e.block.name])),updateValue:function(t){e.hpml.updatePageVar(e.block.name,t),e.hpml.eval()}})});se.render=function(e,t,a,n,l,r){const i=(0,o.resolveComponent)("MkRadio");return(0,o.openBlock)(),(0,o.createBlock)("div",null,[(0,o.createVNode)("div",null,(0,o.toDisplayString)(e.hpml.interpolate(e.block.title)),1),((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.block.values,(a=>((0,o.openBlock)(),(0,o.createBlock)(i,{modelValue:e.value,"onUpdate:modelValue":t[1]||(t[1]=t=>e.updateValue(t)),value:a,key:a},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(a),1)])),_:2},1032,["modelValue","value"])))),128))])};const ce=se,de=(0,o.withScopeId)("data-v-114464ee");(0,o.pushScopeId)("data-v-114464ee");const pe={class:"ysrxegms"};(0,o.popScopeId)();const ue=de(((e,t,a,n,l,r)=>((0,o.openBlock)(),(0,o.createBlock)("div",pe,[(0,o.createVNode)("canvas",{ref:"canvas",width:e.block.width,height:e.block.height},null,8,["width","height"])])))),ve=(0,o.defineComponent)({props:{block:{type:Object,required:!0},hpml:{type:Object,required:!0}},setup(e,t){const a=(0,o.ref)(null);return(0,o.onMounted)((()=>{e.hpml.registerCanvas(e.block.name,a.value)})),{canvas:a}}});a(25009);ve.render=ue,ve.__scopeId="data-v-114464ee";const me=ve,he=(0,o.withScopeId)("data-v-359ddfc2");(0,o.pushScopeId)("data-v-359ddfc2");const be={class:"voxdxuby"};(0,o.popScopeId)();const fe=he(((e,t,a,n,l,r)=>{const i=(0,o.resolveComponent)("XNote"),s=(0,o.resolveComponent)("XNoteDetailed");return(0,o.openBlock)(),(0,o.createBlock)("div",be,[e.note&&!e.block.detailed?((0,o.openBlock)(),(0,o.createBlock)(i,{note:e.note,"onUpdate:note":t[1]||(t[1]=t=>e.note=t),key:e.note.id+":normal"},null,8,["note"])):(0,o.createCommentVNode)("",!0),e.note&&e.block.detailed?((0,o.openBlock)(),(0,o.createBlock)(s,{note:e.note,"onUpdate:note":t[2]||(t[2]=t=>e.note=t),key:e.note.id+":detail"},null,8,["note"])):(0,o.createCommentVNode)("",!0)])}));var ge=a(64099),ke=a(25567);const ye=(0,o.defineComponent)({components:{XNote:ge.Z,XNoteDetailed:ke.Z},props:{block:{type:Object,required:!0}},setup(e,t){const a=(0,o.ref)(null);return(0,o.onMounted)((()=>{N.hi("notes/show",{noteId:e.block.note}).then((e=>{a.value=e}))})),{note:a}}});a(53988);ye.render=fe,ye.__scopeId="data-v-359ddfc2";const je=ye,xe=(0,o.defineComponent)({components:{XText:d,XSection:b,XImage:j,XButton:B,XNumberInput:T,XTextInput:O,XTextareaInput:A,XTextarea:G,XPost:ae,XSwitch:Z,XIf:W,XCounter:re,XRadioButton:ce,XCanvas:me,XNote:je},props:{block:{type:Object,required:!0},hpml:{type:Object,required:!0},h:{type:Number,required:!0}}});xe.render=function(e,t,a,n,l,r){return(0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)("x-"+e.block.type),{block:e.block,hpml:e.hpml,key:e.block.id,h:e.h},null,8,["block","hpml","h"])};const we=xe},77121:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var o=a(55393);const n=(0,o.withScopeId)("data-v-32b1e952");(0,o.pushScopeId)("data-v-32b1e952");const l={class:"icon",ref:"icon"},r={class:"input"},i={class:"label",ref:"labelEl"},s={class:"title",ref:"title"},c={key:0,class:"warning"},d={class:"prefix",ref:"prefixEl"},p={class:"suffix",ref:"suffixEl"},u={class:"desc _caption"};(0,o.popScopeId)();const v=n(((e,t,a,n,v,m)=>{const h=(0,o.resolveComponent)("Fa"),b=(0,o.resolveDirective)("debounce");return(0,o.openBlock)(),(0,o.createBlock)("div",{class:["juejbjww",{focused:e.focused,filled:e.filled,inline:e.inline,disabled:e.disabled}]},[(0,o.createVNode)("div",l,[(0,o.renderSlot)(e.$slots,"icon")],512),(0,o.createVNode)("div",r,[(0,o.createVNode)("span",i,[(0,o.renderSlot)(e.$slots,"default")],512),(0,o.createVNode)("span",s,[(0,o.renderSlot)(e.$slots,"title"),e.invalid?((0,o.openBlock)(),(0,o.createBlock)("span",c,[(0,o.createVNode)(h,{icon:e.faExclamationCircle},null,8,["icon"]),(0,o.createTextVNode)((0,o.toDisplayString)(e.$refs.input.validationMessage),1)])):(0,o.createCommentVNode)("",!0)],512),(0,o.createVNode)("div",d,[(0,o.renderSlot)(e.$slots,"prefix")],512),e.debounce?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)("input",{key:0,ref:"inputEl",type:e.type,"onUpdate:modelValue":t[1]||(t[1]=t=>e.v=t),disabled:e.disabled,required:e.required,readonly:e.readonly,placeholder:e.placeholder,pattern:e.pattern,autocomplete:e.autocomplete,spellcheck:e.spellcheck,step:e.step,onFocus:t[2]||(t[2]=t=>e.focused=!0),onBlur:t[3]||(t[3]=t=>e.focused=!1),onKeydown:t[4]||(t[4]=t=>e.onKeydown(t)),onInput:t[5]||(t[5]=(...t)=>e.onInput&&e.onInput(...t)),list:e.id},null,40,["type","disabled","required","readonly","placeholder","pattern","autocomplete","spellcheck","step","list"])),[[b,500],[o.vModelDynamic,e.v,void 0,{lazy:!0}]]):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)("input",{key:1,ref:"inputEl",type:e.type,"onUpdate:modelValue":t[6]||(t[6]=t=>e.v=t),disabled:e.disabled,required:e.required,readonly:e.readonly,placeholder:e.placeholder,pattern:e.pattern,autocomplete:e.autocomplete,spellcheck:e.spellcheck,step:e.step,onFocus:t[7]||(t[7]=t=>e.focused=!0),onBlur:t[8]||(t[8]=t=>e.focused=!1),onKeydown:t[9]||(t[9]=t=>e.onKeydown(t)),onInput:t[10]||(t[10]=(...t)=>e.onInput&&e.onInput(...t)),list:e.id},null,40,["type","disabled","required","readonly","placeholder","pattern","autocomplete","spellcheck","step","list"])),[[o.vModelDynamic,e.v]]),e.datalist?((0,o.openBlock)(),(0,o.createBlock)("datalist",{key:2,id:e.id},[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.datalist,(e=>((0,o.openBlock)(),(0,o.createBlock)("option",{value:e},null,8,["value"])))),256))],8,["id"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)("div",p,[(0,o.renderSlot)(e.$slots,"suffix")],512)]),e.save&&e.changed?((0,o.openBlock)(),(0,o.createBlock)("button",{key:0,class:"save _textButton",onClick:t[11]||(t[11]=()=>{e.changed=!1,e.save()})},(0,o.toDisplayString)(e.$ts.save),1)):(0,o.createCommentVNode)("",!0),(0,o.createVNode)("div",u,[(0,o.renderSlot)(e.$slots,"desc")])],2)}));var m=a(45030),h=a.n(m),b=a(51436);const f=(0,o.defineComponent)({directives:{debounce:h()},props:{value:{required:!1},type:{type:String,required:!1},required:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},pattern:{type:String,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1,default:!1},autocomplete:{required:!1},spellcheck:{required:!1},step:{required:!1},debounce:{required:!1},datalist:{type:Array,required:!1},inline:{type:Boolean,required:!1,default:!1},save:{type:Function,required:!1}},emits:["change","keydown","enter"],setup(e,t){const{value:a,type:n,autofocus:l}=(0,o.toRefs)(e),r=(0,o.ref)(a.value),i=Math.random().toString(),s=(0,o.ref)(!1),c=(0,o.ref)(!1),d=(0,o.ref)(!1),p=(0,o.computed)((()=>""!==r.value&&null!=r.value)),u=(0,o.ref)(null),v=(0,o.ref)(null),m=(0,o.ref)(null),h=(0,o.ref)(null),f=()=>u.value.focus();return(0,o.watch)(a,(e=>{r.value=e})),(0,o.watch)(r,(e=>{"number"===(null==n?void 0:n.value)?t.emit("update:value",parseFloat(e)):t.emit("update:value",e),d.value=u.value.validity.badInput})),(0,o.onMounted)((()=>{(0,o.nextTick)((()=>{l.value&&f();const e=setInterval((()=>{v.value&&(h.value.style.left=v.value.offsetLeft+v.value.offsetWidth+"px",v.value.offsetWidth&&(u.value.style.paddingLeft=v.value.offsetWidth+"px")),m.value&&m.value.offsetWidth&&(u.value.style.paddingRight=m.value.offsetWidth+"px")}),100);(0,o.onUnmounted)((()=>{clearInterval(e)}))}))})),{id:i,v:r,focused:s,invalid:d,changed:c,filled:p,inputEl:u,prefixEl:v,suffixEl:m,labelEl:h,focus:f,onInput:e=>{c.value=!0,t.emit("change",e)},onKeydown:e=>{t.emit("keydown",e),"Enter"===e.code&&t.emit("enter")},faExclamationCircle:b.RLE}}});a(7803);f.render=v,f.__scopeId="data-v-32b1e952";const g=f},76187:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var o=a(55393);const n=(0,o.withScopeId)("data-v-5faafda1");(0,o.pushScopeId)("data-v-5faafda1");const l=(0,o.createVNode)("span",{class:"button"},[(0,o.createVNode)("span")],-1),r={class:"label"};(0,o.popScopeId)();const i=n(((e,t,a,n,i,s)=>((0,o.openBlock)(),(0,o.createBlock)("div",{class:["novjtctn",{disabled:e.disabled,checked:e.checked}],"aria-checked":e.checked,"aria-disabled":e.disabled,onClick:t[1]||(t[1]=(...t)=>e.toggle&&e.toggle(...t))},[(0,o.createVNode)("input",{type:"radio",disabled:e.disabled},null,8,["disabled"]),l,(0,o.createVNode)("span",r,[(0,o.renderSlot)(e.$slots,"default")])],10,["aria-checked","aria-disabled"])))),s=(0,o.defineComponent)({props:{modelValue:{required:!1},value:{required:!1},disabled:{type:Boolean,default:!1}},computed:{checked(){return this.modelValue===this.value}},methods:{toggle(){this.disabled||this.$emit("update:modelValue",this.value)}}});a(96963);s.render=i,s.__scopeId="data-v-5faafda1";const c=s},83359:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var o=a(55393);const n=(0,o.withScopeId)("data-v-07df8238");(0,o.pushScopeId)("data-v-07df8238");const l=(0,o.createVNode)("span",{class:"button"},[(0,o.createVNode)("span")],-1),r={class:"label"};(0,o.popScopeId)();const i=n(((e,t,a,n,i,s)=>((0,o.openBlock)(),(0,o.createBlock)("div",{class:["ziffeoms",{disabled:e.disabled,checked:e.checked}],role:"switch","aria-checked":e.checked,"aria-disabled":e.disabled,onClick:t[2]||(t[2]=(0,o.withModifiers)(((...t)=>e.toggle&&e.toggle(...t)),["prevent"]))},[(0,o.createVNode)("input",{type:"checkbox",ref:"input",disabled:e.disabled,onKeydown:t[1]||(t[1]=(0,o.withKeys)(((...t)=>e.toggle&&e.toggle(...t)),["enter"]))},null,40,["disabled"]),l,(0,o.createVNode)("span",r,[(0,o.createVNode)("span",null,[(0,o.renderSlot)(e.$slots,"default")]),(0,o.createVNode)("p",null,[(0,o.renderSlot)(e.$slots,"desc")])])],10,["aria-checked","aria-disabled"])))),s=(0,o.defineComponent)({props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{checked(){return this.value}},methods:{toggle(){this.disabled||this.$emit("update:value",!this.checked)}}});a(57483);s.render=i,s.__scopeId="data-v-07df8238";const c=s},19055:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var o=a(55393);const n=(0,o.withScopeId)("data-v-e827983a");(0,o.pushScopeId)("data-v-e827983a");const l={class:"input"},r={class:"label",ref:"label"},i={class:"desc _caption"};(0,o.popScopeId)();const s=n(((e,t,a,n,s,c)=>((0,o.openBlock)(),(0,o.createBlock)("div",{class:["adhpbeos",{focused:e.focused,filled:e.filled,tall:e.tall,pre:e.pre}]},[(0,o.createVNode)("div",l,[(0,o.createVNode)("span",r,[(0,o.renderSlot)(e.$slots,"default")],512),(0,o.createVNode)("textarea",{ref:"input",class:{code:e.code,_monospace:e.code},value:e.value,required:e.required,readonly:e.readonly,pattern:e.pattern,autocomplete:e.autocomplete,spellcheck:!e.code,onInput:t[1]||(t[1]=(...t)=>e.onInput&&e.onInput(...t)),onFocus:t[2]||(t[2]=t=>e.focused=!0),onBlur:t[3]||(t[3]=t=>e.focused=!1)},null,42,["value","required","readonly","pattern","autocomplete","spellcheck"])]),e.save&&e.changed?((0,o.openBlock)(),(0,o.createBlock)("button",{key:0,class:"save _textButton",onClick:t[4]||(t[4]=()=>{e.changed=!1,e.save()})},(0,o.toDisplayString)(e.$ts.save),1)):(0,o.createCommentVNode)("",!0),(0,o.createVNode)("div",i,[(0,o.renderSlot)(e.$slots,"desc")])],2)))),c=(0,o.defineComponent)({props:{value:{required:!1},required:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1},pattern:{type:String,required:!1},autocomplete:{type:String,required:!1},code:{type:Boolean,required:!1},tall:{type:Boolean,required:!1,default:!1},pre:{type:Boolean,required:!1,default:!1},save:{type:Function,required:!1}},data:()=>({focused:!1,changed:!1}),computed:{filled(){return""!=this.value&&null!=this.value}},methods:{focus(){this.$refs.input.focus()},onInput(e){this.changed=!0,this.$emit("update:value",e.target.value)}}});a(33391);c.render=s,c.__scopeId="data-v-e827983a";const d=c},36019:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>z});var o=a(55393);const n=(0,o.withScopeId)("data-v-a89b123c");(0,o.pushScopeId)("data-v-a89b123c");const l={class:"_section main"},r={class:"_content"},i={class:"banner"},s={style:{display:"block",opacity:"0.7","margin-top":"1em"}},c={class:"_section like"},d={class:"_content"},p={key:2,class:"count"},u={class:"_section links"},v={class:"_content"};(0,o.popScopeId)();const m=n(((e,t,a,m,h,b)=>{const f=(0,o.resolveComponent)("XPage"),g=(0,o.resolveComponent)("Fa"),k=(0,o.resolveComponent)("MkA");return e.page?((0,o.openBlock)(),(0,o.createBlock)("div",{class:"xcukqgmh",key:e.page.id},[(0,o.createVNode)("div",l,[(0,o.createVNode)("div",r,[(0,o.createVNode)("div",i,[e.page.eyeCatchingImageId?((0,o.openBlock)(),(0,o.createBlock)("img",{key:0,src:e.page.eyeCatchingImage.url},null,8,["src"])):(0,o.createCommentVNode)("",!0)]),(0,o.createVNode)("div",null,[(0,o.createVNode)(f,{page:e.page},null,8,["page"]),(0,o.createVNode)("small",s,"@"+(0,o.toDisplayString)(e.page.user.username),1)])])]),(0,o.createVNode)("div",c,[(0,o.createVNode)("div",d,[e.page.isLiked?((0,o.openBlock)(),(0,o.createBlock)("button",{key:0,class:"_button",onClick:t[1]||(t[1]=t=>e.unlike()),title:e.$ts._pages.unlike},[(0,o.createVNode)(g,{icon:e.faHeartS},null,8,["icon"])],8,["title"])):((0,o.openBlock)(),(0,o.createBlock)("button",{key:1,class:"_button",onClick:t[2]||(t[2]=t=>e.like()),title:e.$ts._pages.like},[(0,o.createVNode)(g,{icon:e.faHeartR},null,8,["icon"])],8,["title"])),e.page.likedCount>0?((0,o.openBlock)(),(0,o.createBlock)("span",p,(0,o.toDisplayString)(e.page.likedCount),1)):(0,o.createCommentVNode)("",!0)])]),(0,o.createVNode)("div",u,[(0,o.createVNode)("div",v,[(0,o.createVNode)(k,{to:`/@${e.username}/pages/${e.pageName}/view-source`,class:"link"},{default:n((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$ts._pages.viewSource),1)])),_:1},8,["to"]),e.$i&&e.$i.id===e.page.userId?((0,o.openBlock)(),(0,o.createBlock)(o.Fragment,{key:0},[(0,o.createVNode)(k,{to:"/pages/edit/"+e.page.id,class:"link"},{default:n((()=>[(0,o.createTextVNode)((0,o.toDisplayString)(e.$ts._pages.editThisPage),1)])),_:1},8,["to"]),e.$i.pinnedPageId===e.page.id?((0,o.openBlock)(),(0,o.createBlock)("button",{key:0,onClick:t[3]||(t[3]=t=>e.pin(!1)),class:"link _textButton"},(0,o.toDisplayString)(e.$ts.unpin),1)):((0,o.openBlock)(),(0,o.createBlock)("button",{key:1,onClick:t[4]||(t[4]=t=>e.pin(!0)),class:"link _textButton"},(0,o.toDisplayString)(e.$ts.pin),1))],64)):(0,o.createCommentVNode)("",!0)])])])):(0,o.createCommentVNode)("",!0)}));var h=a(51436),b=a(56024);const f=(0,o.withScopeId)("data-v-0c3c6624")(((e,t,a,n,l,r)=>{const i=(0,o.resolveComponent)("XBlock");return e.hpml?((0,o.openBlock)(),(0,o.createBlock)("div",{key:0,class:["iroscrza",{center:e.page.alignCenter,serif:"serif"===e.page.font}]},[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.page.content,(t=>((0,o.openBlock)(),(0,o.createBlock)(i,{block:t,hpml:e.hpml,key:t.id,h:2},null,8,["block","hpml"])))),128))],2)):(0,o.createCommentVNode)("",!0)}));var g=a(27328),k=a(24659),y=a(88572),j=a(32443),x=a(34862),w=a(31064),S=a(34581),N=a(60662),I=a(10192),B=a(36633),V=function(e,t,a,o){var n,l=arguments.length,r=l<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,a):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,a,o);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(r=(l<3?n(r):l>3?n(t,a,r):n(t,a))||r);return l>3&&r&&Object.defineProperty(t,a,r),r};class _{constructor(e,t){this.canvases={},this.vars=(0,o.ref)({}),this.page=e,this.variables=this.page.variables,this.pageVars=(0,S.k)(this.page.content),this.opts=t,this.opts.enableAiScript&&(this.aiscript=(0,o.markRaw)(new g.AiScript(Object.assign(Object.assign({},(0,w.a)({storageKey:"pages:"+this.page.id})),(0,N.FG)(this)),{in:e=>new Promise((t=>{I.WZ({title:e,input:{}}).then((({canceled:e,result:a})=>{t(a)}))})),out:e=>{console.log(e)},log:(e,t)=>{}})),this.aiscript.scope.opts.onUpdated=(e,t)=>{this.eval()});const a=new Date;this.envVars={AI:"kawaii",VERSION:x.i8,URL:this.page?`${t.url}/@${this.page.user.username}/pages/${this.page.name}`:"",LOGIN:null!=t.visitor,NAME:t.visitor?t.visitor.name||t.visitor.username:"",USERNAME:t.visitor?t.visitor.username:"",USERID:t.visitor?t.visitor.id:"",NOTES_COUNT:t.visitor?t.visitor.notesCount:0,FOLLOWERS_COUNT:t.visitor?t.visitor.followersCount:0,FOLLOWING_COUNT:t.visitor?t.visitor.followingCount:0,IS_CAT:!!t.visitor&&t.visitor.isCat,IS_LADY:!!t.visitor&&t.visitor.isLady,SEED:t.randomSeed?t.randomSeed:"",YMD:`${a.getFullYear()}/${a.getMonth()+1}/${a.getDate()}`,AISCRIPT_DISABLED:!this.opts.enableAiScript,NULL:null},this.eval()}eval(){try{this.vars.value=this.evaluateVars()}catch(e){}}interpolate(e){return null==e?null:e.replace(/{(.+?)}/g,(e=>{const t=(0,o.unref)(this.vars)[e.slice(1,-1).trim()];return null==t?"NULL":t.toString()}))}callAiScript(e){try{this.aiscript&&this.aiscript.execFn(this.aiscript.scope.get(e),[])}catch(e){}}registerCanvas(e,t){this.canvases[e]=t}updatePageVar(e,t){const a=this.pageVars.find((t=>t.name===e));if(void 0===a)throw new j.wM(`No such page var '${e}'`);a.value=t,this.pageVarUpdatedCallback&&this.aiscript&&this.aiscript.execFn(this.pageVarUpdatedCallback,[g.values.STR(e),g.utils.jsToVal(t)])}updateRandomSeed(e){this.opts.randomSeed=e,this.envVars.SEED=e}_interpolateScope(e,t){return e.replace(/{(.+?)}/g,(e=>{const a=t.getState(e.slice(1,-1).trim());return null==a?"NULL":a.toString()}))}evaluateVars(){const e={};for(const[t,a]of Object.entries(this.envVars))e[t]=a;for(const t of this.pageVars)e[t.name]=t.value;for(const t of this.variables)e[t.name]=this.evaluate(t,new j.qG([e]));return e}evaluate(e,t){if((0,B.$)(e)){if(null===e.type)return null;if("number"===e.type)return parseInt(e.value,10);if("text"===e.type||"multiLineText"===e.type)return this._interpolateScope(e.value||"",t);if("textList"===e.type)return this._interpolateScope(e.value||"",t).trim().split("\n");if("ref"===e.type)return t.getState(e.value);if("aiScriptVar"===e.type){if(!this.aiscript)return null;try{return g.utils.valToJs(this.aiscript.scope.get(e.value))}catch(e){return null}}return"fn"==e.type?{slots:e.value.slots.map((e=>e.name)),exec:a=>this.evaluate(e.value.expression,t.createChildScope(a,e.id))}:void 0}if(e.type.startsWith("fn:")){const a=e.type.split(":")[1],o=t.getState(a),n={};for(let a=0;a<o.slots.length;a++){n[o.slots[a]]=this.evaluate(e.args[a],t)}return o.exec(n)}if(void 0===e.args)return null;const a=(0,N.kI)(e,t,this.opts.randomSeed,this.opts.visitor),o=e.type,n=a[o];if(null==n)throw new j.wM(`No such function '${o}'`);return n(...e.args.map((e=>this.evaluate(e,t))))}}V([y.default],_.prototype,"eval",null),V([y.default],_.prototype,"interpolate",null),V([y.default],_.prototype,"callAiScript",null),V([y.default],_.prototype,"registerCanvas",null),V([y.default],_.prototype,"updatePageVar",null),V([y.default],_.prototype,"updateRandomSeed",null),V([y.default],_.prototype,"_interpolateScope",null),V([y.default],_.prototype,"evaluateVars",null),V([y.default],_.prototype,"evaluate",null);var C=a(37200),E=a(73120);const T=(0,o.defineComponent)({components:{XBlock:k.default},props:{page:{type:Object,required:!0}},setup(e,t){const a=new _(e.page,{randomSeed:Math.random(),visitor:C.$i,url:x.HQ,enableAiScript:!E.Z3.state.disablePagesScript});return(0,o.onMounted)((()=>{(0,o.nextTick)((()=>{if(e.page.script&&a.aiscript){let t;try{t=(0,g.parse)(e.page.script)}catch(e){return void console.error(e)}a.aiscript.exec(t).then((()=>{a.eval()})).catch((e=>{console.error(e)}))}else a.eval()})),(0,o.onUnmounted)((()=>{a.aiscript&&a.aiscript.abort()}))})),{hpml:a}}});a(11490);T.render=f,T.__scopeId="data-v-0c3c6624";const q=T,R=(0,o.defineComponent)({components:{XPage:q},props:{pageName:{type:String,required:!0},username:{type:String,required:!0}},data(){return{INFO:(0,o.computed)((()=>this.page?{title:(0,o.computed)((()=>this.page.title||this.page.name)),avatar:this.page.user}:null)),page:null,faHeartS:h.m6i,faHeartR:b.m6}},computed:{path(){return this.username+"/"+this.pageName}},watch:{path(){this.fetch()}},created(){this.fetch()},methods:{fetch(){I.hi("pages/show",{name:this.pageName,username:this.username}).then((e=>{this.page=e}))},like(){I.hi("pages/like",{pageId:this.page.id}).then((()=>{this.page.isLiked=!0,this.page.likedCount++}))},unlike(){I.hi("pages/unlike",{pageId:this.page.id}).then((()=>{this.page.isLiked=!1,this.page.likedCount--}))},pin(e){I.Zv("i/update",{pinnedPageId:e?this.page.id:null})}}});a(81108);R.render=m,R.__scopeId="data-v-a89b123c";const z=R},63411:(e,t,a)=>{var o=a(18786);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("61faf3a2",o,!0,{})},25009:(e,t,a)=>{var o=a(90785);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("833ed346",o,!0,{})},87887:(e,t,a)=>{var o=a(56904);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("6ee99c3e",o,!0,{})},56400:(e,t,a)=>{var o=a(1334);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("32a09d02",o,!0,{})},53988:(e,t,a)=>{var o=a(57327);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("32da8f1e",o,!0,{})},39747:(e,t,a)=>{var o=a(16984);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("e06b0bd4",o,!0,{})},89814:(e,t,a)=>{var o=a(58469);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("36d0d6f8",o,!0,{})},4027:(e,t,a)=>{var o=a(90401);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("1bf78a03",o,!0,{})},938:(e,t,a)=>{var o=a(71390);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("5567d106",o,!0,{})},56521:(e,t,a)=>{var o=a(92480);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("eb0d00f2",o,!0,{})},3009:(e,t,a)=>{var o=a(99943);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("12f17232",o,!0,{})},11490:(e,t,a)=>{var o=a(58753);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("5521f1ec",o,!0,{})},7803:(e,t,a)=>{var o=a(27582);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("1c67ebb2",o,!0,{})},96963:(e,t,a)=>{var o=a(1799);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("3f03e8ae",o,!0,{})},57483:(e,t,a)=>{var o=a(42842);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("01747328",o,!0,{})},33391:(e,t,a)=>{var o=a(92008);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("d5bc55b6",o,!0,{})},81108:(e,t,a)=>{var o=a(4990);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("44d8e08a",o,!0,{})},63906:()=>{}}]);