(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[3688],{58745:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".folder-toggle-enter-active[data-v-b1439222],.folder-toggle-leave-active[data-v-b1439222]{overflow-y:hidden;transition:opacity .5s,height .5s!important}.folder-toggle-enter-from[data-v-b1439222],.folder-toggle-leave-to[data-v-b1439222]{opacity:0}.ssazuxis[data-v-b1439222]{position:relative}.ssazuxis>header[data-v-b1439222]{display:flex;position:relative;z-index:2}.ssazuxis>header>.title[data-v-b1439222]{margin:0;padding:12px 16px 12px 0}.ssazuxis>header>.title>[data-icon][data-v-b1439222]{margin-right:6px}.ssazuxis>header>.title[data-v-b1439222]:empty{display:none}.ssazuxis>header>.divider[data-v-b1439222]{flex:1;margin:auto;height:1px;background:var(--divider)}.ssazuxis>header>button[data-v-b1439222]{padding:12px 0 12px 16px}.ssazuxis.max-width_500px>header>.title[data-v-b1439222]{padding:8px 10px 8px 0}",""]),e.exports=o},27582:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,'.juejbjww[data-v-32b1e952]{position:relative;margin:32px 0}.juejbjww[data-v-32b1e952]:not(.inline):first-child{margin-top:8px}.juejbjww[data-v-32b1e952]:not(.inline):last-child{margin-bottom:8px}.juejbjww>.icon[data-v-32b1e952]{position:absolute;top:0;left:0;width:24px;text-align:center;line-height:32px}.juejbjww>.icon:not(:empty)+.input[data-v-32b1e952]{margin-left:28px}.juejbjww>.input[data-v-32b1e952]{position:relative}.juejbjww>.input[data-v-32b1e952]:before{content:"";display:block;position:absolute;bottom:0;left:0;right:0;height:1px;background:var(--inputBorder)}.juejbjww>.input[data-v-32b1e952]:after{content:"";display:block;position:absolute;bottom:0;left:0;right:0;height:2px;background:var(--accent);opacity:0;transform:scaleX(.12);transition:border .3s cubic-bezier(.4,0,.2,1),opacity .3s cubic-bezier(.4,0,.2,1),transform .3s cubic-bezier(.4,0,.2,1);will-change:border opacity transform}.juejbjww>.input>.label[data-v-32b1e952]{position:absolute;z-index:1;top:0;left:0;transition:.4s cubic-bezier(.25,.8,.25,1);transition-duration:.3s;font-size:1em;line-height:32px;color:var(--inputLabel);pointer-events:none;transform-origin:top left;transform:scale(1)}.juejbjww>.input>.title[data-v-32b1e952]{position:absolute;z-index:1;top:-17px;left:0!important;font-size:1em;line-height:32px;color:var(--inputLabel);pointer-events:none;transform-origin:top left;transform:scale(.75);white-space:nowrap;width:133%;overflow:hidden;text-overflow:ellipsis}.juejbjww>.input>.title>.warning[data-v-32b1e952]{margin-left:.5em;color:var(--infoWarnFg)}.juejbjww>.input>.title>.warning>svg[data-v-32b1e952]{margin-right:.1em}.juejbjww>.input>input[data-v-32b1e952]{display:block;height:32px;width:100%;margin:0;padding:0;font:inherit;font-weight:400;font-size:1em;line-height:32px;color:var(--inputText);background:transparent;border:none;border-radius:0;outline:none;box-shadow:none;box-sizing:border-box}.juejbjww>.input>input[type=file][data-v-32b1e952]{display:none}.juejbjww>.input>.prefix[data-v-32b1e952],.juejbjww>.input>.suffix[data-v-32b1e952]{display:block;position:absolute;z-index:1;top:0;font-size:1em;line-height:32px;color:var(--inputLabel);pointer-events:none}.juejbjww>.input>.prefix[data-v-32b1e952]:empty,.juejbjww>.input>.suffix[data-v-32b1e952]:empty{display:none}.juejbjww>.input>.prefix>*[data-v-32b1e952],.juejbjww>.input>.suffix>*[data-v-32b1e952]{display:inline-block;min-width:16px;max-width:150px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.juejbjww>.input>.prefix[data-v-32b1e952]{left:0;padding-right:4px}.juejbjww>.input>.suffix[data-v-32b1e952]{right:0;padding-left:4px}.juejbjww>.save[data-v-32b1e952]{margin:6px 0 0;font-size:.8em}.juejbjww>.desc[data-v-32b1e952]{margin:6px 0 0}.juejbjww>.desc[data-v-32b1e952]:empty{display:none}.juejbjww>.desc *[data-v-32b1e952]{margin:0}.juejbjww.focused>.input[data-v-32b1e952]:after{opacity:1;transform:scaleX(1)}.juejbjww.focused>.input>.label[data-v-32b1e952]{color:var(--accent)}.juejbjww.filled>.input>.label[data-v-32b1e952],.juejbjww.focused>.input>.label[data-v-32b1e952]{top:-17px;left:0!important;transform:scale(.75)}.juejbjww.inline[data-v-32b1e952]{display:inline-block;margin:0}.juejbjww.disabled[data-v-32b1e952]{opacity:.7}.juejbjww.disabled[data-v-32b1e952],.juejbjww.disabled *[data-v-32b1e952]{cursor:not-allowed!important}',""]),e.exports=o},38506:(e,t,a)=>{var o=a(23645)((function(e){return e[1]}));o.push([e.id,".xhexznfu.min-width_1000px .sboqnrfi[data-v-62734c06]{display:grid;grid-template-columns:3.2fr 1fr;grid-template-rows:1fr;gap:16px 16px}.xhexznfu.min-width_1000px .sboqnrfi>.stats[data-v-62734c06]{height:min-content}.xhexznfu.min-width_1000px .sboqnrfi>.column[data-v-62734c06]{display:flex;flex-direction:column}.xhexznfu.min-width_1000px .sboqnrfi>.column>.info[data-v-62734c06]{flex-shrink:0;flex-grow:0}.xhexznfu.min-width_1000px .sboqnrfi>.column>.db[data-v-62734c06]{flex:1;flex-grow:0;height:100%}.xhexznfu.min-width_1000px .sboqnrfi>.column>.fed[data-v-62734c06]{flex:1;flex-grow:0;height:100%}.xhexznfu.min-width_1000px .sboqnrfi>.column[data-v-62734c06]>:not(:last-child){margin-bottom:var(--margin)}.xhexznfu.min-width_1000px .segusily[data-v-62734c06]{display:grid;grid-template-columns:1fr 1fr 1fr;grid-template-rows:1fr;gap:16px 16px;padding:0 16px}.xhexznfu.min-width_1000px .vkyrmkwb[data-v-62734c06]{display:grid;grid-template-columns:.5fr 1fr 1fr;grid-template-rows:1fr;gap:16px 16px;margin-bottom:var(--margin)}.xhexznfu.min-width_1000px .vkyrmkwb>.queue[data-v-62734c06]{height:min-content}.xhexznfu.min-width_1000px .vkyrmkwb>*[data-v-62734c06]{margin-bottom:0}.xhexznfu.min-width_1000px .uwuemslx[data-v-62734c06]{display:grid;grid-template-columns:2fr 3fr;grid-template-rows:1fr;gap:16px 16px;height:400px}.xhexznfu .vkyrmkwb>*[data-v-62734c06]{margin-bottom:var(--margin)}",""]),e.exports=o},44219:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var o=a(55393);const i=(0,o.withScopeId)("data-v-b1439222");(0,o.pushScopeId)("data-v-b1439222");const n={class:"ssazuxis"},s={class:"title"},r=(0,o.createVNode)("div",{class:"divider"},null,-1),l={class:"_button"};(0,o.popScopeId)();const d=i(((e,t,a,d,c,p)=>{const u=(0,o.resolveComponent)("Fa"),h=(0,o.resolveDirective)("size");return(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)("div",n,[(0,o.createVNode)("header",{onClick:t[1]||(t[1]=t=>e.showBody=!e.showBody),class:"_button"},[(0,o.createVNode)("div",s,[(0,o.renderSlot)(e.$slots,"header")]),r,(0,o.createVNode)("button",l,[e.showBody?((0,o.openBlock)(),(0,o.createBlock)(u,{key:0,icon:e.faAngleUp},null,8,["icon"])):((0,o.openBlock)(),(0,o.createBlock)(u,{key:1,icon:e.faAngleDown},null,8,["icon"]))])]),(0,o.createVNode)(o.Transition,{name:"folder-toggle",onEnter:e.enter,onAfterEnter:e.afterEnter,onLeave:e.leave,onAfterLeave:e.afterLeave},{default:i((()=>[(0,o.withDirectives)((0,o.createVNode)("div",null,[(0,o.renderSlot)(e.$slots,"default")],512),[[o.vShow,e.showBody]])])),_:3},8,["onEnter","onAfterEnter","onLeave","onAfterLeave"])],512)),[[h,{max:[500]}]])}));var c=a(51436);const p="ui:folder:",u=(0,o.defineComponent)({props:{expanded:{type:Boolean,required:!1,default:!0},persistKey:{type:String,required:!1,default:null}},data(){return{showBody:this.persistKey&&localStorage.getItem(p+this.persistKey)?"t"===localStorage.getItem(p+this.persistKey):this.expanded,faAngleUp:c.onQ,faAngleDown:c.gc2}},watch:{showBody(){this.persistKey&&localStorage.setItem(p+this.persistKey,this.showBody?"t":"f")}},methods:{toggleContent(e){this.showBody=e},enter(e){const t=e.getBoundingClientRect().height;e.style.height=0,e.offsetHeight,e.style.height=t+"px"},afterEnter(e){e.style.height=null},leave(e){const t=e.getBoundingClientRect().height;e.style.height=t+"px",e.offsetHeight,e.style.height=0},afterLeave(e){e.style.height=null}}});a(26802);u.render=d,u.__scopeId="data-v-b1439222";const h=u},77121:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var o=a(55393);const i=(0,o.withScopeId)("data-v-32b1e952");(0,o.pushScopeId)("data-v-32b1e952");const n={class:"icon",ref:"icon"},s={class:"input"},r={class:"label",ref:"labelEl"},l={class:"title",ref:"title"},d={key:0,class:"warning"},c={class:"prefix",ref:"prefixEl"},p={class:"suffix",ref:"suffixEl"},u={class:"desc _caption"};(0,o.popScopeId)();const h=i(((e,t,a,i,h,f)=>{const b=(0,o.resolveComponent)("Fa"),v=(0,o.resolveDirective)("debounce");return(0,o.openBlock)(),(0,o.createBlock)("div",{class:["juejbjww",{focused:e.focused,filled:e.filled,inline:e.inline,disabled:e.disabled}]},[(0,o.createVNode)("div",n,[(0,o.renderSlot)(e.$slots,"icon")],512),(0,o.createVNode)("div",s,[(0,o.createVNode)("span",r,[(0,o.renderSlot)(e.$slots,"default")],512),(0,o.createVNode)("span",l,[(0,o.renderSlot)(e.$slots,"title"),e.invalid?((0,o.openBlock)(),(0,o.createBlock)("span",d,[(0,o.createVNode)(b,{icon:e.faExclamationCircle},null,8,["icon"]),(0,o.createTextVNode)((0,o.toDisplayString)(e.$refs.input.validationMessage),1)])):(0,o.createCommentVNode)("",!0)],512),(0,o.createVNode)("div",c,[(0,o.renderSlot)(e.$slots,"prefix")],512),e.debounce?(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)("input",{key:0,ref:"inputEl",type:e.type,"onUpdate:modelValue":t[1]||(t[1]=t=>e.v=t),disabled:e.disabled,required:e.required,readonly:e.readonly,placeholder:e.placeholder,pattern:e.pattern,autocomplete:e.autocomplete,spellcheck:e.spellcheck,step:e.step,onFocus:t[2]||(t[2]=t=>e.focused=!0),onBlur:t[3]||(t[3]=t=>e.focused=!1),onKeydown:t[4]||(t[4]=t=>e.onKeydown(t)),onInput:t[5]||(t[5]=(...t)=>e.onInput&&e.onInput(...t)),list:e.id},null,40,["type","disabled","required","readonly","placeholder","pattern","autocomplete","spellcheck","step","list"])),[[v,500],[o.vModelDynamic,e.v,void 0,{lazy:!0}]]):(0,o.withDirectives)(((0,o.openBlock)(),(0,o.createBlock)("input",{key:1,ref:"inputEl",type:e.type,"onUpdate:modelValue":t[6]||(t[6]=t=>e.v=t),disabled:e.disabled,required:e.required,readonly:e.readonly,placeholder:e.placeholder,pattern:e.pattern,autocomplete:e.autocomplete,spellcheck:e.spellcheck,step:e.step,onFocus:t[7]||(t[7]=t=>e.focused=!0),onBlur:t[8]||(t[8]=t=>e.focused=!1),onKeydown:t[9]||(t[9]=t=>e.onKeydown(t)),onInput:t[10]||(t[10]=(...t)=>e.onInput&&e.onInput(...t)),list:e.id},null,40,["type","disabled","required","readonly","placeholder","pattern","autocomplete","spellcheck","step","list"])),[[o.vModelDynamic,e.v]]),e.datalist?((0,o.openBlock)(),(0,o.createBlock)("datalist",{key:2,id:e.id},[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.datalist,(e=>((0,o.openBlock)(),(0,o.createBlock)("option",{value:e},null,8,["value"])))),256))],8,["id"])):(0,o.createCommentVNode)("",!0),(0,o.createVNode)("div",p,[(0,o.renderSlot)(e.$slots,"suffix")],512)]),e.save&&e.changed?((0,o.openBlock)(),(0,o.createBlock)("button",{key:0,class:"save _textButton",onClick:t[11]||(t[11]=()=>{e.changed=!1,e.save()})},(0,o.toDisplayString)(e.$ts.save),1)):(0,o.createCommentVNode)("",!0),(0,o.createVNode)("div",u,[(0,o.renderSlot)(e.$slots,"desc")])],2)}));var f=a(45030),b=a.n(f),v=a(51436);const g=(0,o.defineComponent)({directives:{debounce:b()},props:{value:{required:!1},type:{type:String,required:!1},required:{type:Boolean,required:!1},readonly:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},pattern:{type:String,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1,default:!1},autocomplete:{required:!1},spellcheck:{required:!1},step:{required:!1},debounce:{required:!1},datalist:{type:Array,required:!1},inline:{type:Boolean,required:!1,default:!1},save:{type:Function,required:!1}},emits:["change","keydown","enter"],setup(e,t){const{value:a,type:i,autofocus:n}=(0,o.toRefs)(e),s=(0,o.ref)(a.value),r=Math.random().toString(),l=(0,o.ref)(!1),d=(0,o.ref)(!1),c=(0,o.ref)(!1),p=(0,o.computed)((()=>""!==s.value&&null!=s.value)),u=(0,o.ref)(null),h=(0,o.ref)(null),f=(0,o.ref)(null),b=(0,o.ref)(null),g=()=>u.value.focus();return(0,o.watch)(a,(e=>{s.value=e})),(0,o.watch)(s,(e=>{"number"===(null==i?void 0:i.value)?t.emit("update:value",parseFloat(e)):t.emit("update:value",e),c.value=u.value.validity.badInput})),(0,o.onMounted)((()=>{(0,o.nextTick)((()=>{n.value&&g();const e=setInterval((()=>{h.value&&(b.value.style.left=h.value.offsetLeft+h.value.offsetWidth+"px",h.value.offsetWidth&&(u.value.style.paddingLeft=h.value.offsetWidth+"px")),f.value&&f.value.offsetWidth&&(u.value.style.paddingRight=f.value.offsetWidth+"px")}),100);(0,o.onUnmounted)((()=>{clearInterval(e)}))}))})),{id:r,v:s,focused:l,invalid:c,changed:d,filled:p,inputEl:u,prefixEl:h,suffixEl:f,labelEl:b,focus:g,onInput:e=>{d.value=!0,t.emit("change",e)},onKeydown:e=>{t.emit("keydown",e),"Enter"===e.code&&t.emit("enter")},faExclamationCircle:v.RLE}}});a(7803);g.render=h,g.__scopeId="data-v-32b1e952";const m=g},43688:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ee});var o=a(55393);const i=(0,o.withScopeId)("data-v-62734c06");(0,o.pushScopeId)("data-v-62734c06");const n={class:"_section",style:{padding:"0 var(--margin)"}},s={class:"_content"},r={class:"_content",style:{"margin-top":"-8px","margin-bottom":"-12px"}},l={key:0,class:"_content"},d={class:"_table"},c={class:"_row"},p={class:"_cell"},u=(0,o.createVNode)("div",{class:"_label"},"MEM total",-1),h={class:"_cell"},f=(0,o.createVNode)("div",{class:"_label"},"MEM used",-1),b={class:"_cell"},v=(0,o.createVNode)("div",{class:"_label"},"MEM free",-1),g={class:"_content",style:{"margin-top":"-8px","margin-bottom":"-12px"}},m={key:0,class:"_content"},x={class:"_table"},y={class:"_row"},w={class:"_cell"},k=(0,o.createVNode)("div",{class:"_label"},"Disk total",-1),j={class:"_cell"},N=(0,o.createVNode)("div",{class:"_label"},"Disk used",-1),V={class:"_cell"},C=(0,o.createVNode)("div",{class:"_label"},"Disk free",-1),_={class:"_content",style:{"margin-top":"-8px","margin-bottom":"-12px"}},S={key:0,class:"_content"},I={class:"_table"},B={class:"_row"},z={class:"_cell"},q=(0,o.createVNode)("div",{class:"_label"},"Interface",-1),D={class:"_content"},M={style:{"text-align":"right"}},L=(0,o.createTextVNode)(" In"),T=(0,o.createTextVNode)(" Out");(0,o.popScopeId)();const E=i(((e,t,a,E,$,A)=>{const F=(0,o.resolveComponent)("Fa"),R=(0,o.resolveComponent)("MkContainer"),W=(0,o.resolveComponent)("MkFolder"),U=(0,o.resolveComponent)("XQueue");return(0,o.openBlock)(),(0,o.createBlock)("div",null,[(0,o.createVNode)(W,null,{header:i((()=>[(0,o.createVNode)(F,{icon:e.faHeartbeat},null,8,["icon"]),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$ts.metrics),1)])),default:i((()=>[(0,o.createVNode)("div",n,[(0,o.createVNode)("div",s,[(0,o.createVNode)(R,{"body-togglable":!1,class:"_vMargin"},{header:i((()=>[(0,o.createVNode)(F,{icon:e.faMicrochip},null,8,["icon"]),(0,o.createTextVNode)((0,o.toDisplayString)(e.$ts.cpuAndMemory),1)])),default:i((()=>[(0,o.createVNode)("div",r,[(0,o.createVNode)("canvas",{ref:e.cpumem},null,512)]),e.serverInfo?((0,o.openBlock)(),(0,o.createBlock)("div",l,[(0,o.createVNode)("div",d,[(0,o.createVNode)("div",c,[(0,o.createVNode)("div",p,[u,(0,o.createTextVNode)((0,o.toDisplayString)(e.bytes(e.serverInfo.mem.total)),1)]),(0,o.createVNode)("div",h,[f,(0,o.createTextVNode)((0,o.toDisplayString)(e.bytes(e.memUsage))+" ("+(0,o.toDisplayString)((e.memUsage/e.serverInfo.mem.total*100).toFixed(0))+"%)",1)]),(0,o.createVNode)("div",b,[v,(0,o.createTextVNode)((0,o.toDisplayString)(e.bytes(e.serverInfo.mem.total-e.memUsage))+" ("+(0,o.toDisplayString)(((e.serverInfo.mem.total-e.memUsage)/e.serverInfo.mem.total*100).toFixed(0))+"%)",1)])])])])):(0,o.createCommentVNode)("",!0)])),_:1}),(0,o.createVNode)(R,{"body-togglable":!1,class:"_vMargin"},{header:i((()=>[(0,o.createVNode)(F,{icon:e.faHdd},null,8,["icon"]),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$ts.disk),1)])),default:i((()=>[(0,o.createVNode)("div",g,[(0,o.createVNode)("canvas",{ref:e.disk},null,512)]),e.serverInfo?((0,o.openBlock)(),(0,o.createBlock)("div",m,[(0,o.createVNode)("div",x,[(0,o.createVNode)("div",y,[(0,o.createVNode)("div",w,[k,(0,o.createTextVNode)((0,o.toDisplayString)(e.bytes(e.serverInfo.fs.total)),1)]),(0,o.createVNode)("div",j,[N,(0,o.createTextVNode)((0,o.toDisplayString)(e.bytes(e.serverInfo.fs.used))+" ("+(0,o.toDisplayString)((e.serverInfo.fs.used/e.serverInfo.fs.total*100).toFixed(0))+"%)",1)]),(0,o.createVNode)("div",V,[C,(0,o.createTextVNode)((0,o.toDisplayString)(e.bytes(e.serverInfo.fs.total-e.serverInfo.fs.used))+" ("+(0,o.toDisplayString)(((e.serverInfo.fs.total-e.serverInfo.fs.used)/e.serverInfo.fs.total*100).toFixed(0))+"%)",1)])])])])):(0,o.createCommentVNode)("",!0)])),_:1}),(0,o.createVNode)(R,{"body-togglable":!1,class:"_vMargin"},{header:i((()=>[(0,o.createVNode)(F,{icon:e.faExchangeAlt},null,8,["icon"]),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$ts.network),1)])),default:i((()=>[(0,o.createVNode)("div",_,[(0,o.createVNode)("canvas",{ref:e.net},null,512)]),e.serverInfo?((0,o.openBlock)(),(0,o.createBlock)("div",S,[(0,o.createVNode)("div",I,[(0,o.createVNode)("div",B,[(0,o.createVNode)("div",z,[q,(0,o.createTextVNode)((0,o.toDisplayString)(e.serverInfo.net.interface),1)])])])])):(0,o.createCommentVNode)("",!0)])),_:1})])])])),_:1}),(0,o.createVNode)(W,null,{header:i((()=>[(0,o.createVNode)(F,{icon:e.faClipboardList},null,8,["icon"]),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$ts.jobQueue),1)])),default:i((()=>[(0,o.createVNode)("div",{class:"vkyrmkwb",style:{gridTemplateRows:e.queueHeight}},[(0,o.createVNode)(R,{"body-togglable":!1,scrollable:!0,"resize-base-el":()=>e.$el},{header:i((()=>[(0,o.createVNode)(F,{icon:e.faExclamationTriangle},null,8,["icon"]),(0,o.createTextVNode)(" "+(0,o.toDisplayString)(e.$ts.delayed),1)])),default:i((()=>[(0,o.createVNode)("div",D,[((0,o.openBlock)(!0),(0,o.createBlock)(o.Fragment,null,(0,o.renderList)(e.jobs,(t=>((0,o.openBlock)(),(0,o.createBlock)("div",{class:"_keyValue",key:t[0]},[(0,o.createVNode)("button",{class:"_button",onClick:a=>e.showInstanceInfo(t[0])},(0,o.toDisplayString)(t[0]),9,["onClick"]),(0,o.createVNode)("div",M,(0,o.toDisplayString)(e.number(t[1]))+" jobs",1)])))),128))])])),_:1},8,["resize-base-el"]),(0,o.createVNode)(U,{connection:e.queueConnection,domain:"inbox",ref:"queue",class:"queue"},{title:i((()=>[(0,o.createVNode)(F,{icon:e.faExchangeAlt},null,8,["icon"]),L])),_:1},8,["connection"]),(0,o.createVNode)(U,{connection:e.queueConnection,domain:"deliver",class:"queue"},{title:i((()=>[(0,o.createVNode)(F,{icon:e.faExchangeAlt},null,8,["icon"]),T])),_:1},8,["connection"])],4)])),_:1})])}));var $=a(51436),A=a(17757),F=a.n(A),R=a(42453),W=a(66018),U=a(77121),H=a(69146),Z=a(44219),K=a(54354),Q=a(34862),P=a(59092),X=a(92906),O=a(61436),G=a(10192);const J=(e,t)=>{const a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return`rgba(${parseInt(a[1],16)}, ${parseInt(a[2],16)}, ${parseInt(a[3],16)}, ${t})`},Y=(0,o.defineComponent)({components:{MkButton:R.Z,MkSelect:W.Z,MkInput:U.Z,MkContainer:H.Z,MkFolder:Z.Z,MkwFederation:K.default},data:()=>({version:Q.i8,url:Q.HQ,stats:null,serverInfo:null,connection:null,queueConnection:G.Vw.useSharedConnection("queueStats"),memUsage:0,chartCpuMem:null,chartNet:null,jobs:[],logs:[],logLevel:"all",logDomain:"",modLogs:[],dbInfo:null,overviewHeight:"1fr",queueHeight:"1fr",paused:!1,faPlay:$.zc,faPause:$.XQY,faDatabase:$.t5N,faServer:$.xf3,faExchangeAlt:$.Ssp,faMicrochip:$.zvy,faHdd:$.vc8,faStream:$.aC2,faTrashAlt:$.I7k,faInfoCircle:$.sqG,faExclamationTriangle:$.eHv,faTachometerAlt:$.HLz,faHeartbeat:$.s2n,faClipboardList:$.OGB}),computed:{gridColor(){return this.$store.state.darkMode?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)"}},mounted(){this.fetchJobs(),F().defaults.global.defaultFontColor=getComputedStyle(document.documentElement).getPropertyValue("--fg"),G.hi("admin/server-info",{}).then((e=>{this.serverInfo=e,this.connection=G.Vw.useSharedConnection("serverStats"),this.connection.on("stats",this.onStats),this.connection.on("statsLog",this.onStatsLog),this.connection.send("requestLog",{id:Math.random().toString().substr(2,8),length:150}),this.$nextTick((()=>{this.queueConnection.send("requestLog",{id:Math.random().toString().substr(2,8),length:200})}))}))},beforeUnmount(){this.connection.off("stats",this.onStats),this.connection.off("statsLog",this.onStatsLog),this.connection.dispose(),this.queueConnection.dispose()},methods:{cpumem(e){null==this.chartCpuMem&&(this.chartCpuMem=(0,o.markRaw)(new(F())(e,{type:"line",data:{labels:[],datasets:[{label:"CPU",pointRadius:0,lineTension:0,borderWidth:2,borderColor:"#86b300",backgroundColor:J("#86b300",.1),data:[]},{label:"MEM (active)",pointRadius:0,lineTension:0,borderWidth:2,borderColor:"#935dbf",backgroundColor:J("#935dbf",.02),data:[]},{label:"MEM (used)",pointRadius:0,lineTension:0,borderWidth:2,borderColor:"#935dbf",borderDash:[5,5],fill:!1,data:[]}]},options:{aspectRatio:3,layout:{padding:{left:0,right:0,top:8,bottom:0}},legend:{position:"bottom",labels:{boxWidth:16}},scales:{xAxes:[{gridLines:{display:!1,color:this.gridColor,zeroLineColor:this.gridColor},ticks:{display:!1}}],yAxes:[{position:"right",gridLines:{display:!0,color:this.gridColor,zeroLineColor:this.gridColor},ticks:{display:!1,max:100}}]},tooltips:{intersect:!1,mode:"index"}}})))},net(e){null==this.chartNet&&(this.chartNet=(0,o.markRaw)(new(F())(e,{type:"line",data:{labels:[],datasets:[{label:"In",pointRadius:0,lineTension:0,borderWidth:2,borderColor:"#94a029",backgroundColor:J("#94a029",.1),data:[]},{label:"Out",pointRadius:0,lineTension:0,borderWidth:2,borderColor:"#ff9156",backgroundColor:J("#ff9156",.1),data:[]}]},options:{aspectRatio:3,layout:{padding:{left:0,right:0,top:8,bottom:0}},legend:{position:"bottom",labels:{boxWidth:16}},scales:{xAxes:[{gridLines:{display:!1,color:this.gridColor,zeroLineColor:this.gridColor},ticks:{display:!1}}],yAxes:[{position:"right",gridLines:{display:!0,color:this.gridColor,zeroLineColor:this.gridColor},ticks:{display:!1}}]},tooltips:{intersect:!1,mode:"index"}}})))},disk(e){null==this.chartDisk&&(this.chartDisk=(0,o.markRaw)(new(F())(e,{type:"line",data:{labels:[],datasets:[{label:"Read",pointRadius:0,lineTension:0,borderWidth:2,borderColor:"#94a029",backgroundColor:J("#94a029",.1),data:[]},{label:"Write",pointRadius:0,lineTension:0,borderWidth:2,borderColor:"#ff9156",backgroundColor:J("#ff9156",.1),data:[]}]},options:{aspectRatio:3,layout:{padding:{left:0,right:0,top:8,bottom:0}},legend:{position:"bottom",labels:{boxWidth:16}},scales:{xAxes:[{gridLines:{display:!1,color:this.gridColor,zeroLineColor:this.gridColor},ticks:{display:!1}}],yAxes:[{position:"right",gridLines:{display:!0,color:this.gridColor,zeroLineColor:this.gridColor},ticks:{display:!1}}]},tooltips:{intersect:!1,mode:"index"}}})))},async showInstanceInfo(e){let t=e;"string"==typeof e&&(t=await G.hi("federation/show-instance",{host:e})),G.gk(O.default,{instance:t},{},"closed")},fetchJobs(){G.hi("admin/queue/deliver-delayed",{}).then((e=>{this.jobs=e}))},onStats(e){if(this.paused)return;const t=(100*e.cpu).toFixed(0),a=(e.mem.active/this.serverInfo.mem.total*100).toFixed(0),o=(e.mem.used/this.serverInfo.mem.total*100).toFixed(0);this.memUsage=e.mem.active,this.chartCpuMem.data.labels.push(""),this.chartCpuMem.data.datasets[0].data.push(t),this.chartCpuMem.data.datasets[1].data.push(a),this.chartCpuMem.data.datasets[2].data.push(o),this.chartNet.data.labels.push(""),this.chartNet.data.datasets[0].data.push(e.net.rx),this.chartNet.data.datasets[1].data.push(e.net.tx),this.chartDisk.data.labels.push(""),this.chartDisk.data.datasets[0].data.push(e.fs.r),this.chartDisk.data.datasets[1].data.push(e.fs.w),this.chartCpuMem.data.datasets[0].data.length>150&&(this.chartCpuMem.data.labels.shift(),this.chartCpuMem.data.datasets[0].data.shift(),this.chartCpuMem.data.datasets[1].data.shift(),this.chartCpuMem.data.datasets[2].data.shift(),this.chartNet.data.labels.shift(),this.chartNet.data.datasets[0].data.shift(),this.chartNet.data.datasets[1].data.shift(),this.chartDisk.data.labels.shift(),this.chartDisk.data.datasets[0].data.shift(),this.chartDisk.data.datasets[1].data.shift()),this.chartCpuMem.update(),this.chartNet.update(),this.chartDisk.update()},onStatsLog(e){for(const t of[...e].reverse())this.onStats(t)},bytes:P.Z,number:X.Z,pause(){this.paused=!0},resume(){this.paused=!1}}});a(66930);Y.render=E,Y.__scopeId="data-v-62734c06";const ee=Y},26802:(e,t,a)=>{var o=a(58745);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("c323ceb2",o,!0,{})},7803:(e,t,a)=>{var o=a(27582);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("1c67ebb2",o,!0,{})},66930:(e,t,a)=>{var o=a(38506);"string"==typeof o&&(o=[[e.id,o,""]]),o.locals&&(e.exports=o.locals);(0,a(45346).Z)("001aebfa",o,!0,{})}}]);