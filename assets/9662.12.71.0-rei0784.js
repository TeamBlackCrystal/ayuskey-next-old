(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[9662],{84602:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".ebkgoccj[data-v-4b49273d]{overflow:hidden;display:flex;flex-direction:column;contain:content;--section-padding:24px}@media(max-width:500px){.ebkgoccj[data-v-4b49273d]{--section-padding:16px}}.ebkgoccj>.header[data-v-4b49273d]{display:flex;flex-shrink:0;box-shadow:0 1px var(--divider)}.ebkgoccj>.header>button[data-v-4b49273d]{height:58px;width:58px}@media(max-width:500px){.ebkgoccj>.header>button[data-v-4b49273d]{height:42px;width:42px}}.ebkgoccj>.header>.title[data-v-4b49273d]{flex:1;line-height:58px;padding-left:32px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;pointer-events:none}@media(max-width:500px){.ebkgoccj>.header>.title[data-v-4b49273d]{line-height:42px;padding-left:16px}}.ebkgoccj>.header>button+.title[data-v-4b49273d]{padding-left:0}.ebkgoccj>.body[data-v-4b49273d]{overflow:auto}",""]),e.exports=a},42842:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".ziffeoms[data-v-07df8238]{position:relative;display:flex;margin:32px 0;cursor:pointer;transition:all .3s}.ziffeoms[data-v-07df8238]:first-child{margin-top:0}.ziffeoms[data-v-07df8238]:last-child{margin-bottom:0}.ziffeoms>*[data-v-07df8238]{user-select:none}.ziffeoms.disabled[data-v-07df8238]{opacity:.6;cursor:not-allowed}.ziffeoms.checked>.button[data-v-07df8238]{background-color:var(--X10);border-color:var(--X10)}.ziffeoms.checked>.button>*[data-v-07df8238]{background-color:var(--accent);transform:translateX(14px)}.ziffeoms>input[data-v-07df8238]{position:absolute;width:0;height:0;opacity:0;margin:0}.ziffeoms>.button[data-v-07df8238]{position:relative;display:inline-block;flex-shrink:0;margin:3px 0 0;width:34px;height:14px;background:var(--X6);outline:none;border-radius:14px;transition:inherit}.ziffeoms>.button>*[data-v-07df8238]{position:absolute;top:-3px;left:0;border-radius:100%;transition:background-color .3s,transform .3s;width:20px;height:20px;background-color:#fff;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}.ziffeoms>.label[data-v-07df8238]{margin-left:8px;display:block;cursor:pointer;transition:inherit;color:var(--fg)}.ziffeoms>.label>span[data-v-07df8238]{display:block;line-height:20px;transition:inherit}.ziffeoms>.label>p[data-v-07df8238]{margin:0;opacity:.7;font-size:90%}",""]),e.exports=a},64409:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".cxqhhsmd>._section>.thumbnail[data-v-608b3cf6]{height:150px;max-width:100%}.cxqhhsmd>._section>.info[data-v-608b3cf6]{text-align:center;margin-top:8px}.cxqhhsmd>._section>.rawdata[data-v-608b3cf6]{overflow:auto}",""]),e.exports=a},26786:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var a=o(55393);const i=(0,a.withScopeId)("data-v-4b49273d");(0,a.pushScopeId)("data-v-4b49273d");const d={class:"header"},l={class:"title"},n={key:0,class:"body"},s={class:"_section"},c={key:1,class:"body"};(0,a.popScopeId)();const r=i(((e,t,o,r,p,f)=>{const h=(0,a.resolveComponent)("Fa"),u=(0,a.resolveComponent)("MkModal");return(0,a.openBlock)(),(0,a.createBlock)(u,{ref:"modal",onClick:t[5]||(t[5]=t=>e.$emit("click")),onClosed:t[6]||(t[6]=t=>e.$emit("closed"))},{default:i((()=>[(0,a.createVNode)("div",{class:"ebkgoccj _popup _narrow_",onKeydown:t[4]||(t[4]=(...t)=>e.onKeydown&&e.onKeydown(...t)),style:{width:e.width+"px",height:e.height?e.height+"px":null}},[(0,a.createVNode)("div",d,[e.withOkButton?((0,a.openBlock)(),(0,a.createBlock)("button",{key:0,class:"_button",onClick:t[1]||(t[1]=t=>e.$emit("close"))},[(0,a.createVNode)(h,{icon:e.faTimes},null,8,["icon"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)("span",l,[(0,a.renderSlot)(e.$slots,"header")]),e.withOkButton?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)("button",{key:1,class:"_button",onClick:t[2]||(t[2]=t=>e.$emit("close"))},[(0,a.createVNode)(h,{icon:e.faTimes},null,8,["icon"])])),e.withOkButton?((0,a.openBlock)(),(0,a.createBlock)("button",{key:2,class:"_button",onClick:t[3]||(t[3]=t=>e.$emit("ok")),disabled:e.okButtonDisabled},[(0,a.createVNode)(h,{icon:e.faCheck},null,8,["icon"])],8,["disabled"])):(0,a.createCommentVNode)("",!0)]),e.padding?((0,a.openBlock)(),(0,a.createBlock)("div",n,[(0,a.createVNode)("div",s,[(0,a.renderSlot)(e.$slots,"default")])])):((0,a.openBlock)(),(0,a.createBlock)("div",c,[(0,a.renderSlot)(e.$slots,"default")]))],36)])),_:3},512)}));var p=o(51436),f=o(89939);const h=(0,a.defineComponent)({components:{MkModal:f.Z},props:{withOkButton:{type:Boolean,required:!1,default:!1},okButtonDisabled:{type:Boolean,required:!1,default:!1},padding:{type:Boolean,required:!1,default:!1},width:{type:Number,required:!1,default:400},height:{type:Number,required:!1,default:null},canClose:{type:Boolean,required:!1,default:!0}},emits:["click","close","closed","ok"],data:()=>({faTimes:p.NBC,faCheck:p.LEp}),methods:{close(){this.$refs.modal.close()},onKeydown(e){27===e.which&&(e.preventDefault(),e.stopPropagation(),this.close())}}});o(70675);h.render=r,h.__scopeId="data-v-4b49273d";const u=h},83359:(e,t,o)=>{"use strict";o.d(t,{Z:()=>c});var a=o(55393);const i=(0,a.withScopeId)("data-v-07df8238");(0,a.pushScopeId)("data-v-07df8238");const d=(0,a.createVNode)("span",{class:"button"},[(0,a.createVNode)("span")],-1),l={class:"label"};(0,a.popScopeId)();const n=i(((e,t,o,i,n,s)=>((0,a.openBlock)(),(0,a.createBlock)("div",{class:["ziffeoms",{disabled:e.disabled,checked:e.checked}],role:"switch","aria-checked":e.checked,"aria-disabled":e.disabled,onClick:t[2]||(t[2]=(0,a.withModifiers)(((...t)=>e.toggle&&e.toggle(...t)),["prevent"]))},[(0,a.createVNode)("input",{type:"checkbox",ref:"input",disabled:e.disabled,onKeydown:t[1]||(t[1]=(0,a.withKeys)(((...t)=>e.toggle&&e.toggle(...t)),["enter"]))},null,40,["disabled"]),d,(0,a.createVNode)("span",l,[(0,a.createVNode)("span",null,[(0,a.renderSlot)(e.$slots,"default")]),(0,a.createVNode)("p",null,[(0,a.renderSlot)(e.$slots,"desc")])])],10,["aria-checked","aria-disabled"])))),s=(0,a.defineComponent)({props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{checked(){return this.value}},methods:{toggle(){this.disabled||this.$emit("update:value",!this.checked)}}});o(57483);s.render=n,s.__scopeId="data-v-07df8238";const c=s},1282:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>C});var a=o(55393);const i=(0,a.withScopeId)("data-v-608b3cf6");(0,a.pushScopeId)("data-v-608b3cf6");const d={key:0,class:"cxqhhsmd"},l={class:"_section"},n={class:"info"},s={style:{"margin-right":"1em"}},c={class:"_section"},r={class:"_content"},p=(0,a.createTextVNode)("NSFW"),f={class:"_section"},h={class:"_content"},u={key:0,class:"_section"},v={class:"_content rawdata"};(0,a.popScopeId)();const k=i(((e,t,o,k,m,b)=>{const g=(0,a.resolveComponent)("MkDriveFileThumbnail"),x=(0,a.resolveComponent)("MkTime"),w=(0,a.resolveComponent)("MkSwitch"),y=(0,a.resolveComponent)("Fa"),N=(0,a.resolveComponent)("MkButton"),V=(0,a.resolveComponent)("XModalWindow");return(0,a.openBlock)(),(0,a.createBlock)(V,{ref:"dialog",width:370,onClose:t[2]||(t[2]=t=>e.$refs.dialog.close()),onClosed:t[3]||(t[3]=t=>e.$emit("closed"))},(0,a.createSlots)({default:i((()=>[e.file?((0,a.openBlock)(),(0,a.createBlock)("div",d,[(0,a.createVNode)("div",l,[(0,a.createVNode)(g,{class:"thumbnail",file:e.file,fit:"contain"},null,8,["file"]),(0,a.createVNode)("div",n,[(0,a.createVNode)("span",s,(0,a.toDisplayString)(e.file.type),1),(0,a.createVNode)("span",null,(0,a.toDisplayString)(e.bytes(e.file.size)),1),(0,a.createVNode)(x,{time:e.file.createdAt,mode:"detail",style:{display:"block"}},null,8,["time"])])]),(0,a.createVNode)("div",c,[(0,a.createVNode)("div",r,[(0,a.createVNode)(w,{"onUpdate:value":[e.toggleIsSensitive,t[1]||(t[1]=t=>e.isSensitive=t)],value:e.isSensitive},{default:i((()=>[p])),_:1},8,["onUpdate:value","value"])])]),(0,a.createVNode)("div",f,[(0,a.createVNode)("div",h,[(0,a.createVNode)(N,{full:"",onClick:e.showUser},{default:i((()=>[(0,a.createVNode)(y,{icon:e.faExternalLinkSquareAlt},null,8,["icon"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$ts.user),1)])),_:1},8,["onClick"]),(0,a.createVNode)(N,{full:"",danger:"",onClick:e.del},{default:i((()=>[(0,a.createVNode)(y,{icon:e.faTrashAlt},null,8,["icon"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$ts.delete),1)])),_:1},8,["onClick"])])]),e.info?((0,a.openBlock)(),(0,a.createBlock)("div",u,[(0,a.createVNode)("details",v,[(0,a.createVNode)("pre",null,[(0,a.createVNode)("code",null,(0,a.toDisplayString)(JSON.stringify(e.info,null,2)),1)])])])):(0,a.createCommentVNode)("",!0)])):(0,a.createCommentVNode)("",!0)])),_:2},[e.file?{name:"header",fn:i((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.file.name),1)]))}:void 0]),1536)}));var m=o(51436),b=o(56024),g=o(42453),x=o(83359),w=o(26786),y=o(797),N=o(13885),V=o(59092),S=o(10192);const B=(0,a.defineComponent)({components:{MkButton:g.Z,MkSwitch:x.Z,XModalWindow:w.Z,MkDriveFileThumbnail:y.Z},props:{fileId:{required:!0}},emits:["closed"],data:()=>({file:null,info:null,isSensitive:!1,faTimes:m.NBC,faBookmark:m.xVw,farBookmark:b.xV,faKey:m.DD4,faSync:m.UO1,faMicrophoneSlash:m.EkX,faSnowflake:b.jO,faTrashAlt:b.I7,faExternalLinkSquareAlt:m.cyx}),created(){this.fetch()},methods:{async fetch(){N.Z.start(),this.file=await S.hi("drive/files/show",{fileId:this.fileId}),this.info=await S.hi("admin/drive/show-file",{fileId:this.fileId}),this.isSensitive=this.file.isSensitive,N.Z.done()},showUser(){S.gk(o.e(5091).then(o.bind(o,64279)),{userId:this.file.userId},{},"closed")},async del(){const{canceled:e}=await S.WZ({type:"warning",text:this.$t("removeAreYouSure",{x:this.file.name}),showCancelButton:!0});e||S.hi("drive/files/delete",{fileId:this.file.id}).then((()=>{this.$refs.files.removeItem((e=>e.id===this.file.id))}))},async toggleIsSensitive(e){await S.hi("drive/files/update",{fileId:this.fileId,isSensitive:e}),this.isSensitive=e},bytes:V.Z}});o(42323);B.render=k,B.__scopeId="data-v-608b3cf6";const C=B},70675:(e,t,o)=>{var a=o(84602);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("58d1b0c9",a,!0,{})},57483:(e,t,o)=>{var a=o(42842);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("01747328",a,!0,{})},42323:(e,t,o)=>{var a=o(64409);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("53e08a71",a,!0,{})}}]);