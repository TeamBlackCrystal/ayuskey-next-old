(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[2907],{84602:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".ebkgoccj[data-v-4b49273d]{overflow:hidden;display:flex;flex-direction:column;contain:content;--section-padding:24px}@media(max-width:500px){.ebkgoccj[data-v-4b49273d]{--section-padding:16px}}.ebkgoccj>.header[data-v-4b49273d]{display:flex;flex-shrink:0;box-shadow:0 1px var(--divider)}.ebkgoccj>.header>button[data-v-4b49273d]{height:58px;width:58px}@media(max-width:500px){.ebkgoccj>.header>button[data-v-4b49273d]{height:42px;width:42px}}.ebkgoccj>.header>.title[data-v-4b49273d]{flex:1;line-height:58px;padding-left:32px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;pointer-events:none}@media(max-width:500px){.ebkgoccj>.header>.title[data-v-4b49273d]{line-height:42px;padding-left:16px}}.ebkgoccj>.header>button+.title[data-v-4b49273d]{padding-left:0}.ebkgoccj>.body[data-v-4b49273d]{overflow:auto}",""]),e.exports=a},11277:(e,t,o)=>{var a=o(23645)((function(e){return e[1]}));a.push([e.id,".yigymqpb>.img[data-v-29861304]{display:block;height:64px;margin:0 auto}",""]),e.exports=a},26786:(e,t,o)=>{"use strict";o.d(t,{Z:()=>m});var a=o(55393);const d=(0,a.withScopeId)("data-v-4b49273d");(0,a.pushScopeId)("data-v-4b49273d");const i={class:"header"},n={class:"title"},s={key:0,class:"body"},l={class:"_section"},c={key:1,class:"body"};(0,a.popScopeId)();const r=d(((e,t,o,r,p,u)=>{const h=(0,a.resolveComponent)("Fa"),m=(0,a.resolveComponent)("MkModal");return(0,a.openBlock)(),(0,a.createBlock)(m,{ref:"modal",onClick:t[5]||(t[5]=t=>e.$emit("click")),onClosed:t[6]||(t[6]=t=>e.$emit("closed"))},{default:d((()=>[(0,a.createVNode)("div",{class:"ebkgoccj _popup _narrow_",onKeydown:t[4]||(t[4]=(...t)=>e.onKeydown&&e.onKeydown(...t)),style:{width:e.width+"px",height:e.height?e.height+"px":null}},[(0,a.createVNode)("div",i,[e.withOkButton?((0,a.openBlock)(),(0,a.createBlock)("button",{key:0,class:"_button",onClick:t[1]||(t[1]=t=>e.$emit("close"))},[(0,a.createVNode)(h,{icon:e.faTimes},null,8,["icon"])])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)("span",n,[(0,a.renderSlot)(e.$slots,"header")]),e.withOkButton?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createBlock)("button",{key:1,class:"_button",onClick:t[2]||(t[2]=t=>e.$emit("close"))},[(0,a.createVNode)(h,{icon:e.faTimes},null,8,["icon"])])),e.withOkButton?((0,a.openBlock)(),(0,a.createBlock)("button",{key:2,class:"_button",onClick:t[3]||(t[3]=t=>e.$emit("ok")),disabled:e.okButtonDisabled},[(0,a.createVNode)(h,{icon:e.faCheck},null,8,["icon"])],8,["disabled"])):(0,a.createCommentVNode)("",!0)]),e.padding?((0,a.openBlock)(),(0,a.createBlock)("div",s,[(0,a.createVNode)("div",l,[(0,a.renderSlot)(e.$slots,"default")])])):((0,a.openBlock)(),(0,a.createBlock)("div",c,[(0,a.renderSlot)(e.$slots,"default")]))],36)])),_:3},512)}));var p=o(51436),u=o(89939);const h=(0,a.defineComponent)({components:{MkModal:u.Z},props:{withOkButton:{type:Boolean,required:!1,default:!1},okButtonDisabled:{type:Boolean,required:!1,default:!1},padding:{type:Boolean,required:!1,default:!1},width:{type:Number,required:!1,default:400},height:{type:Number,required:!1,default:null},canClose:{type:Boolean,required:!1,default:!0}},emits:["click","close","closed","ok"],data:()=>({faTimes:p.NBC,faCheck:p.LEp}),methods:{close(){this.$refs.modal.close()},onKeydown(e){27===e.which&&(e.preventDefault(),e.stopPropagation(),this.close())}}});o(70675);h.render=r,h.__scopeId="data-v-4b49273d";const m=h},8145:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>m});var a=o(55393);const d=(0,a.withScopeId)("data-v-29861304");(0,a.pushScopeId)("data-v-29861304");const i={class:"yigymqpb _section"};(0,a.popScopeId)();const n=d(((e,t,o,n,s,l)=>{const c=(0,a.resolveComponent)("MkInput"),r=(0,a.resolveComponent)("Fa"),p=(0,a.resolveComponent)("MkButton"),u=(0,a.resolveComponent)("XModalWindow");return(0,a.openBlock)(),(0,a.createBlock)(u,{ref:"dialog",width:370,"with-ok-button":!0,onClose:t[5]||(t[5]=t=>e.$refs.dialog.close()),onClosed:t[6]||(t[6]=t=>e.$emit("closed")),onOk:t[7]||(t[7]=t=>e.ok())},{header:d((()=>[(0,a.createTextVNode)(":"+(0,a.toDisplayString)(e.emoji.name)+":",1)])),default:d((()=>[(0,a.createVNode)("div",i,[(0,a.createVNode)("img",{src:e.emoji.url,class:"img"},null,8,["src"]),(0,a.createVNode)(c,{value:e.name,"onUpdate:value":t[1]||(t[1]=t=>e.name=t)},{default:d((()=>[(0,a.createVNode)("span",null,(0,a.toDisplayString)(e.$ts.name),1)])),_:1},8,["value"]),(0,a.createVNode)(c,{value:e.category,"onUpdate:value":t[2]||(t[2]=t=>e.category=t),datalist:e.categories},{default:d((()=>[(0,a.createVNode)("span",null,(0,a.toDisplayString)(e.$ts.category),1)])),_:1},8,["value","datalist"]),(0,a.createVNode)(c,{value:e.aliases,"onUpdate:value":t[3]||(t[3]=t=>e.aliases=t)},{desc:d((()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.$ts.setMultipleBySeparatingWithSpace),1)])),default:d((()=>[(0,a.createVNode)("span",null,(0,a.toDisplayString)(e.$ts.tags),1)])),_:1},8,["value"]),(0,a.createVNode)(p,{danger:"",onClick:t[4]||(t[4]=t=>e.del())},{default:d((()=>[(0,a.createVNode)(r,{icon:e.faTrashAlt},null,8,["icon"]),(0,a.createTextVNode)(" "+(0,a.toDisplayString)(e.$ts.delete),1)])),_:1})])])),_:1},512)}));var s=o(56024),l=o(26786),c=o(42453),r=o(77121),p=o(10192),u=o(25300);const h=(0,a.defineComponent)({components:{XModalWindow:l.Z,MkButton:c.Z,MkInput:r.Z},props:{emoji:{required:!0}},emits:["done","closed"],data(){var e;return{name:this.emoji.name,category:this.emoji.category,aliases:null===(e=this.emoji.aliases)||void 0===e?void 0:e.join(" "),categories:[],faTrashAlt:s.I7}},created(){p.hi("meta",{detail:!1}).then((({emojis:e})=>{this.categories=(0,u.Tw)(e.map((e=>e.category||"")).filter((e=>""!==e)))}))},methods:{ok(){this.update()},async update(){await p.Zv("admin/emoji/update",{id:this.emoji.id,name:this.name,category:this.category,aliases:this.aliases.split(" ")}),this.$emit("done",{updated:{name:this.name,category:this.category,aliases:this.aliases.split(" ")}}),this.$refs.dialog.close()},async del(){const{canceled:e}=await p.WZ({type:"warning",text:this.$t("removeAreYouSure",{x:this.emoji.name}),showCancelButton:!0});e||p.hi("admin/emoji/remove",{id:this.emoji.id}).then((()=>{this.$emit("done",{deleted:!0}),this.$refs.dialog.close()}))}}});o(42908);h.render=n,h.__scopeId="data-v-29861304";const m=h},70675:(e,t,o)=>{var a=o(84602);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("58d1b0c9",a,!0,{})},42908:(e,t,o)=>{var a=o(11277);"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,o(45346).Z)("5fc74510",a,!0,{})}}]);