(self.webpackChunkmisskey=self.webpackChunkmisskey||[]).push([[1650],{79382:(e,t,o)=>{var n=o(23645)((function(e){return e[1]}));n.push([e.id,".window-enter-active[data-v-0a892344],.window-leave-active[data-v-0a892344]{transition:opacity .3s,transform .3s!important}.window-enter-from[data-v-0a892344],.window-leave-to[data-v-0a892344]{pointer-events:none;opacity:0;transform:scale(.9)}.ebkgocck[data-v-0a892344]{position:fixed;top:0;left:0;z-index:5000}.ebkgocck>.body[data-v-0a892344]{overflow:hidden;display:flex;flex-direction:column;contain:content;width:100%;height:100%}.ebkgocck>.body>.header[data-v-0a892344]{display:flex;position:relative;z-index:1;flex-shrink:0;user-select:none;height:50px}.ebkgocck>.body>.header[data-v-0a892344]> button{height:50px;width:50px}.ebkgocck>.body>.header[data-v-0a892344]> button:hover{color:var(--fgHighlighted)}.ebkgocck>.body>.header>.title[data-v-0a892344]{flex:1;position:relative;line-height:50px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;cursor:move}.ebkgocck>.body>.body[data-v-0a892344]{flex:1;overflow:auto}.ebkgocck>.handle[data-v-0a892344]{position:absolute}.ebkgocck>.handle.top[data-v-0a892344]{top:-8px;left:0;width:100%;height:8px;cursor:ns-resize}.ebkgocck>.handle.right[data-v-0a892344]{top:0;right:-8px;width:8px;height:100%;cursor:ew-resize}.ebkgocck>.handle.bottom[data-v-0a892344]{bottom:-8px;left:0;width:100%;height:8px;cursor:ns-resize}.ebkgocck>.handle.left[data-v-0a892344]{top:0;left:-8px;width:8px;height:100%;cursor:ew-resize}.ebkgocck>.handle.top-left[data-v-0a892344]{top:-8px;left:-8px;width:16px;height:16px;cursor:nwse-resize}.ebkgocck>.handle.top-right[data-v-0a892344]{top:-8px;right:-8px;width:16px;height:16px;cursor:nesw-resize}.ebkgocck>.handle.bottom-right[data-v-0a892344]{bottom:-8px;right:-8px;width:16px;height:16px;cursor:nwse-resize}.ebkgocck>.handle.bottom-left[data-v-0a892344]{bottom:-8px;left:-8px;width:16px;height:16px;cursor:nesw-resize}",""]),e.exports=n},32174:(e,t,o)=>{"use strict";o.d(t,{Z:()=>n});const n=(e,t,o=!0)=>{if(o&&e===t)return!0;let n=t.parentNode;for(;n;){if(n==e)return!0;n=n.parentNode}return!1}},91650:(e,t,o)=>{"use strict";o.d(t,{Z:()=>y});var n=o(55393);const i=(0,n.withScopeId)("data-v-0a892344");(0,n.pushScopeId)("data-v-0a892344");const s={key:0,class:"ebkgocck"},d=(0,n.createVNode)("button",{class:"_button",style:{"pointer-events":"none"}},null,-1),a=(0,n.createVNode)("button",{class:"_button",style:{"pointer-events":"none"}},null,-1),l={key:0,class:"body"},r={class:"_section"},h={key:1,class:"body"};(0,n.popScopeId)();const p=i(((e,t,o,p,c,u)=>{const w=(0,n.resolveComponent)("Fa");return(0,n.openBlock)(),(0,n.createBlock)(n.Transition,{name:e.$store.state.animation?"window":"",appear:"",onAfterLeave:t[16]||(t[16]=t=>e.$emit("closed"))},{default:i((()=>[e.showing?((0,n.openBlock)(),(0,n.createBlock)("div",s,[(0,n.createVNode)("div",{class:"body _popup _shadow _narrow_",onMousedown:t[6]||(t[6]=(...t)=>e.onBodyMousedown&&e.onBodyMousedown(...t)),onKeydown:t[7]||(t[7]=(...t)=>e.onKeydown&&e.onKeydown(...t))},[(0,n.createVNode)("div",{class:"header",onContextmenu:t[5]||(t[5]=(0,n.withModifiers)(((...t)=>e.onContextmenu&&e.onContextmenu(...t)),["prevent","stop"]))},[e.closeRight?(0,n.renderSlot)(e.$slots,"buttons",{key:0},(()=>[d])):((0,n.openBlock)(),(0,n.createBlock)("button",{key:1,class:"_button",onClick:t[1]||(t[1]=t=>e.close())},[(0,n.createVNode)(w,{icon:e.faTimes},null,8,["icon"])])),(0,n.createVNode)("span",{class:"title",onMousedown:t[2]||(t[2]=(0,n.withModifiers)(((...t)=>e.onHeaderMousedown&&e.onHeaderMousedown(...t)),["prevent"])),onTouchstart:t[3]||(t[3]=(0,n.withModifiers)(((...t)=>e.onHeaderMousedown&&e.onHeaderMousedown(...t)),["prevent"]))},[(0,n.renderSlot)(e.$slots,"header")],32),e.closeRight?((0,n.openBlock)(),(0,n.createBlock)("button",{key:2,class:"_button",onClick:t[4]||(t[4]=t=>e.close())},[(0,n.createVNode)(w,{icon:e.faTimes},null,8,["icon"])])):(0,n.renderSlot)(e.$slots,"buttons",{key:3},(()=>[a]))],32),e.padding?((0,n.openBlock)(),(0,n.createBlock)("div",l,[(0,n.createVNode)("div",r,[(0,n.renderSlot)(e.$slots,"default")])])):((0,n.openBlock)(),(0,n.createBlock)("div",h,[(0,n.renderSlot)(e.$slots,"default")]))],32),e.canResize?((0,n.openBlock)(),(0,n.createBlock)(n.Fragment,{key:0},[(0,n.createVNode)("div",{class:"handle top",onMousedown:t[8]||(t[8]=(0,n.withModifiers)(((...t)=>e.onTopHandleMousedown&&e.onTopHandleMousedown(...t)),["prevent"]))},null,32),(0,n.createVNode)("div",{class:"handle right",onMousedown:t[9]||(t[9]=(0,n.withModifiers)(((...t)=>e.onRightHandleMousedown&&e.onRightHandleMousedown(...t)),["prevent"]))},null,32),(0,n.createVNode)("div",{class:"handle bottom",onMousedown:t[10]||(t[10]=(0,n.withModifiers)(((...t)=>e.onBottomHandleMousedown&&e.onBottomHandleMousedown(...t)),["prevent"]))},null,32),(0,n.createVNode)("div",{class:"handle left",onMousedown:t[11]||(t[11]=(0,n.withModifiers)(((...t)=>e.onLeftHandleMousedown&&e.onLeftHandleMousedown(...t)),["prevent"]))},null,32),(0,n.createVNode)("div",{class:"handle top-left",onMousedown:t[12]||(t[12]=(0,n.withModifiers)(((...t)=>e.onTopLeftHandleMousedown&&e.onTopLeftHandleMousedown(...t)),["prevent"]))},null,32),(0,n.createVNode)("div",{class:"handle top-right",onMousedown:t[13]||(t[13]=(0,n.withModifiers)(((...t)=>e.onTopRightHandleMousedown&&e.onTopRightHandleMousedown(...t)),["prevent"]))},null,32),(0,n.createVNode)("div",{class:"handle bottom-right",onMousedown:t[14]||(t[14]=(0,n.withModifiers)(((...t)=>e.onBottomRightHandleMousedown&&e.onBottomRightHandleMousedown(...t)),["prevent"]))},null,32),(0,n.createVNode)("div",{class:"handle bottom-left",onMousedown:t[15]||(t[15]=(0,n.withModifiers)(((...t)=>e.onBottomLeftHandleMousedown&&e.onBottomLeftHandleMousedown(...t)),["prevent"]))},null,32)],64)):(0,n.createCommentVNode)("",!0)])):(0,n.createCommentVNode)("",!0)])),_:1},8,["name"])}));var c=o(51436),u=o(32174),w=o(10192);const f=250;function m(e){window.addEventListener("mousemove",e),window.addEventListener("touchmove",e),window.addEventListener("mouseleave",g.bind(null,e)),window.addEventListener("mouseup",g.bind(null,e)),window.addEventListener("touchend",g.bind(null,e))}function g(e){window.removeEventListener("mousemove",e),window.removeEventListener("touchmove",e),window.removeEventListener("mouseleave",g),window.removeEventListener("mouseup",g),window.removeEventListener("touchend",g)}const v=(0,n.defineComponent)({provide:{inWindow:!0},props:{padding:{type:Boolean,required:!1,default:!1},initialWidth:{type:Number,required:!1,default:400},initialHeight:{type:Number,required:!1,default:null},canResize:{type:Boolean,required:!1,default:!1},closeRight:{type:Boolean,required:!1,default:!1},contextmenu:{type:Array,required:!1}},emits:["closed"],data:()=>({showing:!0,id:Math.random().toString(),faTimes:c.NBC}),mounted(){this.initialWidth&&this.applyTransformWidth(this.initialWidth),this.initialHeight&&this.applyTransformHeight(this.initialHeight),this.applyTransformTop(window.innerHeight/2-this.$el.offsetHeight/2),this.applyTransformLeft(window.innerWidth/2-this.$el.offsetWidth/2),w.$7.set(this.id,{z:Number(document.defaultView.getComputedStyle(this.$el,null).zIndex)}),this.top(),window.addEventListener("resize",this.onBrowserResize)},unmounted(){w.$7.delete(this.id),window.removeEventListener("resize",this.onBrowserResize)},methods:{close(){this.showing=!1},onKeydown(e){27===e.which&&(e.preventDefault(),e.stopPropagation(),this.close())},onContextmenu(e){this.contextmenu&&w.zC(this.contextmenu,e)},top(){let e=0;const t=Array.from(w.$7.entries()).filter((([e,t])=>e!==this.id)).map((([e,t])=>t));for(const o of t)o.z>e&&(e=o.z);e>0&&(this.$el.style.zIndex=e+1,w.$7.set(this.id,{z:e+1}))},onBodyMousedown(){this.top()},onHeaderMousedown(e){const t=this.$el;(0,u.Z)(t,document.activeElement)||t.focus();const o=t.getBoundingClientRect(),n=e.touches&&e.touches.length>0?e.touches[0].clientX:e.clientX,i=e.touches&&e.touches.length>0?e.touches[0].clientY:e.clientY,s=n-o.left,d=i-o.top,a=window.innerWidth,l=window.innerHeight,r=t.offsetWidth,h=t.offsetHeight;m((e=>{const t=e.touches&&e.touches.length>0?e.touches[0].clientX:e.clientX,o=e.touches&&e.touches.length>0?e.touches[0].clientY:e.clientY;let n=t-s,i=o-d;i+h>l&&(i=l-h),n<0&&(n=0),i<0&&(i=0),n+r>a&&(n=a-r),this.$el.style.left=n+"px",this.$el.style.top=i+"px"}))},onTopHandleMousedown(e){const t=this.$el,o=e.clientY,n=parseInt(getComputedStyle(t,"").height,10),i=parseInt(getComputedStyle(t,"").top,10);m((e=>{const t=e.clientY-o;i+t>0?n+-t>50?(this.applyTransformHeight(n+-t),this.applyTransformTop(i+t)):(this.applyTransformHeight(50),this.applyTransformTop(i+(n-50))):(this.applyTransformHeight(i+n),this.applyTransformTop(0))}))},onRightHandleMousedown(e){const t=this.$el,o=e.clientX,n=parseInt(getComputedStyle(t,"").width,10),i=parseInt(getComputedStyle(t,"").left,10),s=window.innerWidth;m((e=>{const t=e.clientX-o;i+n+t<s?n+t>f?this.applyTransformWidth(n+t):this.applyTransformWidth(f):this.applyTransformWidth(s-i)}))},onBottomHandleMousedown(e){const t=this.$el,o=e.clientY,n=parseInt(getComputedStyle(t,"").height,10),i=parseInt(getComputedStyle(t,"").top,10),s=window.innerHeight;m((e=>{const t=e.clientY-o;i+n+t<s?n+t>50?this.applyTransformHeight(n+t):this.applyTransformHeight(50):this.applyTransformHeight(s-i)}))},onLeftHandleMousedown(e){const t=this.$el,o=e.clientX,n=parseInt(getComputedStyle(t,"").width,10),i=parseInt(getComputedStyle(t,"").left,10);m((e=>{const t=e.clientX-o;i+t>0?n+-t>f?(this.applyTransformWidth(n+-t),this.applyTransformLeft(i+t)):(this.applyTransformWidth(f),this.applyTransformLeft(i+(n-f))):(this.applyTransformWidth(i+n),this.applyTransformLeft(0))}))},onTopLeftHandleMousedown(e){this.onTopHandleMousedown(e),this.onLeftHandleMousedown(e)},onTopRightHandleMousedown(e){this.onTopHandleMousedown(e),this.onRightHandleMousedown(e)},onBottomRightHandleMousedown(e){this.onBottomHandleMousedown(e),this.onRightHandleMousedown(e)},onBottomLeftHandleMousedown(e){this.onBottomHandleMousedown(e),this.onLeftHandleMousedown(e)},applyTransformHeight(e){e>window.innerHeight&&(e=window.innerHeight),this.$el.style.height=e+"px"},applyTransformWidth(e){e>window.innerWidth&&(e=window.innerWidth),this.$el.style.width=e+"px"},applyTransformTop(e){this.$el.style.top=e+"px"},applyTransformLeft(e){this.$el.style.left=e+"px"},onBrowserResize(){const e=this.$el,t=e.getBoundingClientRect(),o=window.innerWidth,n=window.innerHeight,i=e.offsetWidth,s=e.offsetHeight;t.left<0&&(e.style.left=0),t.top+s>n&&(e.style.top=n-s+"px"),t.left+i>o&&(e.style.left=o-i+"px"),t.top<0&&(e.style.top=0)}}});o(2726);v.render=p,v.__scopeId="data-v-0a892344";const y=v},2726:(e,t,o)=>{var n=o(79382);"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,o(45346).Z)("8c88721a",n,!0,{})}}]);